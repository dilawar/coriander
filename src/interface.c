/*
 * DO NOT EDIT THIS FILE - it is generated by Glade.
 */

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <string.h>

#include <gnome.h>

#include "callbacks.h"
#include "interface.h"
#include "support.h"

static GnomeUIInfo file_menu_uiinfo[] =
{
  GNOMEUIINFO_MENU_PREFERENCES_ITEM (on_preferences_window_activate, NULL),
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_ITEM, N_("E_xit"),
    NULL,
    (gpointer) on_exit_activate, NULL, NULL,
    GNOME_APP_PIXMAP_STOCK, GNOME_STOCK_MENU_EXIT,
    GDK_x, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo help_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_ITEM, N_("_Key bindings"),
    NULL,
    (gpointer) on_key_bindings_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_MENU_ABOUT_ITEM (on_about_activate, NULL),
  GNOMEUIINFO_END
};

static GnomeUIInfo menubar_uiinfo[] =
{
  {
    GNOME_APP_UI_SUBTREE, N_("_File"),
    NULL,
    file_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_MENU_HELP_TREE (help_menu_uiinfo),
  GNOMEUIINFO_END
};

GtkWidget*
create_main_window (void)
{
  GtkWidget *main_window;
  GtkWidget *vbox26;
  GtkWidget *menubar;
  GtkWidget *notebook2;
  GtkWidget *vbox74;
  GtkWidget *table58;
  GtkWidget *camera_select_frame;
  GtkWidget *table9;
  GtkWidget *camera_select;
  GtkWidget *camera_select_menu;
  GtkWidget *glade_menuitem;
  GtkWidget *hbox60;
  GtkWidget *power_frame;
  GtkWidget *vbox20;
  GtkWidget *power_on;
  GtkWidget *power_off;
  GtkWidget *power_reset;
  GtkWidget *memory_frame;
  GtkWidget *table16;
  GtkWidget *memory_channel;
  GtkWidget *memory_channel_menu;
  GtkWidget *load_mem;
  GtkWidget *save_mem;
  GtkWidget *global_iso_frame;
  GtkWidget *table72;
  GtkWidget *global_iso_start;
  GtkWidget *global_iso_stop;
  GtkWidget *global_iso_restart;
  GtkWidget *sync_control_button;
  GtkWidget *frame2;
  GtkWidget *table48;
  GtkWidget *label1;
  GtkWidget *label2;
  GtkWidget *camera_model_status;
  GtkWidget *camera_vendor_status;
  GtkWidget *camera_dc_status;
  GtkWidget *camera_maxiso_status;
  GtkWidget *camera_handle_status;
  GtkWidget *camera_pwclass_status;
  GtkWidget *camera_delay_status;
  GtkWidget *camera_node_status;
  GtkWidget *label31;
  GtkWidget *label93;
  GtkWidget *camera_name_text;
  GtkWidget *iso_channel_status;
  GtkWidget *label34;
  GtkWidget *label32;
  GtkWidget *label3;
  GtkWidget *label18;
  GtkWidget *label35;
  GtkWidget *label33;
  GtkWidget *label17;
  GtkWidget *camera_guid_status;
  GtkWidget *label56;
  GtkWidget *vbox75;
  GtkWidget *vbox78;
  GtkWidget *switch_frame;
  GtkWidget *hbox61;
  GtkWidget *table65;
  GtkWidget *fps_display;
  GtkWidget *fps_save;
  GtkWidget *fps_receive;
  GtkWidget *service_iso;
  GtkWidget *service_display;
  GtkWidget *service_save;
  GtkWidget *service_ftp;
  GtkWidget *fps_ftp;
  GtkWidget *fps_v4l;
  GtkWidget *service_v4l;
  GtkWidget *notebook5;
  GtkWidget *table59;
  GtkWidget *format_frame;
  GtkWidget *table60;
  GtkWidget *format_select;
  GtkWidget *format_select_menu;
  GtkWidget *prefs_receive_frame;
  GtkWidget *table45;
  GtkWidget *label84;
  GtkWidget *prefs_receive_method_menu;
  GtkWidget *prefs_receive_method_menu_menu;
  GtkWidget *hbox68;
  GtkWidget *label153;
  GtkObject *dma_buffer_size_adj;
  GtkWidget *dma_buffer_size;
  GtkWidget *label154;
  GtkWidget *prefs_receive_dropframes;
  GtkWidget *prefs_video1394_device;
  GtkWidget *hbox59;
  GtkWidget *iso_frame;
  GtkWidget *table62;
  GtkWidget *label116;
  GtkWidget *iso_stop;
  GtkWidget *iso_restart;
  GtkWidget *iso_start;
  GtkWidget *trigger_frame;
  GtkWidget *table17;
  GtkWidget *trigger_mode;
  GtkWidget *trigger_mode_menu;
  GtkWidget *fps_menu;
  GtkWidget *fps_menu_menu;
  GtkWidget *label16;
  GtkObject *trigger_count_adj;
  GtkWidget *trigger_count;
  GtkWidget *trigger_external;
  GtkWidget *trigger_polarity;
  GtkWidget *image_options_frame;
  GtkWidget *table61;
  GtkWidget *bayer_menu;
  GtkWidget *bayer_menu_menu;
  GtkWidget *pattern_menu;
  GtkWidget *pattern_menu_menu;
  GtkObject *mono16_bpp_adj;
  GtkWidget *mono16_bpp;
  GtkWidget *label114;
  GtkWidget *stereo_menu;
  GtkWidget *stereo_menu_menu;
  GtkWidget *label143;
  GtkWidget *vbox53;
  GtkWidget *prefs_display_framedrop;
  GtkWidget *hbox55;
  GtkWidget *label77;
  GtkObject *prefs_display_period_adj;
  GtkWidget *prefs_display_period;
  GtkWidget *label74;
  GtkWidget *frame1;
  GtkWidget *vbox64;
  GtkWidget *prefs_display_keep_ratio;
  GtkWidget *hbox69;
  GtkWidget *display_redraw;
  GtkObject *display_redraw_rate_adj;
  GtkWidget *display_redraw_rate;
  GtkWidget *label155;
  GtkWidget *frame11;
  GtkWidget *table80;
  GtkWidget *overlay_pattern_menu;
  GtkWidget *overlay_pattern_menu_menu;
  GtkWidget *overlay_type_menu;
  GtkWidget *overlay_type_menu_menu;
  GtkWidget *overlay_color_picker;
  GtkWidget *overlay_file_entry;
  GtkWidget *combo_entry1;
  GtkWidget *label144;
  GtkWidget *vbox54;
  GtkWidget *prefs_save_file_frame;
  GtkWidget *save_filename_entry;
  GtkWidget *combo_entry2;
  GtkWidget *prefs_save_framedrop;
  GtkWidget *hbox_capture_freq_periodic;
  GtkWidget *label76;
  GtkObject *prefs_save_period_adj;
  GtkWidget *prefs_save_period;
  GtkWidget *label42;
  GtkWidget *prefs_save_scratch_frame;
  GtkWidget *table74;
  GSList *save_mode_group = NULL;
  GtkWidget *prefs_save_seq;
  GtkWidget *prefs_save_scratch;
  GtkWidget *prefs_save_video;
  GtkWidget *hbox66;
  GSList *save_datenum_group = NULL;
  GtkWidget *prefs_save_date_tag;
  GtkWidget *prefs_save_num_tag;
  GtkWidget *use_ram_buffer;
  GtkWidget *hbox67;
  GtkWidget *prefs_save_convert_frame;
  GtkWidget *vbox71;
  GSList *save_convert_group = NULL;
  GtkWidget *prefs_save_convert;
  GtkWidget *prefs_save_noconvert;
  GtkWidget *ram_buffer_frame;
  GtkWidget *table75;
  GtkObject *ram_buffer_size_adj;
  GtkWidget *ram_buffer_size;
  GtkWidget *label152;
  GtkWidget *malloc_test;
  GtkWidget *label145;
  GtkWidget *vbox79;
  GtkWidget *frame9;
  GtkWidget *hbox63;
  GtkWidget *label149;
  GtkObject *prefs_v4l_period_adj;
  GtkWidget *prefs_v4l_period;
  GtkWidget *label150;
  GtkWidget *v4l_output_device_frame;
  GtkWidget *hbox64;
  GtkWidget *prefs_v4l_dev_name;
  GtkWidget *label146;
  GtkWidget *vbox55;
  GtkWidget *prefs_ftp_server_frame;
  GtkWidget *table_capture_ftp;
  GtkWidget *label_ftp_address;
  GtkWidget *label_ftp_path;
  GtkWidget *label_ftp_user;
  GtkWidget *label_ftp_passwd;
  GtkWidget *prefs_ftp_path;
  GtkWidget *prefs_ftp_user;
  GtkWidget *prefs_ftp_password;
  GtkWidget *label54;
  GtkWidget *prefs_ftp_address;
  GtkWidget *prefs_ftp_filename;
  GtkWidget *prefs_ftp_framedrop_frame;
  GtkWidget *hbox52;
  GtkWidget *label75;
  GtkObject *prefs_ftp_period_adj;
  GtkWidget *prefs_ftp_period;
  GtkWidget *label55;
  GtkWidget *prefs_ftp_scratch_frame;
  GtkWidget *table73;
  GSList *ftp_mode_group = NULL;
  GtkWidget *prefs_ftp_seq;
  GtkWidget *prefs_ftp_scratch;
  GtkWidget *hbox65;
  GSList *ftp_datenum_group = NULL;
  GtkWidget *prefs_ftp_date_tag;
  GtkWidget *prefs_ftp_num_tag;
  GtkWidget *label148;
  GtkWidget *label57;
  GtkWidget *scrolledwindow2;
  GtkWidget *viewport1;
  GtkWidget *vbox_features;
  GtkWidget *auto_exposure_frame;
  GtkWidget *table33;
  GtkWidget *auto_exposure_scale;
  GtkWidget *auto_exposure_menu;
  GtkWidget *auto_exposure_menu_menu;
  GtkWidget *temperature_frame;
  GtkWidget *table39;
  GtkWidget *temperature_current_scale;
  GtkWidget *temperature_target_scale;
  GtkWidget *temperature_menu;
  GtkWidget *temperature_menu_menu;
  GtkWidget *label81;
  GtkWidget *label82;
  GtkWidget *white_balance_frame;
  GtkWidget *table38;
  GtkWidget *white_balance_BU_scale;
  GtkWidget *white_balance_RV_scale;
  GtkWidget *white_balance_menu;
  GtkWidget *white_balance_menu_menu;
  GtkWidget *label44;
  GtkWidget *label45;
  GtkWidget *label147;
  GtkWidget *label58;
  GtkWidget *vbox34;
  GtkWidget *format7_mode_frame;
  GtkWidget *table19;
  GtkWidget *format7_mode;
  GtkWidget *format7_mode_menu;
  GtkWidget *label13;
  GtkWidget *format7_color;
  GtkWidget *format7_color_menu;
  GtkWidget *format7_packet_frame;
  GtkWidget *hbox57;
  GtkWidget *format7_packet_size;
  GtkWidget *format7_horizontal_frame;
  GtkWidget *table70;
  GtkWidget *label139;
  GtkWidget *label140;
  GtkWidget *format7_hsize_scale;
  GtkWidget *format7_hposition_scale;
  GtkWidget *format7_vertical_frame;
  GtkWidget *table71;
  GtkWidget *label141;
  GtkWidget *label142;
  GtkWidget *format7_vsize_scale;
  GtkWidget *format7_vposition_scale;
  GtkWidget *format7_frame_info_frame;
  GtkWidget *table15;
  GtkWidget *label14;
  GtkWidget *label15;
  GtkWidget *format7_imagebytes;
  GtkWidget *format7_imagepixels;
  GtkWidget *label159;
  GtkWidget *label160;
  GtkWidget *format7_padding;
  GtkWidget *format7_totalbytes;
  GtkWidget *label59;
  GtkWidget *table77;
  GtkWidget *notebook7;
  GtkWidget *table79;
  GtkWidget *scrolledwindow1;
  GtkWidget *main_status;
  GtkWidget *label161;
  GtkWidget *table78;
  GtkWidget *bandwidth_frame;
  GtkWidget *bandwidth_table;
  GtkWidget *label157;
  GtkWidget *label158;
  GtkWidget *label156;
  GtkWidget *bandwidth1;
  GtkWidget *bandwidth2;
  GtkWidget *bandwidth3;
  GtkWidget *scrolledwindow3;
  GtkWidget *service_clist;
  GtkWidget *label170;
  GtkWidget *label171;
  GtkWidget *label172;
  GtkWidget *label162;
  GtkWidget *frame4;
  GtkWidget *hbox62;
  GtkWidget *table64;
  GtkWidget *table50;
  GtkWidget *label102;
  GtkWidget *cursor_pos;
  GtkWidget *table51;
  GtkWidget *label103;
  GtkWidget *cursor_rgb;
  GtkWidget *table52;
  GtkWidget *label104;
  GtkWidget *cursor_yuv;
  GtkWidget *label151;
  GtkTooltips *tooltips;

  tooltips = gtk_tooltips_new ();

  main_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (main_window), "main_window", main_window);
  gtk_window_set_title (GTK_WINDOW (main_window), _("Coriander 1.0.0"));
  gtk_window_set_policy (GTK_WINDOW (main_window), FALSE, TRUE, TRUE);

  vbox26 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox26);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox26", vbox26,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox26);
  gtk_container_add (GTK_CONTAINER (main_window), vbox26);

  menubar = gtk_menu_bar_new ();
  gtk_widget_ref (menubar);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "menubar", menubar,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menubar);
  gtk_box_pack_start (GTK_BOX (vbox26), menubar, FALSE, FALSE, 0);
  gnome_app_fill_menu (GTK_MENU_SHELL (menubar), menubar_uiinfo,
                       NULL, FALSE, 0);

  gtk_widget_ref (menubar_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "file",
                            menubar_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "preferences",
                            file_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "separator1",
                            file_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "exit",
                            file_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (menubar_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "help",
                            menubar_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (help_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "key_bindings1",
                            help_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (help_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "about",
                            help_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  notebook2 = gtk_notebook_new ();
  gtk_widget_ref (notebook2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "notebook2", notebook2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook2);
  gtk_box_pack_start (GTK_BOX (vbox26), notebook2, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (notebook2), 2);

  vbox74 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox74);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox74", vbox74,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox74);
  gtk_container_add (GTK_CONTAINER (notebook2), vbox74);

  table58 = gtk_table_new (3, 2, FALSE);
  gtk_widget_ref (table58);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table58", table58,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table58);
  gtk_box_pack_start (GTK_BOX (vbox74), table58, FALSE, FALSE, 0);

  camera_select_frame = gtk_frame_new (_("Camera Select"));
  gtk_widget_ref (camera_select_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_select_frame", camera_select_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_select_frame);
  gtk_table_attach (GTK_TABLE (table58), camera_select_frame, 0, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_select_frame), 5);

  table9 = gtk_table_new (1, 1, FALSE);
  gtk_widget_ref (table9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table9", table9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table9);
  gtk_container_add (GTK_CONTAINER (camera_select_frame), table9);

  camera_select = gtk_option_menu_new ();
  gtk_widget_ref (camera_select);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_select", camera_select,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_select);
  gtk_table_attach (GTK_TABLE (table9), camera_select, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_select), 1);
  gtk_widget_set_sensitive (camera_select, FALSE);
  camera_select_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label ("");
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (camera_select_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (camera_select), camera_select_menu);

  hbox60 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox60);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox60", hbox60,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox60);
  gtk_table_attach (GTK_TABLE (table58), hbox60, 0, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  power_frame = gtk_frame_new (_("Power"));
  gtk_widget_ref (power_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "power_frame", power_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (power_frame);
  gtk_box_pack_start (GTK_BOX (hbox60), power_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (power_frame), 5);
  gtk_widget_set_sensitive (power_frame, FALSE);

  vbox20 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox20);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox20", vbox20,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox20);
  gtk_container_add (GTK_CONTAINER (power_frame), vbox20);

  power_on = gtk_button_new_with_label (_("ON"));
  gtk_widget_ref (power_on);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "power_on", power_on,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (power_on);
  gtk_box_pack_start (GTK_BOX (vbox20), power_on, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (power_on), 2);
  gtk_widget_set_sensitive (power_on, FALSE);

  power_off = gtk_button_new_with_label (_("OFF"));
  gtk_widget_ref (power_off);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "power_off", power_off,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (power_off);
  gtk_box_pack_start (GTK_BOX (vbox20), power_off, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (power_off), 2);
  gtk_widget_set_sensitive (power_off, FALSE);

  power_reset = gtk_button_new_with_label (_("RESET"));
  gtk_widget_ref (power_reset);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "power_reset", power_reset,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (power_reset);
  gtk_box_pack_start (GTK_BOX (vbox20), power_reset, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (power_reset), 2);
  gtk_widget_set_sensitive (power_reset, FALSE);

  memory_frame = gtk_frame_new (_("Memory channels"));
  gtk_widget_ref (memory_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "memory_frame", memory_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (memory_frame);
  gtk_box_pack_start (GTK_BOX (hbox60), memory_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (memory_frame), 5);
  gtk_widget_set_sensitive (memory_frame, FALSE);

  table16 = gtk_table_new (3, 1, TRUE);
  gtk_widget_ref (table16);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table16", table16,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table16);
  gtk_container_add (GTK_CONTAINER (memory_frame), table16);

  memory_channel = gtk_option_menu_new ();
  gtk_widget_ref (memory_channel);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "memory_channel", memory_channel,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (memory_channel);
  gtk_table_attach (GTK_TABLE (table16), memory_channel, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (memory_channel), 1);
  gtk_widget_set_sensitive (memory_channel, FALSE);
  memory_channel_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label ("");
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (memory_channel_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (memory_channel), memory_channel_menu);

  load_mem = gtk_button_new_with_label (_("LOAD"));
  gtk_widget_ref (load_mem);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "load_mem", load_mem,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (load_mem);
  gtk_table_attach (GTK_TABLE (table16), load_mem, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (load_mem), 2);

  save_mem = gtk_button_new_with_label (_("SAVE"));
  gtk_widget_ref (save_mem);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "save_mem", save_mem,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (save_mem);
  gtk_table_attach (GTK_TABLE (table16), save_mem, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (save_mem), 2);
  gtk_widget_set_sensitive (save_mem, FALSE);

  global_iso_frame = gtk_frame_new (_("Global Iso Control"));
  gtk_widget_ref (global_iso_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "global_iso_frame", global_iso_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (global_iso_frame);
  gtk_box_pack_start (GTK_BOX (hbox60), global_iso_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (global_iso_frame), 5);

  table72 = gtk_table_new (3, 2, TRUE);
  gtk_widget_ref (table72);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table72", table72,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table72);
  gtk_container_add (GTK_CONTAINER (global_iso_frame), table72);

  global_iso_start = gtk_button_new_with_label (_("START"));
  gtk_widget_ref (global_iso_start);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "global_iso_start", global_iso_start,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (global_iso_start);
  gtk_table_attach (GTK_TABLE (table72), global_iso_start, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (global_iso_start), 2);
  gtk_widget_set_sensitive (global_iso_start, FALSE);

  global_iso_stop = gtk_button_new_with_label (_("STOP"));
  gtk_widget_ref (global_iso_stop);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "global_iso_stop", global_iso_stop,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (global_iso_stop);
  gtk_table_attach (GTK_TABLE (table72), global_iso_stop, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (global_iso_stop), 2);
  gtk_widget_set_sensitive (global_iso_stop, FALSE);

  global_iso_restart = gtk_button_new_with_label (_("RESTART"));
  gtk_widget_ref (global_iso_restart);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "global_iso_restart", global_iso_restart,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (global_iso_restart);
  gtk_table_attach (GTK_TABLE (table72), global_iso_restart, 0, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (global_iso_restart), 2);
  gtk_widget_set_sensitive (global_iso_restart, FALSE);

  sync_control_button = gtk_check_button_new_with_label (_("Sync control"));
  gtk_widget_ref (sync_control_button);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "sync_control_button", sync_control_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sync_control_button);
  gtk_table_attach (GTK_TABLE (table72), sync_control_button, 0, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (sync_control_button), 2);

  frame2 = gtk_frame_new (_("Camera information"));
  gtk_widget_ref (frame2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame2", frame2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame2);
  gtk_table_attach (GTK_TABLE (table58), frame2, 0, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame2), 5);

  table48 = gtk_table_new (8, 4, TRUE);
  gtk_widget_ref (table48);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table48", table48,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table48);
  gtk_container_add (GTK_CONTAINER (frame2), table48);
  gtk_table_set_col_spacings (GTK_TABLE (table48), 2);

  label1 = gtk_label_new (_("Vendor:"));
  gtk_widget_ref (label1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label1", label1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label1);
  gtk_table_attach (GTK_TABLE (table48), label1, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label1), 2, 2);

  label2 = gtk_label_new (_("Model:"));
  gtk_widget_ref (label2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label2", label2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label2);
  gtk_table_attach (GTK_TABLE (table48), label2, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label2), 2, 2);

  camera_model_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_model_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_model_status", camera_model_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_model_status);
  gtk_table_attach (GTK_TABLE (table48), camera_model_status, 1, 4, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_model_status), 2);

  camera_vendor_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_vendor_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_vendor_status", camera_vendor_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_vendor_status);
  gtk_table_attach (GTK_TABLE (table48), camera_vendor_status, 1, 4, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_vendor_status), 2);

  camera_dc_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_dc_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_dc_status", camera_dc_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_dc_status);
  gtk_table_attach (GTK_TABLE (table48), camera_dc_status, 1, 2, 6, 7,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_dc_status), 2);

  camera_maxiso_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_maxiso_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_maxiso_status", camera_maxiso_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_maxiso_status);
  gtk_table_attach (GTK_TABLE (table48), camera_maxiso_status, 1, 2, 5, 6,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_maxiso_status), 2);

  camera_handle_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_handle_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_handle_status", camera_handle_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_handle_status);
  gtk_table_attach (GTK_TABLE (table48), camera_handle_status, 1, 2, 4, 5,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_handle_status), 2);

  camera_pwclass_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_pwclass_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_pwclass_status", camera_pwclass_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_pwclass_status);
  gtk_table_attach (GTK_TABLE (table48), camera_pwclass_status, 3, 4, 6, 7,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_pwclass_status), 2);

  camera_delay_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_delay_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_delay_status", camera_delay_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_delay_status);
  gtk_table_attach (GTK_TABLE (table48), camera_delay_status, 3, 4, 5, 6,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_delay_status), 2);

  camera_node_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_node_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_node_status", camera_node_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_node_status);
  gtk_table_attach (GTK_TABLE (table48), camera_node_status, 3, 4, 4, 5,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_node_status), 2);

  label31 = gtk_label_new (_("GUID:"));
  gtk_widget_ref (label31);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label31", label31,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label31);
  gtk_table_attach (GTK_TABLE (table48), label31, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label31), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label31), 2, 2);

  label93 = gtk_label_new (_("Name:"));
  gtk_widget_ref (label93);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label93", label93,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label93);
  gtk_table_attach (GTK_TABLE (table48), label93, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label93), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label93), 2, 2);

  camera_name_text = gtk_entry_new_with_max_length (2048);
  gtk_widget_ref (camera_name_text);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_name_text", camera_name_text,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_name_text);
  gtk_table_attach (GTK_TABLE (table48), camera_name_text, 1, 4, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 2, 0);

  iso_channel_status = gtk_statusbar_new ();
  gtk_widget_ref (iso_channel_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "iso_channel_status", iso_channel_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_channel_status);
  gtk_table_attach (GTK_TABLE (table48), iso_channel_status, 1, 2, 7, 8,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_channel_status), 2);

  label34 = gtk_label_new (_("IIDC specs:"));
  gtk_widget_ref (label34);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label34", label34,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label34);
  gtk_table_attach (GTK_TABLE (table48), label34, 0, 1, 6, 7,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label34), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label34), 2, 2);

  label32 = gtk_label_new (_("PHY speed:"));
  gtk_widget_ref (label32);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label32", label32,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label32);
  gtk_table_attach (GTK_TABLE (table48), label32, 0, 1, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label32), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label32), 2, 2);

  label3 = gtk_label_new (_("Handle:"));
  gtk_widget_ref (label3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label3", label3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label3);
  gtk_table_attach (GTK_TABLE (table48), label3, 0, 1, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label3), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label3), 2, 2);

  label18 = gtk_label_new (_("ISO Channel:"));
  gtk_widget_ref (label18);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label18", label18,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label18);
  gtk_table_attach (GTK_TABLE (table48), label18, 0, 1, 7, 8,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label18), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label18), 2, 2);

  label35 = gtk_label_new (_("Power:"));
  gtk_widget_ref (label35);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label35", label35,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label35);
  gtk_table_attach (GTK_TABLE (table48), label35, 2, 3, 6, 7,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label35), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label35), 2, 2);

  label33 = gtk_label_new (_("PHY delay:"));
  gtk_widget_ref (label33);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label33", label33,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label33);
  gtk_table_attach (GTK_TABLE (table48), label33, 2, 3, 5, 6,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label33), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label33), 2, 2);

  label17 = gtk_label_new (_("Node  /  Port:"));
  gtk_widget_ref (label17);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label17", label17,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label17);
  gtk_table_attach (GTK_TABLE (table48), label17, 2, 3, 4, 5,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label17), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label17), 2, 2);

  camera_guid_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_guid_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "camera_guid_status", camera_guid_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_guid_status);
  gtk_table_attach (GTK_TABLE (table48), camera_guid_status, 1, 4, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_guid_status), 2);

  label56 = gtk_label_new (_("Camera"));
  gtk_widget_ref (label56);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label56", label56,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label56);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook2), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook2), 0), label56);

  vbox75 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox75);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox75", vbox75,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox75);
  gtk_container_add (GTK_CONTAINER (notebook2), vbox75);

  vbox78 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox78);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox78", vbox78,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox78);
  gtk_box_pack_start (GTK_BOX (vbox75), vbox78, FALSE, FALSE, 0);

  switch_frame = gtk_frame_new (_("Switch/FPS"));
  gtk_widget_ref (switch_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "switch_frame", switch_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (switch_frame);
  gtk_box_pack_start (GTK_BOX (vbox78), switch_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (switch_frame), 5);

  hbox61 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox61);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox61", hbox61,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox61);
  gtk_container_add (GTK_CONTAINER (switch_frame), hbox61);
  gtk_container_set_border_width (GTK_CONTAINER (hbox61), 3);

  table65 = gtk_table_new (2, 5, TRUE);
  gtk_widget_ref (table65);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table65", table65,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table65);
  gtk_box_pack_start (GTK_BOX (hbox61), table65, TRUE, TRUE, 4);
  gtk_table_set_col_spacings (GTK_TABLE (table65), 2);

  fps_display = gtk_statusbar_new ();
  gtk_widget_ref (fps_display);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "fps_display", fps_display,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fps_display);
  gtk_table_attach (GTK_TABLE (table65), fps_display, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  fps_save = gtk_statusbar_new ();
  gtk_widget_ref (fps_save);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "fps_save", fps_save,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fps_save);
  gtk_table_attach (GTK_TABLE (table65), fps_save, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  fps_receive = gtk_statusbar_new ();
  gtk_widget_ref (fps_receive);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "fps_receive", fps_receive,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fps_receive);
  gtk_table_attach (GTK_TABLE (table65), fps_receive, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  service_iso = gtk_toggle_button_new_with_label (_("Receive"));
  gtk_widget_ref (service_iso);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "service_iso", service_iso,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (service_iso);
  gtk_table_attach (GTK_TABLE (table65), service_iso, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  service_display = gtk_toggle_button_new_with_label (_("Display"));
  gtk_widget_ref (service_display);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "service_display", service_display,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (service_display);
  gtk_table_attach (GTK_TABLE (table65), service_display, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  service_save = gtk_toggle_button_new_with_label (_("Save"));
  gtk_widget_ref (service_save);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "service_save", service_save,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (service_save);
  gtk_table_attach (GTK_TABLE (table65), service_save, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  service_ftp = gtk_toggle_button_new_with_label (_("FTP"));
  gtk_widget_ref (service_ftp);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "service_ftp", service_ftp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (service_ftp);
  gtk_table_attach (GTK_TABLE (table65), service_ftp, 4, 5, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  fps_ftp = gtk_statusbar_new ();
  gtk_widget_ref (fps_ftp);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "fps_ftp", fps_ftp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fps_ftp);
  gtk_table_attach (GTK_TABLE (table65), fps_ftp, 4, 5, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  fps_v4l = gtk_statusbar_new ();
  gtk_widget_ref (fps_v4l);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "fps_v4l", fps_v4l,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fps_v4l);
  gtk_table_attach (GTK_TABLE (table65), fps_v4l, 3, 4, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  service_v4l = gtk_toggle_button_new_with_label (_("V4L"));
  gtk_widget_ref (service_v4l);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "service_v4l", service_v4l,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (service_v4l);
  gtk_table_attach (GTK_TABLE (table65), service_v4l, 3, 4, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  notebook5 = gtk_notebook_new ();
  gtk_widget_ref (notebook5);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "notebook5", notebook5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook5);
  gtk_box_pack_start (GTK_BOX (vbox78), notebook5, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (notebook5), 5);

  table59 = gtk_table_new (3, 3, FALSE);
  gtk_widget_ref (table59);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table59", table59,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table59);
  gtk_container_add (GTK_CONTAINER (notebook5), table59);

  format_frame = gtk_frame_new (_("Format"));
  gtk_widget_ref (format_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format_frame", format_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format_frame);
  gtk_table_attach (GTK_TABLE (table59), format_frame, 0, 3, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format_frame), 5);

  table60 = gtk_table_new (1, 1, FALSE);
  gtk_widget_ref (table60);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table60", table60,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table60);
  gtk_container_add (GTK_CONTAINER (format_frame), table60);

  format_select = gtk_option_menu_new ();
  gtk_widget_ref (format_select);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format_select", format_select,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format_select);
  gtk_table_attach (GTK_TABLE (table60), format_select, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format_select), 1);
  gtk_widget_set_sensitive (format_select, FALSE);
  format_select_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label ("");
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (format_select_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (format_select), format_select_menu);

  prefs_receive_frame = gtk_frame_new (_("Method"));
  gtk_widget_ref (prefs_receive_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_receive_frame", prefs_receive_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_receive_frame);
  gtk_table_attach (GTK_TABLE (table59), prefs_receive_frame, 0, 3, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_receive_frame), 5);

  table45 = gtk_table_new (2, 3, FALSE);
  gtk_widget_ref (table45);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table45", table45,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table45);
  gtk_container_add (GTK_CONTAINER (prefs_receive_frame), table45);

  label84 = gtk_label_new (_("device:"));
  gtk_widget_ref (label84);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label84", label84,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label84);
  gtk_table_attach (GTK_TABLE (table45), label84, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label84), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label84), 2, 0);

  prefs_receive_method_menu = gtk_option_menu_new ();
  gtk_widget_ref (prefs_receive_method_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_receive_method_menu", prefs_receive_method_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_receive_method_menu);
  gtk_table_attach (GTK_TABLE (table45), prefs_receive_method_menu, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_receive_method_menu), 1);
  prefs_receive_method_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label ("");
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (prefs_receive_method_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (prefs_receive_method_menu), prefs_receive_method_menu_menu);

  hbox68 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox68);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox68", hbox68,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox68);
  gtk_table_attach (GTK_TABLE (table45), hbox68, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  label153 = gtk_label_new (_("DMA buffer size: "));
  gtk_widget_ref (label153);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label153", label153,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label153);
  gtk_box_pack_start (GTK_BOX (hbox68), label153, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label153), 5, 0);

  dma_buffer_size_adj = gtk_adjustment_new (10, 2, 999999, 1, 10, 10);
  dma_buffer_size = gtk_spin_button_new (GTK_ADJUSTMENT (dma_buffer_size_adj), 1, 0);
  gtk_widget_ref (dma_buffer_size);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "dma_buffer_size", dma_buffer_size,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (dma_buffer_size);
  gtk_box_pack_start (GTK_BOX (hbox68), dma_buffer_size, TRUE, TRUE, 0);

  label154 = gtk_label_new (_("frames"));
  gtk_widget_ref (label154);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label154", label154,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label154);
  gtk_box_pack_start (GTK_BOX (hbox68), label154, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label154), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label154), 5, 0);

  prefs_receive_dropframes = gtk_check_button_new_with_label (_("Frame dropping"));
  gtk_widget_ref (prefs_receive_dropframes);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_receive_dropframes", prefs_receive_dropframes,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_receive_dropframes);
  gtk_table_attach (GTK_TABLE (table45), prefs_receive_dropframes, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_tooltips_set_tip (tooltips, prefs_receive_dropframes, _("Enable this to reduce delay"), NULL);

  prefs_video1394_device = gtk_entry_new ();
  gtk_widget_ref (prefs_video1394_device);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_video1394_device", prefs_video1394_device,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_video1394_device);
  gtk_table_attach (GTK_TABLE (table45), prefs_video1394_device, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 2, 0);

  hbox59 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox59);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox59", hbox59,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox59);
  gtk_table_attach (GTK_TABLE (table59), hbox59, 0, 3, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);

  iso_frame = gtk_frame_new (_("ISO Control"));
  gtk_widget_ref (iso_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "iso_frame", iso_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_frame);
  gtk_box_pack_start (GTK_BOX (hbox59), iso_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_frame), 5);
  gtk_widget_set_sensitive (iso_frame, FALSE);

  table62 = gtk_table_new (4, 2, TRUE);
  gtk_widget_ref (table62);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table62", table62,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table62);
  gtk_container_add (GTK_CONTAINER (iso_frame), table62);

  label116 = gtk_label_new ("");
  gtk_widget_ref (label116);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label116", label116,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label116);
  gtk_table_attach (GTK_TABLE (table62), label116, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label116), 0, 0.5);

  iso_stop = gtk_button_new_with_label (_("STOP"));
  gtk_widget_ref (iso_stop);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "iso_stop", iso_stop,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_stop);
  gtk_table_attach (GTK_TABLE (table62), iso_stop, 0, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_stop), 2);
  gtk_widget_set_sensitive (iso_stop, FALSE);

  iso_restart = gtk_button_new_with_label (_("RESTART"));
  gtk_widget_ref (iso_restart);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "iso_restart", iso_restart,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_restart);
  gtk_table_attach (GTK_TABLE (table62), iso_restart, 0, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_restart), 2);
  gtk_widget_set_sensitive (iso_restart, FALSE);

  iso_start = gtk_button_new_with_label (_("START"));
  gtk_widget_ref (iso_start);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "iso_start", iso_start,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_start);
  gtk_table_attach (GTK_TABLE (table62), iso_start, 0, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_start), 2);
  gtk_widget_set_sensitive (iso_start, FALSE);

  trigger_frame = gtk_frame_new (_("Trigger"));
  gtk_widget_ref (trigger_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "trigger_frame", trigger_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_frame);
  gtk_box_pack_start (GTK_BOX (hbox59), trigger_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (trigger_frame), 5);
  gtk_widget_set_sensitive (trigger_frame, FALSE);

  table17 = gtk_table_new (4, 2, TRUE);
  gtk_widget_ref (table17);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table17", table17,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table17);
  gtk_container_add (GTK_CONTAINER (trigger_frame), table17);

  trigger_mode = gtk_option_menu_new ();
  gtk_widget_ref (trigger_mode);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "trigger_mode", trigger_mode,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_mode);
  gtk_table_attach (GTK_TABLE (table17), trigger_mode, 0, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (trigger_mode), 1);
  trigger_mode_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (trigger_mode_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (trigger_mode), trigger_mode_menu);

  fps_menu = gtk_option_menu_new ();
  gtk_widget_ref (fps_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "fps_menu", fps_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fps_menu);
  gtk_table_attach (GTK_TABLE (table17), fps_menu, 0, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (fps_menu), 1);
  fps_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (fps_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (fps_menu), fps_menu_menu);

  label16 = gtk_label_new (_("Count : "));
  gtk_widget_ref (label16);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label16", label16,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label16);
  gtk_table_attach (GTK_TABLE (table17), label16, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_widget_set_sensitive (label16, FALSE);
  gtk_misc_set_padding (GTK_MISC (label16), 2, 2);

  trigger_count_adj = gtk_adjustment_new (0, 0, 65535, 1, 10, 10);
  trigger_count = gtk_spin_button_new (GTK_ADJUSTMENT (trigger_count_adj), 1, 0);
  gtk_widget_ref (trigger_count);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "trigger_count", trigger_count,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_count);
  gtk_table_attach (GTK_TABLE (table17), trigger_count, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_widget_set_sensitive (trigger_count, FALSE);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (trigger_count), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (trigger_count), GTK_UPDATE_IF_VALID);

  trigger_external = gtk_toggle_button_new_with_label (_("External"));
  gtk_widget_ref (trigger_external);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "trigger_external", trigger_external,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_external);
  gtk_table_attach (GTK_TABLE (table17), trigger_external, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (trigger_external), 2);
  gtk_widget_set_sensitive (trigger_external, FALSE);

  trigger_polarity = gtk_toggle_button_new_with_label (_("Polarity"));
  gtk_widget_ref (trigger_polarity);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "trigger_polarity", trigger_polarity,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_polarity);
  gtk_table_attach (GTK_TABLE (table17), trigger_polarity, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (trigger_polarity), 2);
  gtk_widget_set_sensitive (trigger_polarity, FALSE);

  image_options_frame = gtk_frame_new (_("Options"));
  gtk_widget_ref (image_options_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "image_options_frame", image_options_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (image_options_frame);
  gtk_box_pack_start (GTK_BOX (hbox59), image_options_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (image_options_frame), 5);

  table61 = gtk_table_new (4, 2, TRUE);
  gtk_widget_ref (table61);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table61", table61,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table61);
  gtk_container_add (GTK_CONTAINER (image_options_frame), table61);

  bayer_menu = gtk_option_menu_new ();
  gtk_widget_ref (bayer_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "bayer_menu", bayer_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bayer_menu);
  gtk_table_attach (GTK_TABLE (table61), bayer_menu, 0, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (bayer_menu), 1);
  bayer_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("No Bayer"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (bayer_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Nearest"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (bayer_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Edge Sense"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (bayer_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (bayer_menu), bayer_menu_menu);

  pattern_menu = gtk_option_menu_new ();
  gtk_widget_ref (pattern_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "pattern_menu", pattern_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pattern_menu);
  gtk_table_attach (GTK_TABLE (table61), pattern_menu, 0, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (pattern_menu), 1);
  pattern_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("BGGR"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (pattern_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("GRBG"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (pattern_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (pattern_menu), pattern_menu_menu);

  mono16_bpp_adj = gtk_adjustment_new (8, 8, 16, 1, 2, 2);
  mono16_bpp = gtk_spin_button_new (GTK_ADJUSTMENT (mono16_bpp_adj), 1, 0);
  gtk_widget_ref (mono16_bpp);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "mono16_bpp", mono16_bpp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (mono16_bpp);
  gtk_table_attach (GTK_TABLE (table61), mono16_bpp, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_widget_set_sensitive (mono16_bpp, FALSE);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (mono16_bpp), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (mono16_bpp), GTK_UPDATE_IF_VALID);

  label114 = gtk_label_new (_("BPP :"));
  gtk_widget_ref (label114);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label114", label114,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label114);
  gtk_table_attach (GTK_TABLE (table61), label114, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label114), 2, 2);

  stereo_menu = gtk_option_menu_new ();
  gtk_widget_ref (stereo_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "stereo_menu", stereo_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (stereo_menu);
  gtk_table_attach (GTK_TABLE (table61), stereo_menu, 0, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (stereo_menu), 1);
  stereo_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("No Stereo"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (stereo_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("St. Interlaced"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (stereo_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("St. Field"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (stereo_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (stereo_menu), stereo_menu_menu);

  label143 = gtk_label_new (_("Receive"));
  gtk_widget_ref (label143);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label143", label143,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label143);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook5), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook5), 0), label143);

  vbox53 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox53);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox53", vbox53,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox53);
  gtk_container_add (GTK_CONTAINER (notebook5), vbox53);

  prefs_display_framedrop = gtk_frame_new (_("Frame drop"));
  gtk_widget_ref (prefs_display_framedrop);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_display_framedrop", prefs_display_framedrop,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_display_framedrop);
  gtk_box_pack_start (GTK_BOX (vbox53), prefs_display_framedrop, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_display_framedrop), 5);

  hbox55 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox55);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox55", hbox55,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox55);
  gtk_container_add (GTK_CONTAINER (prefs_display_framedrop), hbox55);

  label77 = gtk_label_new (_("Every"));
  gtk_widget_ref (label77);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label77", label77,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label77);
  gtk_box_pack_start (GTK_BOX (hbox55), label77, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label77), 5, 8);

  prefs_display_period_adj = gtk_adjustment_new (1, 1, 9999, 1, 10, 10);
  prefs_display_period = gtk_spin_button_new (GTK_ADJUSTMENT (prefs_display_period_adj), 1, 0);
  gtk_widget_ref (prefs_display_period);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_display_period", prefs_display_period,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_display_period);
  gtk_box_pack_start (GTK_BOX (hbox55), prefs_display_period, FALSE, FALSE, 0);
  gtk_widget_set_usize (prefs_display_period, 100, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (prefs_display_period), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (prefs_display_period), GTK_UPDATE_IF_VALID);

  label74 = gtk_label_new (_("frames"));
  gtk_widget_ref (label74);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label74", label74,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label74);
  gtk_box_pack_start (GTK_BOX (hbox55), label74, FALSE, FALSE, 2);
  gtk_misc_set_padding (GTK_MISC (label74), 5, 8);

  frame1 = gtk_frame_new (_("SDL options"));
  gtk_widget_ref (frame1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame1", frame1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame1);
  gtk_box_pack_start (GTK_BOX (vbox53), frame1, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame1), 5);

  vbox64 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox64);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox64", vbox64,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox64);
  gtk_container_add (GTK_CONTAINER (frame1), vbox64);

  prefs_display_keep_ratio = gtk_check_button_new_with_label (_("Keep aspect ratio when resizing"));
  gtk_widget_ref (prefs_display_keep_ratio);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_display_keep_ratio", prefs_display_keep_ratio,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_display_keep_ratio);
  gtk_box_pack_start (GTK_BOX (vbox64), prefs_display_keep_ratio, FALSE, FALSE, 0);

  hbox69 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox69);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox69", hbox69,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox69);
  gtk_box_pack_start (GTK_BOX (vbox64), hbox69, TRUE, TRUE, 0);

  display_redraw = gtk_check_button_new_with_label (_("Force display redraw at a rate of"));
  gtk_widget_ref (display_redraw);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "display_redraw", display_redraw,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (display_redraw);
  gtk_box_pack_start (GTK_BOX (hbox69), display_redraw, FALSE, FALSE, 0);

  display_redraw_rate_adj = gtk_adjustment_new (4, 0.1, 100, 0.1, 1, 1);
  display_redraw_rate = gtk_spin_button_new (GTK_ADJUSTMENT (display_redraw_rate_adj), 1, 1);
  gtk_widget_ref (display_redraw_rate);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "display_redraw_rate", display_redraw_rate,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (display_redraw_rate);
  gtk_box_pack_start (GTK_BOX (hbox69), display_redraw_rate, FALSE, TRUE, 0);
  gtk_widget_set_usize (display_redraw_rate, 100, -2);

  label155 = gtk_label_new (_("Hz"));
  gtk_widget_ref (label155);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label155", label155,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label155);
  gtk_box_pack_start (GTK_BOX (hbox69), label155, FALSE, TRUE, 0);
  gtk_misc_set_padding (GTK_MISC (label155), 5, 0);

  frame11 = gtk_frame_new (_("Overlay"));
  gtk_widget_ref (frame11);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame11", frame11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame11);
  gtk_box_pack_start (GTK_BOX (vbox53), frame11, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame11), 5);

  table80 = gtk_table_new (2, 3, FALSE);
  gtk_widget_ref (table80);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table80", table80,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table80);
  gtk_container_add (GTK_CONTAINER (frame11), table80);

  overlay_pattern_menu = gtk_option_menu_new ();
  gtk_widget_ref (overlay_pattern_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "overlay_pattern_menu", overlay_pattern_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (overlay_pattern_menu);
  gtk_table_attach (GTK_TABLE (table80), overlay_pattern_menu, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 1, 0);
  gtk_container_set_border_width (GTK_CONTAINER (overlay_pattern_menu), 1);
  overlay_pattern_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("OFF"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_pattern_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Golden mean"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_pattern_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Small cross"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_pattern_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Large cross"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_pattern_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Circle"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_pattern_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Image"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_pattern_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (overlay_pattern_menu), overlay_pattern_menu_menu);

  overlay_type_menu = gtk_option_menu_new ();
  gtk_widget_ref (overlay_type_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "overlay_type_menu", overlay_type_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (overlay_type_menu);
  gtk_table_attach (GTK_TABLE (table80), overlay_type_menu, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND), 1, 0);
  gtk_container_set_border_width (GTK_CONTAINER (overlay_type_menu), 1);
  overlay_type_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("Invert"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_type_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Random"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_type_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Replace"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_type_menu_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Average"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (overlay_type_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (overlay_type_menu), overlay_type_menu_menu);

  overlay_color_picker = gnome_color_picker_new ();
  gtk_widget_ref (overlay_color_picker);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "overlay_color_picker", overlay_color_picker,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (overlay_color_picker);
  gtk_table_attach (GTK_TABLE (table80), overlay_color_picker, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (overlay_color_picker), 2);
  gnome_color_picker_set_title (GNOME_COLOR_PICKER (overlay_color_picker), _("Select overlay color"));

  overlay_file_entry = gnome_file_entry_new (NULL, _("Choose a overlay image"));
  gtk_widget_ref (overlay_file_entry);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "overlay_file_entry", overlay_file_entry,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (overlay_file_entry);
  gtk_table_attach (GTK_TABLE (table80), overlay_file_entry, 0, 3, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (overlay_file_entry), 3);

  combo_entry1 = gnome_file_entry_gtk_entry (GNOME_FILE_ENTRY (overlay_file_entry));
  gtk_widget_ref (combo_entry1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "combo_entry1", combo_entry1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (combo_entry1);

  label144 = gtk_label_new (_("Display"));
  gtk_widget_ref (label144);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label144", label144,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label144);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook5), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook5), 1), label144);

  vbox54 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox54);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox54", vbox54,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox54);
  gtk_container_add (GTK_CONTAINER (notebook5), vbox54);

  prefs_save_file_frame = gtk_frame_new (_("Filename"));
  gtk_widget_ref (prefs_save_file_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_file_frame", prefs_save_file_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_file_frame);
  gtk_box_pack_start (GTK_BOX (vbox54), prefs_save_file_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_save_file_frame), 5);

  save_filename_entry = gnome_file_entry_new (NULL, _("Choose a filename"));
  gtk_widget_ref (save_filename_entry);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "save_filename_entry", save_filename_entry,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (save_filename_entry);
  gtk_container_add (GTK_CONTAINER (prefs_save_file_frame), save_filename_entry);
  gtk_container_set_border_width (GTK_CONTAINER (save_filename_entry), 3);

  combo_entry2 = gnome_file_entry_gtk_entry (GNOME_FILE_ENTRY (save_filename_entry));
  gtk_widget_ref (combo_entry2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "combo_entry2", combo_entry2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (combo_entry2);

  prefs_save_framedrop = gtk_frame_new (_("Frame drop"));
  gtk_widget_ref (prefs_save_framedrop);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_framedrop", prefs_save_framedrop,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_framedrop);
  gtk_box_pack_start (GTK_BOX (vbox54), prefs_save_framedrop, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_save_framedrop), 5);

  hbox_capture_freq_periodic = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox_capture_freq_periodic);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox_capture_freq_periodic", hbox_capture_freq_periodic,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_capture_freq_periodic);
  gtk_container_add (GTK_CONTAINER (prefs_save_framedrop), hbox_capture_freq_periodic);

  label76 = gtk_label_new (_("Every"));
  gtk_widget_ref (label76);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label76", label76,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label76);
  gtk_box_pack_start (GTK_BOX (hbox_capture_freq_periodic), label76, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label76), 5, 8);

  prefs_save_period_adj = gtk_adjustment_new (1, 1, 9999, 1, 10, 10);
  prefs_save_period = gtk_spin_button_new (GTK_ADJUSTMENT (prefs_save_period_adj), 1, 0);
  gtk_widget_ref (prefs_save_period);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_period", prefs_save_period,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_period);
  gtk_box_pack_start (GTK_BOX (hbox_capture_freq_periodic), prefs_save_period, FALSE, FALSE, 0);
  gtk_widget_set_usize (prefs_save_period, 100, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (prefs_save_period), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (prefs_save_period), GTK_UPDATE_IF_VALID);

  label42 = gtk_label_new (_("frames"));
  gtk_widget_ref (label42);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label42", label42,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label42);
  gtk_box_pack_start (GTK_BOX (hbox_capture_freq_periodic), label42, FALSE, FALSE, 2);
  gtk_misc_set_padding (GTK_MISC (label42), 5, 8);

  prefs_save_scratch_frame = gtk_frame_new (_("Scratch"));
  gtk_widget_ref (prefs_save_scratch_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_scratch_frame", prefs_save_scratch_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_scratch_frame);
  gtk_box_pack_start (GTK_BOX (vbox54), prefs_save_scratch_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_save_scratch_frame), 5);

  table74 = gtk_table_new (3, 2, FALSE);
  gtk_widget_ref (table74);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table74", table74,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table74);
  gtk_container_add (GTK_CONTAINER (prefs_save_scratch_frame), table74);

  prefs_save_seq = gtk_radio_button_new_with_label (save_mode_group, _("Sequentially number files"));
  save_mode_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_save_seq));
  gtk_widget_ref (prefs_save_seq);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_seq", prefs_save_seq,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_seq);
  gtk_table_attach (GTK_TABLE (table74), prefs_save_seq, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefs_save_seq), TRUE);

  prefs_save_scratch = gtk_radio_button_new_with_label (save_mode_group, _("Continually overwrite file"));
  save_mode_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_save_scratch));
  gtk_widget_ref (prefs_save_scratch);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_scratch", prefs_save_scratch,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_scratch);
  gtk_table_attach (GTK_TABLE (table74), prefs_save_scratch, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  prefs_save_video = gtk_radio_button_new_with_label (save_mode_group, _("Write a video sequence"));
  save_mode_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_save_video));
  gtk_widget_ref (prefs_save_video);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_video", prefs_save_video,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_video);
  gtk_table_attach (GTK_TABLE (table74), prefs_save_video, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  hbox66 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox66);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox66", hbox66,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox66);
  gtk_table_attach (GTK_TABLE (table74), hbox66, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  prefs_save_date_tag = gtk_radio_button_new_with_label (save_datenum_group, _("with date"));
  save_datenum_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_save_date_tag));
  gtk_widget_ref (prefs_save_date_tag);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_date_tag", prefs_save_date_tag,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_date_tag);
  gtk_box_pack_start (GTK_BOX (hbox66), prefs_save_date_tag, TRUE, TRUE, 0);

  prefs_save_num_tag = gtk_radio_button_new_with_label (save_datenum_group, _("with numbers"));
  save_datenum_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_save_num_tag));
  gtk_widget_ref (prefs_save_num_tag);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_num_tag", prefs_save_num_tag,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_num_tag);
  gtk_box_pack_start (GTK_BOX (hbox66), prefs_save_num_tag, TRUE, TRUE, 0);

  use_ram_buffer = gtk_check_button_new_with_label (_("Use RAM buffering"));
  gtk_widget_ref (use_ram_buffer);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "use_ram_buffer", use_ram_buffer,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (use_ram_buffer);
  gtk_table_attach (GTK_TABLE (table74), use_ram_buffer, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  hbox67 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox67);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox67", hbox67,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox67);
  gtk_box_pack_start (GTK_BOX (vbox54), hbox67, FALSE, TRUE, 0);

  prefs_save_convert_frame = gtk_frame_new (_("Conversions"));
  gtk_widget_ref (prefs_save_convert_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_convert_frame", prefs_save_convert_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_convert_frame);
  gtk_box_pack_start (GTK_BOX (hbox67), prefs_save_convert_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_save_convert_frame), 5);

  vbox71 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox71);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox71", vbox71,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox71);
  gtk_container_add (GTK_CONTAINER (prefs_save_convert_frame), vbox71);

  prefs_save_convert = gtk_radio_button_new_with_label (save_convert_group, _("Convert image using ImLib"));
  save_convert_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_save_convert));
  gtk_widget_ref (prefs_save_convert);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_convert", prefs_save_convert,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_convert);
  gtk_box_pack_start (GTK_BOX (vbox71), prefs_save_convert, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefs_save_convert), TRUE);

  prefs_save_noconvert = gtk_radio_button_new_with_label (save_convert_group, _("Dump raw data"));
  save_convert_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_save_noconvert));
  gtk_widget_ref (prefs_save_noconvert);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_save_noconvert", prefs_save_noconvert,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_save_noconvert);
  gtk_box_pack_start (GTK_BOX (vbox71), prefs_save_noconvert, FALSE, FALSE, 0);

  ram_buffer_frame = gtk_frame_new (_("RAM buffering options"));
  gtk_widget_ref (ram_buffer_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ram_buffer_frame", ram_buffer_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ram_buffer_frame);
  gtk_box_pack_start (GTK_BOX (hbox67), ram_buffer_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (ram_buffer_frame), 5);

  table75 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table75);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table75", table75,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table75);
  gtk_container_add (GTK_CONTAINER (ram_buffer_frame), table75);

  ram_buffer_size_adj = gtk_adjustment_new (1, 1, 1e+08, 1, 10, 10);
  ram_buffer_size = gtk_spin_button_new (GTK_ADJUSTMENT (ram_buffer_size_adj), 1, 0);
  gtk_widget_ref (ram_buffer_size);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "ram_buffer_size", ram_buffer_size,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (ram_buffer_size);
  gtk_table_attach (GTK_TABLE (table75), ram_buffer_size, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label152 = gtk_label_new (_("Buffer size [MB]:"));
  gtk_widget_ref (label152);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label152", label152,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label152);
  gtk_table_attach (GTK_TABLE (table75), label152, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 2, 2);
  gtk_misc_set_alignment (GTK_MISC (label152), 0, 0.5);
  gtk_misc_set_padding (GTK_MISC (label152), 5, 0);

  malloc_test = gtk_button_new_with_label (_("Test Memory Allocation"));
  gtk_widget_ref (malloc_test);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "malloc_test", malloc_test,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (malloc_test);
  gtk_table_attach (GTK_TABLE (table75), malloc_test, 0, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (malloc_test), 2);

  label145 = gtk_label_new (_("Save"));
  gtk_widget_ref (label145);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label145", label145,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label145);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook5), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook5), 2), label145);

  vbox79 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox79);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox79", vbox79,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox79);
  gtk_container_add (GTK_CONTAINER (notebook5), vbox79);

  frame9 = gtk_frame_new (_("Frame drop"));
  gtk_widget_ref (frame9);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame9", frame9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame9);
  gtk_box_pack_start (GTK_BOX (vbox79), frame9, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame9), 5);

  hbox63 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox63);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox63", hbox63,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox63);
  gtk_container_add (GTK_CONTAINER (frame9), hbox63);

  label149 = gtk_label_new (_("Every"));
  gtk_widget_ref (label149);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label149", label149,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label149);
  gtk_box_pack_start (GTK_BOX (hbox63), label149, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label149), 5, 0);

  prefs_v4l_period_adj = gtk_adjustment_new (1, 1, 9999, 1, 10, 10);
  prefs_v4l_period = gtk_spin_button_new (GTK_ADJUSTMENT (prefs_v4l_period_adj), 1, 0);
  gtk_widget_ref (prefs_v4l_period);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_v4l_period", prefs_v4l_period,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_v4l_period);
  gtk_box_pack_start (GTK_BOX (hbox63), prefs_v4l_period, FALSE, FALSE, 0);
  gtk_widget_set_usize (prefs_v4l_period, 100, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (prefs_v4l_period), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (prefs_v4l_period), GTK_UPDATE_IF_VALID);

  label150 = gtk_label_new (_("frames"));
  gtk_widget_ref (label150);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label150", label150,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label150);
  gtk_box_pack_start (GTK_BOX (hbox63), label150, FALSE, FALSE, 2);
  gtk_misc_set_padding (GTK_MISC (label150), 5, 8);

  v4l_output_device_frame = gtk_frame_new (_("Output device"));
  gtk_widget_ref (v4l_output_device_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "v4l_output_device_frame", v4l_output_device_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (v4l_output_device_frame);
  gtk_box_pack_start (GTK_BOX (vbox79), v4l_output_device_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (v4l_output_device_frame), 5);

  hbox64 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox64);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox64", hbox64,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox64);
  gtk_container_add (GTK_CONTAINER (v4l_output_device_frame), hbox64);
  gtk_container_set_border_width (GTK_CONTAINER (hbox64), 5);

  prefs_v4l_dev_name = gtk_entry_new ();
  gtk_widget_ref (prefs_v4l_dev_name);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_v4l_dev_name", prefs_v4l_dev_name,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_v4l_dev_name);
  gtk_box_pack_start (GTK_BOX (hbox64), prefs_v4l_dev_name, TRUE, TRUE, 0);
  gtk_widget_set_usize (prefs_v4l_dev_name, -2, 22);

  label146 = gtk_label_new (_("V4L"));
  gtk_widget_ref (label146);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label146", label146,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label146);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook5), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook5), 3), label146);

  vbox55 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox55);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox55", vbox55,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox55);
  gtk_container_add (GTK_CONTAINER (notebook5), vbox55);

  prefs_ftp_server_frame = gtk_frame_new (_("Server"));
  gtk_widget_ref (prefs_ftp_server_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_server_frame", prefs_ftp_server_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_server_frame);
  gtk_box_pack_start (GTK_BOX (vbox55), prefs_ftp_server_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_ftp_server_frame), 5);

  table_capture_ftp = gtk_table_new (5, 2, FALSE);
  gtk_widget_ref (table_capture_ftp);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table_capture_ftp", table_capture_ftp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table_capture_ftp);
  gtk_container_add (GTK_CONTAINER (prefs_ftp_server_frame), table_capture_ftp);
  gtk_container_set_border_width (GTK_CONTAINER (table_capture_ftp), 5);

  label_ftp_address = gtk_label_new (_("Address: "));
  gtk_widget_ref (label_ftp_address);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_ftp_address", label_ftp_address,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_ftp_address);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label_ftp_address, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label_ftp_address), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label_ftp_address), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label_ftp_address), 2, 0);

  label_ftp_path = gtk_label_new (_("Path: "));
  gtk_widget_ref (label_ftp_path);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_ftp_path", label_ftp_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_ftp_path);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label_ftp_path, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label_ftp_path), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label_ftp_path), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label_ftp_path), 2, 0);

  label_ftp_user = gtk_label_new (_("Username: "));
  gtk_widget_ref (label_ftp_user);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_ftp_user", label_ftp_user,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_ftp_user);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label_ftp_user, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label_ftp_user), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label_ftp_user), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label_ftp_user), 2, 0);

  label_ftp_passwd = gtk_label_new (_("Password: "));
  gtk_widget_ref (label_ftp_passwd);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label_ftp_passwd", label_ftp_passwd,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_ftp_passwd);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label_ftp_passwd, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label_ftp_passwd), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label_ftp_passwd), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label_ftp_passwd), 2, 0);

  prefs_ftp_path = gtk_entry_new ();
  gtk_widget_ref (prefs_ftp_path);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_path", prefs_ftp_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_path);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), prefs_ftp_path, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 1);
  gtk_widget_set_usize (prefs_ftp_path, -2, 22);

  prefs_ftp_user = gtk_entry_new ();
  gtk_widget_ref (prefs_ftp_user);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_user", prefs_ftp_user,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_user);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), prefs_ftp_user, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 1);
  gtk_widget_set_usize (prefs_ftp_user, -2, 22);

  prefs_ftp_password = gtk_entry_new ();
  gtk_widget_ref (prefs_ftp_password);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_password", prefs_ftp_password,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_password);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), prefs_ftp_password, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 1);
  gtk_widget_set_usize (prefs_ftp_password, -2, 22);
  gtk_entry_set_visibility (GTK_ENTRY (prefs_ftp_password), FALSE);

  label54 = gtk_label_new (_("Filename:"));
  gtk_widget_ref (label54);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label54", label54,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label54);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label54, 0, 1, 4, 5,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label54), GTK_JUSTIFY_RIGHT);

  prefs_ftp_address = gtk_entry_new ();
  gtk_widget_ref (prefs_ftp_address);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_address", prefs_ftp_address,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_address);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), prefs_ftp_address, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 1);
  gtk_widget_set_usize (prefs_ftp_address, -2, 22);

  prefs_ftp_filename = gtk_entry_new ();
  gtk_widget_ref (prefs_ftp_filename);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_filename", prefs_ftp_filename,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_filename);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), prefs_ftp_filename, 1, 2, 4, 5,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 1);

  prefs_ftp_framedrop_frame = gtk_frame_new (_("Frame drop"));
  gtk_widget_ref (prefs_ftp_framedrop_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_framedrop_frame", prefs_ftp_framedrop_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_framedrop_frame);
  gtk_box_pack_start (GTK_BOX (vbox55), prefs_ftp_framedrop_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_ftp_framedrop_frame), 5);

  hbox52 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox52);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox52", hbox52,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox52);
  gtk_container_add (GTK_CONTAINER (prefs_ftp_framedrop_frame), hbox52);

  label75 = gtk_label_new (_("Every"));
  gtk_widget_ref (label75);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label75", label75,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label75);
  gtk_box_pack_start (GTK_BOX (hbox52), label75, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label75), 5, 0);

  prefs_ftp_period_adj = gtk_adjustment_new (1, 1, 9999, 1, 10, 10);
  prefs_ftp_period = gtk_spin_button_new (GTK_ADJUSTMENT (prefs_ftp_period_adj), 1, 0);
  gtk_widget_ref (prefs_ftp_period);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_period", prefs_ftp_period,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_period);
  gtk_box_pack_start (GTK_BOX (hbox52), prefs_ftp_period, FALSE, FALSE, 0);
  gtk_widget_set_usize (prefs_ftp_period, 100, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (prefs_ftp_period), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (prefs_ftp_period), GTK_UPDATE_IF_VALID);

  label55 = gtk_label_new (_("frames"));
  gtk_widget_ref (label55);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label55", label55,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label55);
  gtk_box_pack_start (GTK_BOX (hbox52), label55, FALSE, FALSE, 2);
  gtk_misc_set_padding (GTK_MISC (label55), 5, 8);

  prefs_ftp_scratch_frame = gtk_frame_new (_("Scratch"));
  gtk_widget_ref (prefs_ftp_scratch_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_scratch_frame", prefs_ftp_scratch_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_scratch_frame);
  gtk_box_pack_start (GTK_BOX (vbox55), prefs_ftp_scratch_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (prefs_ftp_scratch_frame), 5);

  table73 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table73);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table73", table73,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table73);
  gtk_container_add (GTK_CONTAINER (prefs_ftp_scratch_frame), table73);

  prefs_ftp_seq = gtk_radio_button_new_with_label (ftp_mode_group, _("Sequentially number files"));
  ftp_mode_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_ftp_seq));
  gtk_widget_ref (prefs_ftp_seq);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_seq", prefs_ftp_seq,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_seq);
  gtk_table_attach (GTK_TABLE (table73), prefs_ftp_seq, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (prefs_ftp_seq), TRUE);

  prefs_ftp_scratch = gtk_radio_button_new_with_label (ftp_mode_group, _("Continually overwrite file"));
  ftp_mode_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_ftp_scratch));
  gtk_widget_ref (prefs_ftp_scratch);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_scratch", prefs_ftp_scratch,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_scratch);
  gtk_table_attach (GTK_TABLE (table73), prefs_ftp_scratch, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  hbox65 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox65);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox65", hbox65,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox65);
  gtk_table_attach (GTK_TABLE (table73), hbox65, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  prefs_ftp_date_tag = gtk_radio_button_new_with_label (ftp_datenum_group, _("with date"));
  ftp_datenum_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_ftp_date_tag));
  gtk_widget_ref (prefs_ftp_date_tag);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_date_tag", prefs_ftp_date_tag,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_date_tag);
  gtk_box_pack_start (GTK_BOX (hbox65), prefs_ftp_date_tag, TRUE, TRUE, 0);

  prefs_ftp_num_tag = gtk_radio_button_new_with_label (ftp_datenum_group, _("with numbers"));
  ftp_datenum_group = gtk_radio_button_group (GTK_RADIO_BUTTON (prefs_ftp_num_tag));
  gtk_widget_ref (prefs_ftp_num_tag);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "prefs_ftp_num_tag", prefs_ftp_num_tag,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_ftp_num_tag);
  gtk_box_pack_start (GTK_BOX (hbox65), prefs_ftp_num_tag, TRUE, TRUE, 0);

  label148 = gtk_label_new (_("FTP"));
  gtk_widget_ref (label148);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label148", label148,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label148);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook5), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook5), 4), label148);

  label57 = gtk_label_new (_("Services"));
  gtk_widget_ref (label57);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label57", label57,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label57);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook2), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook2), 1), label57);

  scrolledwindow2 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow2", scrolledwindow2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow2);
  gtk_container_add (GTK_CONTAINER (notebook2), scrolledwindow2);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow2), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);

  viewport1 = gtk_viewport_new (NULL, NULL);
  gtk_widget_ref (viewport1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "viewport1", viewport1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (viewport1);
  gtk_container_add (GTK_CONTAINER (scrolledwindow2), viewport1);

  vbox_features = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_features);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox_features", vbox_features,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_features);
  gtk_container_add (GTK_CONTAINER (viewport1), vbox_features);

  auto_exposure_frame = gtk_frame_new (_("Auto exposure"));
  gtk_widget_ref (auto_exposure_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "auto_exposure_frame", auto_exposure_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (auto_exposure_frame);
  gtk_box_pack_start (GTK_BOX (vbox_features), auto_exposure_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (auto_exposure_frame), 5);
  gtk_widget_set_sensitive (auto_exposure_frame, FALSE);

  table33 = gtk_table_new (1, 2, FALSE);
  gtk_widget_ref (table33);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table33", table33,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table33);
  gtk_container_add (GTK_CONTAINER (auto_exposure_frame), table33);

  auto_exposure_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (auto_exposure_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "auto_exposure_scale", auto_exposure_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (auto_exposure_scale);
  gtk_table_attach (GTK_TABLE (table33), auto_exposure_scale, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_widget_set_sensitive (auto_exposure_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (auto_exposure_scale), 0);

  auto_exposure_menu = gtk_option_menu_new ();
  gtk_widget_ref (auto_exposure_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "auto_exposure_menu", auto_exposure_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (auto_exposure_menu);
  gtk_table_attach (GTK_TABLE (table33), auto_exposure_menu, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  auto_exposure_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label ("");
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (auto_exposure_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (auto_exposure_menu), auto_exposure_menu_menu);

  temperature_frame = gtk_frame_new (_("Temperature"));
  gtk_widget_ref (temperature_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "temperature_frame", temperature_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temperature_frame);
  gtk_box_pack_start (GTK_BOX (vbox_features), temperature_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (temperature_frame), 5);
  gtk_widget_set_sensitive (temperature_frame, FALSE);

  table39 = gtk_table_new (3, 2, FALSE);
  gtk_widget_ref (table39);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table39", table39,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table39);
  gtk_container_add (GTK_CONTAINER (temperature_frame), table39);

  temperature_current_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (temperature_current_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "temperature_current_scale", temperature_current_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temperature_current_scale);
  gtk_table_attach (GTK_TABLE (table39), temperature_current_scale, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_widget_set_sensitive (temperature_current_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (temperature_current_scale), 0);

  temperature_target_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (temperature_target_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "temperature_target_scale", temperature_target_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temperature_target_scale);
  gtk_table_attach (GTK_TABLE (table39), temperature_target_scale, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_widget_set_sensitive (temperature_target_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (temperature_target_scale), 0);

  temperature_menu = gtk_option_menu_new ();
  gtk_widget_ref (temperature_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "temperature_menu", temperature_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temperature_menu);
  gtk_table_attach (GTK_TABLE (table39), temperature_menu, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  temperature_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label ("");
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (temperature_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (temperature_menu), temperature_menu_menu);

  label81 = gtk_label_new (_("Current:"));
  gtk_widget_ref (label81);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label81", label81,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label81);
  gtk_table_attach (GTK_TABLE (table39), label81, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label81), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label81), 0, 0.5);

  label82 = gtk_label_new (_("Target:"));
  gtk_widget_ref (label82);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label82", label82,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label82);
  gtk_table_attach (GTK_TABLE (table39), label82, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label82), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label82), 0, 0.5);

  white_balance_frame = gtk_frame_new (_("White Balance"));
  gtk_widget_ref (white_balance_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "white_balance_frame", white_balance_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (white_balance_frame);
  gtk_box_pack_start (GTK_BOX (vbox_features), white_balance_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (white_balance_frame), 5);
  gtk_widget_set_sensitive (white_balance_frame, FALSE);

  table38 = gtk_table_new (3, 2, FALSE);
  gtk_widget_ref (table38);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table38", table38,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table38);
  gtk_container_add (GTK_CONTAINER (white_balance_frame), table38);

  white_balance_BU_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (white_balance_BU_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "white_balance_BU_scale", white_balance_BU_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (white_balance_BU_scale);
  gtk_table_attach (GTK_TABLE (table38), white_balance_BU_scale, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_widget_set_sensitive (white_balance_BU_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (white_balance_BU_scale), 0);

  white_balance_RV_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (white_balance_RV_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "white_balance_RV_scale", white_balance_RV_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (white_balance_RV_scale);
  gtk_table_attach (GTK_TABLE (table38), white_balance_RV_scale, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_widget_set_sensitive (white_balance_RV_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (white_balance_RV_scale), 0);

  white_balance_menu = gtk_option_menu_new ();
  gtk_widget_ref (white_balance_menu);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "white_balance_menu", white_balance_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (white_balance_menu);
  gtk_table_attach (GTK_TABLE (table38), white_balance_menu, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  white_balance_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label ("");
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (white_balance_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (white_balance_menu), white_balance_menu_menu);

  label44 = gtk_label_new (_("Blue/U-field:"));
  gtk_widget_ref (label44);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label44", label44,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label44);
  gtk_table_attach (GTK_TABLE (table38), label44, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label44), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label44), 0, 0.5);

  label45 = gtk_label_new (_("Red/V-field:"));
  gtk_widget_ref (label45);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label45", label45,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label45);
  gtk_table_attach (GTK_TABLE (table38), label45, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label45), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label45), 0, 0.5);

  label147 = gtk_label_new (_("These features are only there to serve as layout examples.\nFeatures are autogenerated by the program.\nThis means that changing something here won't change\nanything in the GUI at all..."));
  gtk_widget_ref (label147);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label147", label147,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label147);
  gtk_box_pack_start (GTK_BOX (vbox_features), label147, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label147), GTK_JUSTIFY_LEFT);

  label58 = gtk_label_new (_("Features"));
  gtk_widget_ref (label58);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label58", label58,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label58);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook2), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook2), 2), label58);

  vbox34 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox34);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "vbox34", vbox34,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox34);
  gtk_container_add (GTK_CONTAINER (notebook2), vbox34);

  format7_mode_frame = gtk_frame_new (_("Current mode"));
  gtk_widget_ref (format7_mode_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_mode_frame", format7_mode_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_mode_frame);
  gtk_box_pack_start (GTK_BOX (vbox34), format7_mode_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_mode_frame), 5);

  table19 = gtk_table_new (1, 3, FALSE);
  gtk_widget_ref (table19);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table19", table19,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table19);
  gtk_container_add (GTK_CONTAINER (format7_mode_frame), table19);

  format7_mode = gtk_option_menu_new ();
  gtk_widget_ref (format7_mode);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_mode", format7_mode,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_mode);
  gtk_table_attach (GTK_TABLE (table19), format7_mode, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_mode), 1);
  format7_mode_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("Mode: N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (format7_mode_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (format7_mode), format7_mode_menu);

  label13 = gtk_label_new (_("Coding:"));
  gtk_widget_ref (label13);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label13", label13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label13);
  gtk_table_attach (GTK_TABLE (table19), label13, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label13), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_padding (GTK_MISC (label13), 6, 0);

  format7_color = gtk_option_menu_new ();
  gtk_widget_ref (format7_color);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_color", format7_color,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_color);
  gtk_table_attach (GTK_TABLE (table19), format7_color, 2, 3, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_color), 1);
  format7_color_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("Color: N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (format7_color_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (format7_color), format7_color_menu);

  format7_packet_frame = gtk_frame_new (_("Packet size"));
  gtk_widget_ref (format7_packet_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_packet_frame", format7_packet_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_packet_frame);
  gtk_box_pack_start (GTK_BOX (vbox34), format7_packet_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_packet_frame), 5);

  hbox57 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox57);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox57", hbox57,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox57);
  gtk_container_add (GTK_CONTAINER (format7_packet_frame), hbox57);

  format7_packet_size = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 0, 0, 0, 0)));
  gtk_widget_ref (format7_packet_size);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_packet_size", format7_packet_size,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_packet_size);
  gtk_box_pack_start (GTK_BOX (hbox57), format7_packet_size, TRUE, TRUE, 0);
  gtk_scale_set_digits (GTK_SCALE (format7_packet_size), 0);

  format7_horizontal_frame = gtk_frame_new (_("Horizontal setup"));
  gtk_widget_ref (format7_horizontal_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_horizontal_frame", format7_horizontal_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_horizontal_frame);
  gtk_box_pack_start (GTK_BOX (vbox34), format7_horizontal_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_horizontal_frame), 5);

  table70 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table70);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table70", table70,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table70);
  gtk_container_add (GTK_CONTAINER (format7_horizontal_frame), table70);

  label139 = gtk_label_new (_("Size"));
  gtk_widget_ref (label139);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label139", label139,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label139);
  gtk_table_attach (GTK_TABLE (table70), label139, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label139), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label139), 2, 2);

  label140 = gtk_label_new (_("Position"));
  gtk_widget_ref (label140);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label140", label140,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label140);
  gtk_table_attach (GTK_TABLE (table70), label140, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label140), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label140), 2, 2);

  format7_hsize_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 1, 255, 10, 0, 0)));
  gtk_widget_ref (format7_hsize_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_hsize_scale", format7_hsize_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_hsize_scale);
  gtk_table_attach (GTK_TABLE (table70), format7_hsize_scale, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_scale_set_digits (GTK_SCALE (format7_hsize_scale), 0);

  format7_hposition_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 1, 255, 10, 0, 0)));
  gtk_widget_ref (format7_hposition_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_hposition_scale", format7_hposition_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_hposition_scale);
  gtk_table_attach (GTK_TABLE (table70), format7_hposition_scale, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_scale_set_digits (GTK_SCALE (format7_hposition_scale), 0);

  format7_vertical_frame = gtk_frame_new (_("Vertical setup"));
  gtk_widget_ref (format7_vertical_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_vertical_frame", format7_vertical_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_vertical_frame);
  gtk_box_pack_start (GTK_BOX (vbox34), format7_vertical_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_vertical_frame), 5);

  table71 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table71);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table71", table71,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table71);
  gtk_container_add (GTK_CONTAINER (format7_vertical_frame), table71);

  label141 = gtk_label_new (_("Size"));
  gtk_widget_ref (label141);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label141", label141,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label141);
  gtk_table_attach (GTK_TABLE (table71), label141, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label141), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label141), 2, 2);

  label142 = gtk_label_new (_("Position"));
  gtk_widget_ref (label142);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label142", label142,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label142);
  gtk_table_attach (GTK_TABLE (table71), label142, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label142), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label142), 2, 2);

  format7_vsize_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 1, 255, 10, 0, 0)));
  gtk_widget_ref (format7_vsize_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_vsize_scale", format7_vsize_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_vsize_scale);
  gtk_table_attach (GTK_TABLE (table71), format7_vsize_scale, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_scale_set_digits (GTK_SCALE (format7_vsize_scale), 0);

  format7_vposition_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 1, 255, 10, 0, 0)));
  gtk_widget_ref (format7_vposition_scale);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_vposition_scale", format7_vposition_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_vposition_scale);
  gtk_table_attach (GTK_TABLE (table71), format7_vposition_scale, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_scale_set_digits (GTK_SCALE (format7_vposition_scale), 0);

  format7_frame_info_frame = gtk_frame_new (_("Frame info [bytes]"));
  gtk_widget_ref (format7_frame_info_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_frame_info_frame", format7_frame_info_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_frame_info_frame);
  gtk_box_pack_start (GTK_BOX (vbox34), format7_frame_info_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_frame_info_frame), 5);

  table15 = gtk_table_new (2, 4, TRUE);
  gtk_widget_ref (table15);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table15", table15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table15);
  gtk_container_add (GTK_CONTAINER (format7_frame_info_frame), table15);

  label14 = gtk_label_new (_("Image pixels :  "));
  gtk_widget_ref (label14);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label14", label14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label14);
  gtk_table_attach (GTK_TABLE (table15), label14, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label14), 2, 2);

  label15 = gtk_label_new (_("Image size :  "));
  gtk_widget_ref (label15);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label15", label15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label15);
  gtk_table_attach (GTK_TABLE (table15), label15, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label15), 2, 2);

  format7_imagebytes = gtk_statusbar_new ();
  gtk_widget_ref (format7_imagebytes);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_imagebytes", format7_imagebytes,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_imagebytes);
  gtk_table_attach (GTK_TABLE (table15), format7_imagebytes, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 2, 2);

  format7_imagepixels = gtk_statusbar_new ();
  gtk_widget_ref (format7_imagepixels);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_imagepixels", format7_imagepixels,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_imagepixels);
  gtk_table_attach (GTK_TABLE (table15), format7_imagepixels, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 2, 2);

  label159 = gtk_label_new (_("Padding :  "));
  gtk_widget_ref (label159);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label159", label159,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label159);
  gtk_table_attach (GTK_TABLE (table15), label159, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label159), 2, 2);

  label160 = gtk_label_new (_("Total size:  "));
  gtk_widget_ref (label160);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label160", label160,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label160);
  gtk_table_attach (GTK_TABLE (table15), label160, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label160), 2, 2);

  format7_padding = gtk_statusbar_new ();
  gtk_widget_ref (format7_padding);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_padding", format7_padding,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_padding);
  gtk_table_attach (GTK_TABLE (table15), format7_padding, 3, 4, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  format7_totalbytes = gtk_statusbar_new ();
  gtk_widget_ref (format7_totalbytes);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "format7_totalbytes", format7_totalbytes,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_totalbytes);
  gtk_table_attach (GTK_TABLE (table15), format7_totalbytes, 3, 4, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label59 = gtk_label_new (_("Format 7"));
  gtk_widget_ref (label59);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label59", label59,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label59);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook2), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook2), 3), label59);

  table77 = gtk_table_new (2, 1, FALSE);
  gtk_widget_ref (table77);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table77", table77,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table77);
  gtk_container_add (GTK_CONTAINER (notebook2), table77);

  notebook7 = gtk_notebook_new ();
  gtk_widget_ref (notebook7);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "notebook7", notebook7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (notebook7);
  gtk_table_attach (GTK_TABLE (table77), notebook7, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (notebook7), 5);

  table79 = gtk_table_new (1, 1, FALSE);
  gtk_widget_ref (table79);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table79", table79,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table79);
  gtk_container_add (GTK_CONTAINER (notebook7), table79);

  scrolledwindow1 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow1", scrolledwindow1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow1);
  gtk_table_attach (GTK_TABLE (table79), scrolledwindow1, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (scrolledwindow1), 5);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow1), GTK_POLICY_NEVER, GTK_POLICY_ALWAYS);

  main_status = gtk_text_new (NULL, NULL);
  gtk_widget_ref (main_status);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "main_status", main_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (main_status);
  gtk_container_add (GTK_CONTAINER (scrolledwindow1), main_status);

  label161 = gtk_label_new (_("Messages Log"));
  gtk_widget_ref (label161);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label161", label161,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label161);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook7), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook7), 0), label161);

  table78 = gtk_table_new (2, 1, FALSE);
  gtk_widget_ref (table78);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table78", table78,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table78);
  gtk_container_add (GTK_CONTAINER (notebook7), table78);

  bandwidth_frame = gtk_frame_new (_("Camera bandwidth usage"));
  gtk_widget_ref (bandwidth_frame);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "bandwidth_frame", bandwidth_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bandwidth_frame);
  gtk_table_attach (GTK_TABLE (table78), bandwidth_frame, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (bandwidth_frame), 5);

  bandwidth_table = gtk_table_new (3, 5, TRUE);
  gtk_widget_ref (bandwidth_table);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "bandwidth_table", bandwidth_table,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bandwidth_table);
  gtk_container_add (GTK_CONTAINER (bandwidth_frame), bandwidth_table);
  gtk_container_set_border_width (GTK_CONTAINER (bandwidth_table), 2);
  gtk_table_set_row_spacings (GTK_TABLE (bandwidth_table), 2);
  gtk_table_set_col_spacings (GTK_TABLE (bandwidth_table), 2);

  label157 = gtk_label_new (_("Bus 2:"));
  gtk_widget_ref (label157);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label157", label157,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label157);
  gtk_table_attach (GTK_TABLE (bandwidth_table), label157, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label157), 2, 2);

  label158 = gtk_label_new (_("Bus 3:"));
  gtk_widget_ref (label158);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label158", label158,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label158);
  gtk_table_attach (GTK_TABLE (bandwidth_table), label158, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label158), 2, 2);

  label156 = gtk_label_new (_("Bus 1:"));
  gtk_widget_ref (label156);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label156", label156,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label156);
  gtk_table_attach (GTK_TABLE (bandwidth_table), label156, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label156), 2, 2);

  bandwidth1 = gtk_progress_bar_new ();
  gtk_widget_ref (bandwidth1);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "bandwidth1", bandwidth1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bandwidth1);
  gtk_table_attach (GTK_TABLE (bandwidth_table), bandwidth1, 1, 5, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  bandwidth2 = gtk_progress_bar_new ();
  gtk_widget_ref (bandwidth2);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "bandwidth2", bandwidth2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bandwidth2);
  gtk_table_attach (GTK_TABLE (bandwidth_table), bandwidth2, 1, 5, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  bandwidth3 = gtk_progress_bar_new ();
  gtk_widget_ref (bandwidth3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "bandwidth3", bandwidth3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (bandwidth3);
  gtk_table_attach (GTK_TABLE (bandwidth_table), bandwidth3, 1, 5, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  scrolledwindow3 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow3);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "scrolledwindow3", scrolledwindow3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow3);
  gtk_table_attach (GTK_TABLE (table78), scrolledwindow3, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (scrolledwindow3), 5);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow3), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  service_clist = gtk_clist_new (3);
  gtk_widget_ref (service_clist);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "service_clist", service_clist,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (service_clist);
  gtk_container_add (GTK_CONTAINER (scrolledwindow3), service_clist);
  gtk_clist_set_column_width (GTK_CLIST (service_clist), 0, 200);
  gtk_clist_set_column_width (GTK_CLIST (service_clist), 1, 60);
  gtk_clist_set_column_width (GTK_CLIST (service_clist), 2, 80);
  gtk_clist_column_titles_show (GTK_CLIST (service_clist));

  label170 = gtk_label_new (_("Service"));
  gtk_widget_ref (label170);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label170", label170,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label170);
  gtk_clist_set_column_widget (GTK_CLIST (service_clist), 0, label170);

  label171 = gtk_label_new (_("FPS"));
  gtk_widget_ref (label171);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label171", label171,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label171);
  gtk_clist_set_column_widget (GTK_CLIST (service_clist), 1, label171);

  label172 = gtk_label_new (_("Processed"));
  gtk_widget_ref (label172);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label172", label172,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label172);
  gtk_clist_set_column_widget (GTK_CLIST (service_clist), 2, label172);

  label162 = gtk_label_new (_("Performances"));
  gtk_widget_ref (label162);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label162", label162,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label162);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook7), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook7), 1), label162);

  frame4 = gtk_frame_new (_("Cursor"));
  gtk_widget_ref (frame4);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "frame4", frame4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame4);
  gtk_table_attach (GTK_TABLE (table77), frame4, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame4), 5);

  hbox62 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox62);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "hbox62", hbox62,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox62);
  gtk_container_add (GTK_CONTAINER (frame4), hbox62);
  gtk_container_set_border_width (GTK_CONTAINER (hbox62), 3);

  table64 = gtk_table_new (1, 3, TRUE);
  gtk_widget_ref (table64);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table64", table64,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table64);
  gtk_box_pack_start (GTK_BOX (hbox62), table64, TRUE, TRUE, 4);
  gtk_table_set_col_spacings (GTK_TABLE (table64), 2);

  table50 = gtk_table_new (1, 2, FALSE);
  gtk_widget_ref (table50);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table50", table50,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table50);
  gtk_table_attach (GTK_TABLE (table64), table50, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 3, 0);
  gtk_table_set_col_spacings (GTK_TABLE (table50), 3);

  label102 = gtk_label_new (_("XY:"));
  gtk_widget_ref (label102);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label102", label102,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label102);
  gtk_table_attach (GTK_TABLE (table50), label102, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label102), 0, 0.5);

  cursor_pos = gtk_statusbar_new ();
  gtk_widget_ref (cursor_pos);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "cursor_pos", cursor_pos,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (cursor_pos);
  gtk_table_attach (GTK_TABLE (table50), cursor_pos, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  table51 = gtk_table_new (1, 2, FALSE);
  gtk_widget_ref (table51);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table51", table51,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table51);
  gtk_table_attach (GTK_TABLE (table64), table51, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 3, 0);
  gtk_table_set_col_spacings (GTK_TABLE (table51), 3);

  label103 = gtk_label_new (_("RGB:"));
  gtk_widget_ref (label103);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label103", label103,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label103);
  gtk_table_attach (GTK_TABLE (table51), label103, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label103), 0, 0.5);

  cursor_rgb = gtk_statusbar_new ();
  gtk_widget_ref (cursor_rgb);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "cursor_rgb", cursor_rgb,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (cursor_rgb);
  gtk_table_attach (GTK_TABLE (table51), cursor_rgb, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  table52 = gtk_table_new (1, 2, FALSE);
  gtk_widget_ref (table52);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "table52", table52,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table52);
  gtk_table_attach (GTK_TABLE (table64), table52, 2, 3, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 3, 0);
  gtk_table_set_col_spacings (GTK_TABLE (table52), 3);

  label104 = gtk_label_new (_("YUV:"));
  gtk_widget_ref (label104);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label104", label104,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label104);
  gtk_table_attach (GTK_TABLE (table52), label104, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_alignment (GTK_MISC (label104), 0, 0.5);

  cursor_yuv = gtk_statusbar_new ();
  gtk_widget_ref (cursor_yuv);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "cursor_yuv", cursor_yuv,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (cursor_yuv);
  gtk_table_attach (GTK_TABLE (table52), cursor_yuv, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label151 = gtk_label_new (_("Status"));
  gtk_widget_ref (label151);
  gtk_object_set_data_full (GTK_OBJECT (main_window), "label151", label151,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label151);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (notebook2), gtk_notebook_get_nth_page (GTK_NOTEBOOK (notebook2), 4), label151);

  gtk_signal_connect (GTK_OBJECT (main_window), "delete_event",
                      GTK_SIGNAL_FUNC (on_main_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (power_on), "clicked",
                      GTK_SIGNAL_FUNC (on_power_on_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (power_off), "clicked",
                      GTK_SIGNAL_FUNC (on_power_off_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (power_reset), "clicked",
                      GTK_SIGNAL_FUNC (on_power_reset_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (load_mem), "clicked",
                      GTK_SIGNAL_FUNC (on_load_mem_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (save_mem), "clicked",
                      GTK_SIGNAL_FUNC (on_save_mem_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (global_iso_start), "clicked",
                      GTK_SIGNAL_FUNC (on_global_iso_start_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (global_iso_stop), "clicked",
                      GTK_SIGNAL_FUNC (on_global_iso_stop_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (global_iso_restart), "clicked",
                      GTK_SIGNAL_FUNC (on_global_iso_restart_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (sync_control_button), "toggled",
                      GTK_SIGNAL_FUNC (on_sync_control_button_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (camera_name_text), "changed",
                      GTK_SIGNAL_FUNC (on_camera_name_text_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (service_iso), "toggled",
                      GTK_SIGNAL_FUNC (on_service_iso_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (service_display), "toggled",
                      GTK_SIGNAL_FUNC (on_service_display_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (service_save), "toggled",
                      GTK_SIGNAL_FUNC (on_service_save_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (service_ftp), "toggled",
                      GTK_SIGNAL_FUNC (on_service_ftp_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (service_v4l), "toggled",
                      GTK_SIGNAL_FUNC (on_service_v4l_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (dma_buffer_size), "changed",
                      GTK_SIGNAL_FUNC (on_dma_buffer_size_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_receive_dropframes), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_receive_drop_frames_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_video1394_device), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_video1394_device_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iso_stop), "clicked",
                      GTK_SIGNAL_FUNC (on_iso_stop_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iso_restart), "clicked",
                      GTK_SIGNAL_FUNC (on_iso_restart_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iso_start), "clicked",
                      GTK_SIGNAL_FUNC (on_iso_start_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (trigger_count), "changed",
                      GTK_SIGNAL_FUNC (on_trigger_count_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (trigger_external), "toggled",
                      GTK_SIGNAL_FUNC (on_trigger_external_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (trigger_polarity), "toggled",
                      GTK_SIGNAL_FUNC (on_trigger_polarity_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (mono16_bpp), "changed",
                      GTK_SIGNAL_FUNC (on_mono16_bpp_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_display_period), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_display_period_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_display_keep_ratio), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_display_keep_ratio_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (display_redraw), "toggled",
                      GTK_SIGNAL_FUNC (on_display_redraw_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (display_redraw_rate), "changed",
                      GTK_SIGNAL_FUNC (on_display_redraw_rate_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (overlay_color_picker), "color_set",
                      GTK_SIGNAL_FUNC (on_overlay_color_picker_color_set),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_save_period), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_save_period_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_save_seq), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_save_seq_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_save_scratch), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_save_scratch_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_save_video), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_save_video_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_save_date_tag), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_save_date_tag_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_save_num_tag), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_save_num_tag_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (use_ram_buffer), "toggled",
                      GTK_SIGNAL_FUNC (on_ram_buffer_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_save_convert), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_save_convert_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_save_noconvert), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_save_noconvert_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (ram_buffer_size), "changed",
                      GTK_SIGNAL_FUNC (on_ram_buffer_size_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (malloc_test), "clicked",
                      GTK_SIGNAL_FUNC (on_malloc_test_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_v4l_period), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_v4l_period_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_v4l_dev_name), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_v4l_dev_name_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_path), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_path_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_user), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_user_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_password), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_password_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_address), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_address_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_filename), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_filename_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_period), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_period_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_seq), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_seq_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_scratch), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_scratch_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_date_tag), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_date_tag_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_ftp_num_tag), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_ftp_num_tag_toggled),
                      NULL);

  gtk_object_set_data (GTK_OBJECT (main_window), "tooltips", tooltips);

  return main_window;
}

GtkWidget*
create_about_window (void)
{
  const gchar *authors[] = {
    "Damien Douxchamps <ddouxchamps@users.sf.net>",
    "Dan Dennedy <dan@dennedy.org>",
    "See the AUTHORS file for more authors and contributors",
    NULL
  };
  GtkWidget *about_window;

  about_window = gnome_about_new ("Coriander", VERSION,
                        _("Copyright 2000-2004 Damien Douxchamps"),
                        authors,
                        _("Coriander home page is http://coriander.sourceforge.net\n \n \nSpecial thanks to Hamamatsu Corporation and Allied Vision Technologies for helping the development of Coriander through the gracious lease and/or donation of vision hardware."),
                        "coriander/coriander-logo.png");
  gtk_object_set_data (GTK_OBJECT (about_window), "about_window", about_window);
  gtk_window_set_modal (GTK_WINDOW (about_window), TRUE);

  return about_window;
}

GtkWidget*
create_no_handle_window (void)
{
  GtkWidget *no_handle_window;
  GtkWidget *dialog_vbox2;
  GtkWidget *button1;
  GtkWidget *dialog_action_area2;

  /* We create it with an OK button, and then remove the button, to work
     around a bug in gnome-libs. */
  no_handle_window = gnome_message_box_new (_("Warning: could not get a handle to your IEEE1394 card.\n\nPlease check that:\n- the card is present\n- the IEEE1394 modules (ieee1394, ohci1394, raw1394 and video1394) are loaded\n- you have read/write permissions on the /dev/raw1394 and /dev/video1394 devices."),
                              GNOME_MESSAGE_BOX_WARNING,
                              GNOME_STOCK_BUTTON_OK, NULL);
  gtk_container_remove (GTK_CONTAINER (GNOME_DIALOG (no_handle_window)->action_area), GNOME_DIALOG (no_handle_window)->buttons->data);
  GNOME_DIALOG (no_handle_window)->buttons = NULL;
  gtk_object_set_data (GTK_OBJECT (no_handle_window), "no_handle_window", no_handle_window);
  gtk_window_set_title (GTK_WINDOW (no_handle_window), _("Coriander Warning"));
  gtk_window_set_policy (GTK_WINDOW (no_handle_window), FALSE, FALSE, FALSE);

  dialog_vbox2 = GNOME_DIALOG (no_handle_window)->vbox;
  gtk_object_set_data (GTK_OBJECT (no_handle_window), "dialog_vbox2", dialog_vbox2);
  gtk_widget_show (dialog_vbox2);

  gnome_dialog_append_button_with_pixmap (GNOME_DIALOG (no_handle_window),
                                          _("Exit"), GNOME_STOCK_PIXMAP_EXIT);
  button1 = GTK_WIDGET (g_list_last (GNOME_DIALOG (no_handle_window)->buttons)->data);
  gtk_widget_ref (button1);
  gtk_object_set_data_full (GTK_OBJECT (no_handle_window), "button1", button1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button1);
  GTK_WIDGET_SET_FLAGS (button1, GTK_CAN_DEFAULT);

  dialog_action_area2 = GNOME_DIALOG (no_handle_window)->action_area;
  gtk_widget_ref (dialog_action_area2);
  gtk_object_set_data_full (GTK_OBJECT (no_handle_window), "dialog_action_area2", dialog_action_area2,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_signal_connect (GTK_OBJECT (button1), "clicked",
                      GTK_SIGNAL_FUNC (gtk_main_quit),
                      NULL);

  return no_handle_window;
}

GtkWidget*
create_no_camera_window (void)
{
  GtkWidget *no_camera_window;
  GtkWidget *dialog_vbox3;
  GtkWidget *button3;
  GtkWidget *dialog_action_area3;

  /* We create it with an OK button, and then remove the button, to work
     around a bug in gnome-libs. */
  no_camera_window = gnome_message_box_new (_("Warning: could not find a Digital Camera on the bus.\n\nPlease check that:\n- the cables are properly set\n- the devices on the bus are properly powered\n- your camera is compliant with the Digital Camera specs (see http://www.1394ta.org).\n\nNOTICE:\nAll consumer grade cameras in which you can insert a video tape are NOT compliant with the above-\nmentionned specifications and therefor cannot be controlled with Coriander. These cameras can be\ncontrolled with the AV/C protocol, please refer to http://www.linux1394.org"),
                              GNOME_MESSAGE_BOX_WARNING,
                              GNOME_STOCK_BUTTON_OK, NULL);
  gtk_container_remove (GTK_CONTAINER (GNOME_DIALOG (no_camera_window)->action_area), GNOME_DIALOG (no_camera_window)->buttons->data);
  GNOME_DIALOG (no_camera_window)->buttons = NULL;
  gtk_object_set_data (GTK_OBJECT (no_camera_window), "no_camera_window", no_camera_window);
  gtk_window_set_title (GTK_WINDOW (no_camera_window), _("Coriander Warning"));
  gtk_window_set_policy (GTK_WINDOW (no_camera_window), FALSE, FALSE, FALSE);

  dialog_vbox3 = GNOME_DIALOG (no_camera_window)->vbox;
  gtk_object_set_data (GTK_OBJECT (no_camera_window), "dialog_vbox3", dialog_vbox3);
  gtk_widget_show (dialog_vbox3);

  gnome_dialog_append_button_with_pixmap (GNOME_DIALOG (no_camera_window),
                                          _("Exit"), GNOME_STOCK_PIXMAP_EXIT);
  button3 = GTK_WIDGET (g_list_last (GNOME_DIALOG (no_camera_window)->buttons)->data);
  gtk_widget_ref (button3);
  gtk_object_set_data_full (GTK_OBJECT (no_camera_window), "button3", button3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button3);
  GTK_WIDGET_SET_FLAGS (button3, GTK_CAN_DEFAULT);

  dialog_action_area3 = GNOME_DIALOG (no_camera_window)->action_area;
  gtk_widget_ref (dialog_action_area3);
  gtk_object_set_data_full (GTK_OBJECT (no_camera_window), "dialog_action_area3", dialog_action_area3,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_signal_connect (GTK_OBJECT (button3), "clicked",
                      GTK_SIGNAL_FUNC (gtk_main_quit),
                      NULL);

  return no_camera_window;
}

GtkWidget*
create_preferences_window (void)
{
  GtkWidget *preferences_window;
  GtkWidget *vbox46;
  GtkWidget *timeout_frame;
  GtkWidget *hbox56;
  GtkObject *prefs_op_timeout_scale_adj;
  GtkWidget *prefs_op_timeout_scale;
  GtkWidget *label78;
  GtkWidget *update_rate_frame;
  GtkWidget *hbox44;
  GtkWidget *prefs_update_power;
  GtkWidget *label79;
  GtkObject *prefs_update_scale_adj;
  GtkWidget *prefs_update_scale;
  GtkWidget *label80;
  GtkWidget *frame10;
  GtkWidget *hbox70;
  GSList *overlay_byte_order_group = NULL;
  GtkWidget *overlay_byte_order_YUYV;
  GtkWidget *overlay_byte_order_UYVY;

  preferences_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (preferences_window), "preferences_window", preferences_window);
  gtk_window_set_title (GTK_WINDOW (preferences_window), _("Preferences"));
  gtk_window_set_default_size (GTK_WINDOW (preferences_window), -1, 500);
  gtk_window_set_policy (GTK_WINDOW (preferences_window), FALSE, FALSE, FALSE);

  vbox46 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox46);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "vbox46", vbox46,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox46);
  gtk_container_add (GTK_CONTAINER (preferences_window), vbox46);

  timeout_frame = gtk_frame_new (_("Timeout for One-Push Auto"));
  gtk_widget_ref (timeout_frame);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "timeout_frame", timeout_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (timeout_frame);
  gtk_box_pack_start (GTK_BOX (vbox46), timeout_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (timeout_frame), 5);

  hbox56 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox56);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "hbox56", hbox56,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox56);
  gtk_container_add (GTK_CONTAINER (timeout_frame), hbox56);

  prefs_op_timeout_scale_adj = gtk_adjustment_new (10, 0, 100, 1, 10, 10);
  prefs_op_timeout_scale = gtk_spin_button_new (GTK_ADJUSTMENT (prefs_op_timeout_scale_adj), 1, 1);
  gtk_widget_ref (prefs_op_timeout_scale);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "prefs_op_timeout_scale", prefs_op_timeout_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_op_timeout_scale);
  gtk_box_pack_start (GTK_BOX (hbox56), prefs_op_timeout_scale, FALSE, FALSE, 5);
  gtk_widget_set_usize (prefs_op_timeout_scale, 100, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (prefs_op_timeout_scale), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (prefs_op_timeout_scale), GTK_UPDATE_IF_VALID);

  label78 = gtk_label_new (_("seconds"));
  gtk_widget_ref (label78);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "label78", label78,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label78);
  gtk_box_pack_start (GTK_BOX (hbox56), label78, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label78), 5, 8);

  update_rate_frame = gtk_frame_new (_("Update rate"));
  gtk_widget_ref (update_rate_frame);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "update_rate_frame", update_rate_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (update_rate_frame);
  gtk_box_pack_start (GTK_BOX (vbox46), update_rate_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (update_rate_frame), 5);

  hbox44 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox44);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "hbox44", hbox44,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox44);
  gtk_container_add (GTK_CONTAINER (update_rate_frame), hbox44);
  gtk_container_set_border_width (GTK_CONTAINER (hbox44), 2);

  prefs_update_power = gtk_check_button_new_with_label (_("Update"));
  gtk_widget_ref (prefs_update_power);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "prefs_update_power", prefs_update_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_update_power);
  gtk_box_pack_start (GTK_BOX (hbox44), prefs_update_power, FALSE, FALSE, 2);

  label79 = gtk_label_new (_("@"));
  gtk_widget_ref (label79);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "label79", label79,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label79);
  gtk_box_pack_start (GTK_BOX (hbox44), label79, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label79), 5, 0);

  prefs_update_scale_adj = gtk_adjustment_new (5, 0.1, 100, 1, 10, 5);
  prefs_update_scale = gtk_spin_button_new (GTK_ADJUSTMENT (prefs_update_scale_adj), 1, 1);
  gtk_widget_ref (prefs_update_scale);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "prefs_update_scale", prefs_update_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (prefs_update_scale);
  gtk_box_pack_start (GTK_BOX (hbox44), prefs_update_scale, FALSE, TRUE, 0);
  gtk_widget_set_usize (prefs_update_scale, 100, -2);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (prefs_update_scale), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (prefs_update_scale), GTK_UPDATE_IF_VALID);

  label80 = gtk_label_new (_("Hertz"));
  gtk_widget_ref (label80);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "label80", label80,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label80);
  gtk_box_pack_start (GTK_BOX (hbox44), label80, FALSE, FALSE, 0);
  gtk_misc_set_padding (GTK_MISC (label80), 5, 8);

  frame10 = gtk_frame_new (_("Overlay byte order"));
  gtk_widget_ref (frame10);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "frame10", frame10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame10);
  gtk_box_pack_start (GTK_BOX (vbox46), frame10, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame10), 5);

  hbox70 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox70);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "hbox70", hbox70,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox70);
  gtk_container_add (GTK_CONTAINER (frame10), hbox70);

  overlay_byte_order_YUYV = gtk_radio_button_new_with_label (overlay_byte_order_group, _("YUYV"));
  overlay_byte_order_group = gtk_radio_button_group (GTK_RADIO_BUTTON (overlay_byte_order_YUYV));
  gtk_widget_ref (overlay_byte_order_YUYV);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "overlay_byte_order_YUYV", overlay_byte_order_YUYV,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (overlay_byte_order_YUYV);
  gtk_box_pack_start (GTK_BOX (hbox70), overlay_byte_order_YUYV, FALSE, FALSE, 5);

  overlay_byte_order_UYVY = gtk_radio_button_new_with_label (overlay_byte_order_group, _("UYVY"));
  overlay_byte_order_group = gtk_radio_button_group (GTK_RADIO_BUTTON (overlay_byte_order_UYVY));
  gtk_widget_ref (overlay_byte_order_UYVY);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "overlay_byte_order_UYVY", overlay_byte_order_UYVY,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (overlay_byte_order_UYVY);
  gtk_box_pack_start (GTK_BOX (hbox70), overlay_byte_order_UYVY, FALSE, FALSE, 0);

  gtk_signal_connect (GTK_OBJECT (preferences_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (preferences_window), "delete_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (preferences_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_op_timeout_scale), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_op_timeout_scale_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_update_power), "toggled",
                      GTK_SIGNAL_FUNC (on_prefs_update_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (prefs_update_scale), "changed",
                      GTK_SIGNAL_FUNC (on_prefs_update_scale_changed),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (overlay_byte_order_YUYV), "toggled",
                      GTK_SIGNAL_FUNC (on_overlay_byte_order_YUYV_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (overlay_byte_order_UYVY), "toggled",
                      GTK_SIGNAL_FUNC (on_overlay_byte_order_UYVY_toggled),
                      NULL);

  return preferences_window;
}

GtkWidget*
create_help_window (void)
{
  GtkWidget *help_window;
  GtkWidget *table47;
  GtkWidget *key_bindings;
  GtkWidget *label91;
  GtkWidget *label92;

  help_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (help_window), "help_window", help_window);
  gtk_window_set_title (GTK_WINDOW (help_window), _("Help"));
  gtk_window_set_policy (GTK_WINDOW (help_window), FALSE, FALSE, TRUE);

  table47 = gtk_table_new (1, 1, FALSE);
  gtk_widget_ref (table47);
  gtk_object_set_data_full (GTK_OBJECT (help_window), "table47", table47,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table47);
  gtk_container_add (GTK_CONTAINER (help_window), table47);
  gtk_container_set_border_width (GTK_CONTAINER (table47), 10);

  key_bindings = gtk_clist_new (2);
  gtk_widget_ref (key_bindings);
  gtk_object_set_data_full (GTK_OBJECT (help_window), "key_bindings", key_bindings,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (key_bindings);
  gtk_table_attach (GTK_TABLE (table47), key_bindings, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_clist_set_column_width (GTK_CLIST (key_bindings), 0, 80);
  gtk_clist_set_column_width (GTK_CLIST (key_bindings), 1, 80);
  gtk_clist_column_titles_show (GTK_CLIST (key_bindings));

  label91 = gtk_label_new (_("Key"));
  gtk_widget_ref (label91);
  gtk_object_set_data_full (GTK_OBJECT (help_window), "label91", label91,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label91);
  gtk_clist_set_column_widget (GTK_CLIST (key_bindings), 0, label91);

  label92 = gtk_label_new (_("Function"));
  gtk_widget_ref (label92);
  gtk_object_set_data_full (GTK_OBJECT (help_window), "label92", label92,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label92);
  gtk_clist_set_column_widget (GTK_CLIST (key_bindings), 1, label92);

  gtk_signal_connect (GTK_OBJECT (help_window), "delete_event",
                      GTK_SIGNAL_FUNC (gtk_widget_destroy),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (help_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_destroy),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (help_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_destroy),
                      NULL);

  return help_window;
}

GtkWidget*
create_v4l_failure_window (void)
{
  GtkWidget *v4l_failure_window;
  GtkWidget *dialog_vbox4;
  GtkWidget *button6;
  GtkWidget *dialog_action_area4;

  /* We create it with an OK button, and then remove the button, to work
     around a bug in gnome-libs. */
  v4l_failure_window = gnome_message_box_new (_("Warning: Could not start the V4L service\n\nPlease check that:\n- V4L kernel modules are loaded or that V4L support is in your kernel\n- you have read/write permission on the selected video device\n- the vloopback module is loaded"),
                              GNOME_MESSAGE_BOX_WARNING,
                              GNOME_STOCK_BUTTON_OK, NULL);
  gtk_container_remove (GTK_CONTAINER (GNOME_DIALOG (v4l_failure_window)->action_area), GNOME_DIALOG (v4l_failure_window)->buttons->data);
  GNOME_DIALOG (v4l_failure_window)->buttons = NULL;
  gtk_object_set_data (GTK_OBJECT (v4l_failure_window), "v4l_failure_window", v4l_failure_window);
  gtk_window_set_title (GTK_WINDOW (v4l_failure_window), _("Coriander Warning"));
  gtk_window_set_policy (GTK_WINDOW (v4l_failure_window), FALSE, FALSE, FALSE);

  dialog_vbox4 = GNOME_DIALOG (v4l_failure_window)->vbox;
  gtk_object_set_data (GTK_OBJECT (v4l_failure_window), "dialog_vbox4", dialog_vbox4);
  gtk_widget_show (dialog_vbox4);

  gnome_dialog_append_button (GNOME_DIALOG (v4l_failure_window), GNOME_STOCK_BUTTON_CLOSE);
  button6 = GTK_WIDGET (g_list_last (GNOME_DIALOG (v4l_failure_window)->buttons)->data);
  gtk_widget_ref (button6);
  gtk_object_set_data_full (GTK_OBJECT (v4l_failure_window), "button6", button6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button6);
  GTK_WIDGET_SET_FLAGS (button6, GTK_CAN_DEFAULT);

  dialog_action_area4 = GNOME_DIALOG (v4l_failure_window)->action_area;
  gtk_widget_ref (dialog_action_area4);
  gtk_object_set_data_full (GTK_OBJECT (v4l_failure_window), "dialog_action_area4", dialog_action_area4,
                            (GtkDestroyNotify) gtk_widget_unref);

  return v4l_failure_window;
}

GtkWidget*
create_waiting_camera_window (void)
{
  GtkWidget *waiting_camera_window;
  GtkWidget *dialog_vbox5;
  GtkWidget *button7;
  GtkWidget *dialog_action_area5;

  /* We create it with an OK button, and then remove the button, to work
     around a bug in gnome-libs. */
  waiting_camera_window = gnome_message_box_new (_("There is no IIDC camera attached to your IEEE1394 bus(ses).\nCoriander will wait until a new camera is plugged. Alternatively\nyou can click 'exit' to leave Coriander."),
                              GNOME_MESSAGE_BOX_WARNING,
                              GNOME_STOCK_BUTTON_OK, NULL);
  gtk_container_remove (GTK_CONTAINER (GNOME_DIALOG (waiting_camera_window)->action_area), GNOME_DIALOG (waiting_camera_window)->buttons->data);
  GNOME_DIALOG (waiting_camera_window)->buttons = NULL;
  gtk_object_set_data (GTK_OBJECT (waiting_camera_window), "waiting_camera_window", waiting_camera_window);
  gtk_window_set_title (GTK_WINDOW (waiting_camera_window), _("No more cameras..."));
  gtk_window_set_policy (GTK_WINDOW (waiting_camera_window), FALSE, FALSE, FALSE);

  dialog_vbox5 = GNOME_DIALOG (waiting_camera_window)->vbox;
  gtk_object_set_data (GTK_OBJECT (waiting_camera_window), "dialog_vbox5", dialog_vbox5);
  gtk_widget_show (dialog_vbox5);

  gnome_dialog_append_button_with_pixmap (GNOME_DIALOG (waiting_camera_window),
                                          _("Exit"), GNOME_STOCK_PIXMAP_EXIT);
  button7 = GTK_WIDGET (g_list_last (GNOME_DIALOG (waiting_camera_window)->buttons)->data);
  gtk_widget_ref (button7);
  gtk_object_set_data_full (GTK_OBJECT (waiting_camera_window), "button7", button7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button7);
  GTK_WIDGET_SET_FLAGS (button7, GTK_CAN_DEFAULT);

  dialog_action_area5 = GNOME_DIALOG (waiting_camera_window)->action_area;
  gtk_widget_ref (dialog_action_area5);
  gtk_object_set_data_full (GTK_OBJECT (waiting_camera_window), "dialog_action_area5", dialog_action_area5,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_signal_connect (GTK_OBJECT (button7), "clicked",
                      GTK_SIGNAL_FUNC (gtk_main_quit),
                      NULL);

  return waiting_camera_window;
}

