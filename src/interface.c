/*
 * DO NOT EDIT THIS FILE - it is generated by Glade.
 */

#ifdef HAVE_CONFIG_H
#  include <config.h>
#endif

#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <string.h>

#include <gnome.h>

#include "callbacks.h"
#include "interface.h"
#include "support.h"

static GnomeUIInfo file_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_ITEM, N_("_Load Setup"),
    NULL,
    (gpointer) on_load_setup_activate, NULL, NULL,
    GNOME_APP_PIXMAP_STOCK, GNOME_STOCK_MENU_OPEN,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("_Save Setup"),
    NULL,
    (gpointer) on_save_setup_activate, NULL, NULL,
    GNOME_APP_PIXMAP_STOCK, GNOME_STOCK_MENU_SAVE,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Save Setup _As"),
    NULL,
    (gpointer) on_save_setup_as_activate, NULL, NULL,
    GNOME_APP_PIXMAP_STOCK, GNOME_STOCK_MENU_SAVE_AS,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_SEPARATOR,
  GNOMEUIINFO_MENU_PREFERENCES_ITEM (on_preferences_activate, NULL),
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_ITEM, N_("E_xit"),
    NULL,
    (gpointer) on_exit_activate, NULL, NULL,
    GNOME_APP_PIXMAP_STOCK, GNOME_STOCK_MENU_EXIT,
    GDK_Q, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo window_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_ITEM, N_("_Porthole"),
    NULL,
    (gpointer) on_porthole_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_P, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("_Aperture"),
    NULL,
    (gpointer) on_aperture_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_A, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("C_olor"),
    NULL,
    (gpointer) on_color_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_O, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("_Capture"),
    NULL,
    (gpointer) on_capture_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_C, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("_Status"),
    NULL,
    (gpointer) on_status_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_S, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("_Temperature"),
    NULL,
    (gpointer) on_temp_window_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_T, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Format_7 Setup"),
    NULL,
    (gpointer) on_format7_window_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_7, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Format_6 Setup"),
    NULL,
    (gpointer) on_format6_window_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_6, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo format_0_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_ITEM, N_("160x120 YUV (4:4:4)"),
    NULL,
    (gpointer) on_f0_mode0_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_1, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_ITEM, N_("320x240 YUV (4:2:2)"),
    NULL,
    (gpointer) on_f0_mode1_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_2, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_ITEM, N_("640x480 YUV (4:1:1)"),
    NULL,
    (gpointer) on_f0_mode2_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_3, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("640x480 YUV (4:2:2)"),
    NULL,
    (gpointer) on_f0_mode3_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_4, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("640x480 RGB 24bpp"),
    NULL,
    (gpointer) on_f0_mode4_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_5, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("640x480 Mono 8bpp"),
    NULL,
    (gpointer) on_f0_mode5_ativate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    GDK_0, (GdkModifierType) GDK_CONTROL_MASK, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("640x480 Mono 16bpp"),
    NULL,
    (gpointer) on_f0_mode6_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo format_1_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_ITEM, N_("800x600 YUV (4:2:2)"),
    NULL,
    (gpointer) on_f1_mode0_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("800x600 RGB 24bpp"),
    NULL,
    (gpointer) on_f1_mode1_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("800x600 Mono 8bpp"),
    NULL,
    (gpointer) on_f1_mode2_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("800x600 Mono 16bpp"),
    NULL,
    (gpointer) on_f1_mode6_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_ITEM, N_("1024x768 YUV (4:2:2)"),
    NULL,
    (gpointer) on_f1_mode3_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1024x768 RGB 24bpp"),
    NULL,
    (gpointer) on_f1_mode4_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1024x768 Mono 8bpp"),
    NULL,
    (gpointer) on_f1_mode5_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1024x768 Mono 16bpp"),
    NULL,
    (gpointer) on_f1_mode7_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo format_2_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_ITEM, N_("1280x960 YUV (4:2:2)"),
    NULL,
    (gpointer) on_f2_mode0_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1280x960 RGB 24bpp"),
    NULL,
    (gpointer) on_f2_mode1_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1280x960 Mono 8bpp"),
    NULL,
    (gpointer) on_f2_mode2_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1280x960 Mono 16bpp"),
    NULL,
    (gpointer) on_f2_mode6_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_ITEM, N_("1600x1200 YUV (4:2:2)"),
    NULL,
    (gpointer) on_f2_mode3_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1600x1200 RGB 24bpp"),
    NULL,
    (gpointer) on_f2_mode4_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1600x1200 Mono 8bpp"),
    NULL,
    (gpointer) on_f2_mode5_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("1600x1200 Mono 16bpp"),
    NULL,
    (gpointer) on_f2_mode7_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo format_6_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_ITEM, N_("Exif"),
    NULL,
    (gpointer) on_f6_mode0_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo format_7_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_ITEM, N_("Mode 0"),
    NULL,
    (gpointer) on_f7_mode0_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Mode 1"),
    NULL,
    (gpointer) on_f7_mode1_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Mode 2"),
    NULL,
    (gpointer) on_f7_mode2_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Mode 3"),
    NULL,
    (gpointer) on_f7_mode3_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Mode 4"),
    NULL,
    (gpointer) on_f7_mode4_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Mode 5"),
    NULL,
    (gpointer) on_f7_mode5_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Mode 6"),
    NULL,
    (gpointer) on_f7_mode6_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_ITEM, N_("Mode 7"),
    NULL,
    (gpointer) on_f7_mode7_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo format_menu_uiinfo[] =
{
  {
    GNOME_APP_UI_SUBTREE, N_("Format 0"),
    NULL,
    format_0_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_SUBTREE, N_("Format 1"),
    NULL,
    format_1_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_SUBTREE, N_("Format 2"),
    NULL,
    format_2_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_SUBTREE, N_("Format 6"),
    NULL,
    format_6_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_SUBTREE, N_("Format 7"),
    NULL,
    format_7_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_SEPARATOR,
  {
    GNOME_APP_UI_TOGGLEITEM, N_("Test Pattern"),
    NULL,
    (gpointer) on_test_pattern_activate, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_END
};

static GnomeUIInfo help_menu_uiinfo[] =
{
  GNOMEUIINFO_MENU_ABOUT_ITEM (on_about_activate, NULL),
  GNOMEUIINFO_END
};

static GnomeUIInfo menubar_uiinfo[] =
{
  {
    GNOME_APP_UI_SUBTREE, N_("_File"),
    NULL,
    file_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_SUBTREE, N_("_Window"),
    NULL,
    window_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  {
    GNOME_APP_UI_SUBTREE, N_("Forma_t"),
    NULL,
    format_menu_uiinfo, NULL, NULL,
    GNOME_APP_PIXMAP_NONE, NULL,
    0, (GdkModifierType) 0, NULL
  },
  GNOMEUIINFO_MENU_HELP_TREE (help_menu_uiinfo),
  GNOMEUIINFO_END
};

GtkWidget*
create_commander_window (void)
{
  GtkWidget *commander_window;
  GtkWidget *vbox26;
  GtkWidget *menubar;
  GtkWidget *vbox40;
  GtkWidget *camera_select_frame;
  GtkWidget *table9;
  GtkWidget *label4;
  GtkWidget *label5;
  GtkWidget *camera_select;
  GtkWidget *camera_select_menu;
  GtkWidget *glade_menuitem;
  GtkWidget *camera_lock;
  GtkWidget *camera_lock_menu;
  GtkWidget *hbox37;
  GtkWidget *power_frame;
  GtkWidget *vbox20;
  GtkWidget *power_on;
  GtkWidget *power_off;
  GtkWidget *power_reset;
  GtkWidget *lock_frame;
  GtkWidget *vbox32;
  GtkWidget *set_all_auto;
  GtkWidget *set_all_man;
  GtkWidget *lock_setup;
  GtkWidget *hbox38;
  GtkWidget *vbox41;
  GtkWidget *memory_frame;
  GtkWidget *table16;
  GtkWidget *memory_channel;
  GtkWidget *memory_channel_menu;
  GtkWidget *load_mem;
  GtkWidget *save_mem;
  GtkWidget *coriander_logo;
  GtkWidget *trigger_frame;
  GtkWidget *table17;
  GtkWidget *label16;
  GtkObject *trigger_count_adj;
  GtkWidget *trigger_count;
  GtkWidget *fps_menu;
  GtkWidget *fps_menu_menu;
  GtkWidget *trigger_external;
  GtkWidget *trigger_polarity;
  GtkWidget *trigger_mode;
  GtkWidget *trigger_mode_menu;
  GtkWidget *main_status;
GtkAccelGroup *accel_group;

  commander_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (commander_window), "commander_window", commander_window);
  GTK_WIDGET_SET_FLAGS (commander_window, GTK_CAN_FOCUS);
  gtk_window_set_title (GTK_WINDOW (commander_window), _("Coriander 0.17"));
  gtk_window_set_policy (GTK_WINDOW (commander_window), FALSE, FALSE, FALSE);

  vbox26 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox26);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "vbox26", vbox26,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox26);
  gtk_container_add (GTK_CONTAINER (commander_window), vbox26);

  menubar = gtk_menu_bar_new ();
  gtk_widget_ref (menubar);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "menubar", menubar,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (menubar);
  gtk_box_pack_start (GTK_BOX (vbox26), menubar, FALSE, FALSE, 0);
accel_group = gtk_accel_group_new();
gtk_accel_group_attach(accel_group, GTK_OBJECT(commander_window));
  gnome_app_fill_menu (GTK_MENU_SHELL (menubar), menubar_uiinfo,
                       accel_group, TRUE, 0);

  gtk_widget_ref (menubar_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "file",
                            menubar_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "load_setup",
                            file_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "save_setup",
                            file_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "save_setup_as",
                            file_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator10",
                            file_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "preferences",
                            file_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator1",
                            file_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (file_menu_uiinfo[6].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "exit",
                            file_menu_uiinfo[6].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (menubar_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "window",
                            menubar_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (window_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "porthole",
                            window_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (window_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "aperture",
                            window_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (window_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "color",
                            window_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (window_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "capture",
                            window_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (window_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "status",
                            window_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (window_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "temp_window",
                            window_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (window_menu_uiinfo[6].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "format7_window",
                            window_menu_uiinfo[6].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (window_menu_uiinfo[7].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "format6_window",
                            window_menu_uiinfo[7].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (menubar_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "format",
                            menubar_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "format_0",
                            format_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f0_mode0",
                            format_0_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator6",
                            format_0_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f0_mode1",
                            format_0_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator7",
                            format_0_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f0_mode2",
                            format_0_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f0_mode3",
                            format_0_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[6].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f0_mode4",
                            format_0_menu_uiinfo[6].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[7].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f0_mode5",
                            format_0_menu_uiinfo[7].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_0_menu_uiinfo[8].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f0_mode6",
                            format_0_menu_uiinfo[8].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "format_1",
                            format_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f1_mode0",
                            format_1_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f1_mode1",
                            format_1_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f1_mode2",
                            format_1_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f1_mode6",
                            format_1_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator8",
                            format_1_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f1_mode3",
                            format_1_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[6].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f1_mode4",
                            format_1_menu_uiinfo[6].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[7].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f1_mode5",
                            format_1_menu_uiinfo[7].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_1_menu_uiinfo[8].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f1_mode7",
                            format_1_menu_uiinfo[8].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "format_2",
                            format_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f2_mode0",
                            format_2_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f2_mode1",
                            format_2_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f2_mode2",
                            format_2_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f2_mode6",
                            format_2_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator9",
                            format_2_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f2_mode3",
                            format_2_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[6].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f2_mode4",
                            format_2_menu_uiinfo[6].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[7].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f2_mode5",
                            format_2_menu_uiinfo[7].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_2_menu_uiinfo[8].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f2_mode7",
                            format_2_menu_uiinfo[8].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator3",
                            format_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "format_6",
                            format_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_6_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f6_mode0",
                            format_6_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator5",
                            format_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[6].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "format_7",
                            format_menu_uiinfo[6].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_7_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f7_mode0",
                            format_7_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_7_menu_uiinfo[1].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f7_mode1",
                            format_7_menu_uiinfo[1].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_7_menu_uiinfo[2].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f7_mode2",
                            format_7_menu_uiinfo[2].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_7_menu_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f7_mode3",
                            format_7_menu_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_7_menu_uiinfo[4].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f7_mode4",
                            format_7_menu_uiinfo[4].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_7_menu_uiinfo[5].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f7_mode5",
                            format_7_menu_uiinfo[5].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_7_menu_uiinfo[6].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f7_mode6",
                            format_7_menu_uiinfo[6].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_7_menu_uiinfo[7].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "f7_mode7",
                            format_7_menu_uiinfo[7].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[7].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "separator11",
                            format_menu_uiinfo[7].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (format_menu_uiinfo[8].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "test_pattern",
                            format_menu_uiinfo[8].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (menubar_uiinfo[3].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "help",
                            menubar_uiinfo[3].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_widget_ref (help_menu_uiinfo[0].widget);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "about",
                            help_menu_uiinfo[0].widget,
                            (GtkDestroyNotify) gtk_widget_unref);

  vbox40 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox40);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "vbox40", vbox40,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox40);
  gtk_box_pack_start (GTK_BOX (vbox26), vbox40, TRUE, TRUE, 0);

  camera_select_frame = gtk_frame_new (_("Camera Select"));
  gtk_widget_ref (camera_select_frame);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "camera_select_frame", camera_select_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_select_frame);
  gtk_box_pack_start (GTK_BOX (vbox40), camera_select_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_select_frame), 5);

  table9 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table9);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "table9", table9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table9);
  gtk_container_add (GTK_CONTAINER (camera_select_frame), table9);

  label4 = gtk_label_new (_("Node:"));
  gtk_widget_ref (label4);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "label4", label4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label4);
  gtk_table_attach (GTK_TABLE (table9), label4, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label4), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label4), 2, 2);

  label5 = gtk_label_new (_("Lock:"));
  gtk_widget_ref (label5);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "label5", label5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label5);
  gtk_table_attach (GTK_TABLE (table9), label5, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label5), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label5), 2, 2);

  camera_select = gtk_option_menu_new ();
  gtk_widget_ref (camera_select);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "camera_select", camera_select,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_select);
  gtk_table_attach (GTK_TABLE (table9), camera_select, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_select), 1);
  gtk_widget_set_sensitive (camera_select, FALSE);
  camera_select_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("Node 0: Sony DFW-VL500"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (camera_select_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (camera_select), camera_select_menu);

  camera_lock = gtk_option_menu_new ();
  gtk_widget_ref (camera_lock);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "camera_lock", camera_lock,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_lock);
  gtk_table_attach (GTK_TABLE (table9), camera_lock, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_lock), 1);
  gtk_widget_set_sensitive (camera_lock, FALSE);
  camera_lock_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (camera_lock_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("Sony DFW-VL500"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (camera_lock_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("..."));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (camera_lock_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (camera_lock), camera_lock_menu);

  hbox37 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox37);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "hbox37", hbox37,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox37);
  gtk_box_pack_start (GTK_BOX (vbox40), hbox37, TRUE, TRUE, 0);

  power_frame = gtk_frame_new (_("Power"));
  gtk_widget_ref (power_frame);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "power_frame", power_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (power_frame);
  gtk_box_pack_start (GTK_BOX (hbox37), power_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (power_frame), 5);
  gtk_widget_set_sensitive (power_frame, FALSE);

  vbox20 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox20);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "vbox20", vbox20,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox20);
  gtk_container_add (GTK_CONTAINER (power_frame), vbox20);

  power_on = gtk_button_new_with_label (_("ON"));
  gtk_widget_ref (power_on);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "power_on", power_on,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (power_on);
  gtk_box_pack_start (GTK_BOX (vbox20), power_on, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (power_on), 2);
  gtk_widget_set_sensitive (power_on, FALSE);

  power_off = gtk_button_new_with_label (_("OFF"));
  gtk_widget_ref (power_off);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "power_off", power_off,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (power_off);
  gtk_box_pack_start (GTK_BOX (vbox20), power_off, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (power_off), 2);
  gtk_widget_set_sensitive (power_off, FALSE);

  power_reset = gtk_button_new_with_label (_("RESET"));
  gtk_widget_ref (power_reset);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "power_reset", power_reset,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (power_reset);
  gtk_box_pack_start (GTK_BOX (vbox20), power_reset, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (power_reset), 2);
  gtk_widget_set_sensitive (power_reset, FALSE);

  lock_frame = gtk_frame_new (_("Lock features"));
  gtk_widget_ref (lock_frame);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "lock_frame", lock_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (lock_frame);
  gtk_box_pack_start (GTK_BOX (hbox37), lock_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (lock_frame), 5);
  gtk_widget_set_sensitive (lock_frame, FALSE);

  vbox32 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox32);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "vbox32", vbox32,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox32);
  gtk_container_add (GTK_CONTAINER (lock_frame), vbox32);

  set_all_auto = gtk_button_new_with_label (_("ALL AUTO"));
  gtk_widget_ref (set_all_auto);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "set_all_auto", set_all_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (set_all_auto);
  gtk_box_pack_start (GTK_BOX (vbox32), set_all_auto, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (set_all_auto), 2);
  gtk_widget_set_sensitive (set_all_auto, FALSE);

  set_all_man = gtk_button_new_with_label (_("ALL MAN"));
  gtk_widget_ref (set_all_man);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "set_all_man", set_all_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (set_all_man);
  gtk_box_pack_start (GTK_BOX (vbox32), set_all_man, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (set_all_man), 2);
  gtk_widget_set_sensitive (set_all_man, FALSE);

  lock_setup = gtk_toggle_button_new_with_label (_("LOCK SETUP"));
  gtk_widget_ref (lock_setup);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "lock_setup", lock_setup,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (lock_setup);
  gtk_box_pack_start (GTK_BOX (vbox32), lock_setup, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (lock_setup), 2);
  gtk_widget_set_sensitive (lock_setup, FALSE);

  hbox38 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox38);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "hbox38", hbox38,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox38);
  gtk_box_pack_start (GTK_BOX (vbox40), hbox38, TRUE, TRUE, 0);

  vbox41 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox41);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "vbox41", vbox41,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox41);
  gtk_box_pack_start (GTK_BOX (hbox38), vbox41, TRUE, TRUE, 0);

  memory_frame = gtk_frame_new (_("Memory channels"));
  gtk_widget_ref (memory_frame);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "memory_frame", memory_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (memory_frame);
  gtk_box_pack_start (GTK_BOX (vbox41), memory_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (memory_frame), 5);
  gtk_widget_set_sensitive (memory_frame, FALSE);

  table16 = gtk_table_new (3, 1, TRUE);
  gtk_widget_ref (table16);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "table16", table16,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table16);
  gtk_container_add (GTK_CONTAINER (memory_frame), table16);

  memory_channel = gtk_option_menu_new ();
  gtk_widget_ref (memory_channel);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "memory_channel", memory_channel,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (memory_channel);
  gtk_table_attach (GTK_TABLE (table16), memory_channel, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (memory_channel), 1);
  gtk_widget_set_sensitive (memory_channel, FALSE);
  memory_channel_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("Factory"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (memory_channel_menu), glade_menuitem);
  glade_menuitem = gtk_menu_item_new_with_label (_("1..."));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (memory_channel_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (memory_channel), memory_channel_menu);

  load_mem = gtk_button_new_with_label (_("LOAD"));
  gtk_widget_ref (load_mem);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "load_mem", load_mem,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (load_mem);
  gtk_table_attach (GTK_TABLE (table16), load_mem, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (load_mem), 2);

  save_mem = gtk_button_new_with_label (_("SAVE"));
  gtk_widget_ref (save_mem);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "save_mem", save_mem,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (save_mem);
  gtk_table_attach (GTK_TABLE (table16), save_mem, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (save_mem), 2);
  gtk_widget_set_sensitive (save_mem, FALSE);

  coriander_logo = create_pixmap (commander_window, "coriander/coriander_logo.xpm", FALSE);
  gtk_widget_ref (coriander_logo);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "coriander_logo", coriander_logo,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (coriander_logo);
  gtk_box_pack_start (GTK_BOX (vbox41), coriander_logo, FALSE, FALSE, 0);

  trigger_frame = gtk_frame_new (_("Trigger"));
  gtk_widget_ref (trigger_frame);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "trigger_frame", trigger_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_frame);
  gtk_box_pack_start (GTK_BOX (hbox38), trigger_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (trigger_frame), 5);
  gtk_widget_set_sensitive (trigger_frame, FALSE);

  table17 = gtk_table_new (4, 2, TRUE);
  gtk_widget_ref (table17);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "table17", table17,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table17);
  gtk_container_add (GTK_CONTAINER (trigger_frame), table17);

  label16 = gtk_label_new (_("Count : "));
  gtk_widget_ref (label16);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "label16", label16,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label16);
  gtk_table_attach (GTK_TABLE (table17), label16, 0, 1, 3, 4,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (label16, FALSE);
  gtk_misc_set_padding (GTK_MISC (label16), 2, 2);

  trigger_count_adj = gtk_adjustment_new (0, 0, 65535, 1, 10, 10);
  trigger_count = gtk_spin_button_new (GTK_ADJUSTMENT (trigger_count_adj), 1, 0);
  gtk_widget_ref (trigger_count);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "trigger_count", trigger_count,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_count);
  gtk_table_attach (GTK_TABLE (table17), trigger_count, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (trigger_count, FALSE);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (trigger_count), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (trigger_count), GTK_UPDATE_IF_VALID);

  fps_menu = gtk_option_menu_new ();
  gtk_widget_ref (fps_menu);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "fps_menu", fps_menu,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (fps_menu);
  gtk_table_attach (GTK_TABLE (table17), fps_menu, 0, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (fps_menu), 1);
  fps_menu_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (fps_menu_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (fps_menu), fps_menu_menu);

  trigger_external = gtk_toggle_button_new_with_label (_("External"));
  gtk_widget_ref (trigger_external);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "trigger_external", trigger_external,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_external);
  gtk_table_attach (GTK_TABLE (table17), trigger_external, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (trigger_external), 2);
  gtk_widget_set_sensitive (trigger_external, FALSE);

  trigger_polarity = gtk_toggle_button_new_with_label (_("Polarity"));
  gtk_widget_ref (trigger_polarity);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "trigger_polarity", trigger_polarity,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_polarity);
  gtk_table_attach (GTK_TABLE (table17), trigger_polarity, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (trigger_polarity), 2);
  gtk_widget_set_sensitive (trigger_polarity, FALSE);

  trigger_mode = gtk_option_menu_new ();
  gtk_widget_ref (trigger_mode);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "trigger_mode", trigger_mode,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (trigger_mode);
  gtk_table_attach (GTK_TABLE (table17), trigger_mode, 0, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (trigger_mode), 1);
  trigger_mode_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (trigger_mode_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (trigger_mode), trigger_mode_menu);

  main_status = gtk_statusbar_new ();
  gtk_widget_ref (main_status);
  gtk_object_set_data_full (GTK_OBJECT (commander_window), "main_status", main_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (main_status);
  gtk_box_pack_start (GTK_BOX (vbox26), main_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (main_status), 2);

  gtk_signal_connect (GTK_OBJECT (commander_window), "delete_event",
                      GTK_SIGNAL_FUNC (on_commander_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (commander_window), "destroy_event",
                      GTK_SIGNAL_FUNC (on_commander_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (commander_window), "destroy",
                      GTK_SIGNAL_FUNC (on_commander_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (power_on), "clicked",
                      GTK_SIGNAL_FUNC (on_power_on_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (power_off), "clicked",
                      GTK_SIGNAL_FUNC (on_power_off_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (power_reset), "clicked",
                      GTK_SIGNAL_FUNC (on_power_reset_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (set_all_auto), "clicked",
                      GTK_SIGNAL_FUNC (on_set_all_auto_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (set_all_man), "clicked",
                      GTK_SIGNAL_FUNC (on_set_all_man_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (lock_setup), "toggled",
                      GTK_SIGNAL_FUNC (on_lock_setup_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (load_mem), "clicked",
                      GTK_SIGNAL_FUNC (on_load_mem_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (save_mem), "clicked",
                      GTK_SIGNAL_FUNC (on_save_mem_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (trigger_external), "toggled",
                      GTK_SIGNAL_FUNC (on_trigger_external_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (trigger_polarity), "toggled",
                      GTK_SIGNAL_FUNC (on_trigger_polarity_toggled),
                      NULL);

  return commander_window;
}

GtkWidget*
create_porthole_window (void)
{
  GtkWidget *porthole_window;
  GtkWidget *table7;
  GtkWidget *table18;
  GtkWidget *pan_frame;
  GtkWidget *hbox5;
  GtkWidget *table2;
  GSList *Pan_group = NULL;
  GtkWidget *pan_man;
  GtkWidget *pan_auto;
  GtkWidget *pan_op;
  GtkWidget *alignment1;
  GtkWidget *pan_power;
  GtkWidget *pan_scale;
  GtkWidget *camera_scope_frame;
  GtkWidget *scrolledwindow1;
  GtkWidget *viewport1;
  GtkWidget *alignment11;
  GtkWidget *camera_scope;
  GtkWidget *focus_frame;
  GtkWidget *hbox11;
  GtkWidget *table6;
  GSList *focus_group = NULL;
  GtkWidget *focus_man;
  GtkWidget *focus_auto;
  GtkWidget *focus_op;
  GtkWidget *alignment5;
  GtkWidget *focus_power;
  GtkWidget *focus_scale;
  GtkWidget *tilt_frame;
  GtkWidget *vbox5;
  GtkWidget *tilt_power;
  GSList *tilt_group = NULL;
  GtkWidget *tilt_man;
  GtkWidget *tilt_auto;
  GtkWidget *tilt_op;
  GtkWidget *tilt_scale;
  GtkWidget *zoom_frame;
  GtkWidget *vbox6;
  GtkWidget *zoom_power;
  GSList *zoom_group = NULL;
  GtkWidget *zoom_man;
  GtkWidget *zoom_auto;
  GtkWidget *zoom_op;
  GtkWidget *zoom_scale;
  GtkWidget *overlay_button;

  porthole_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (porthole_window), "porthole_window", porthole_window);
  gtk_window_set_title (GTK_WINDOW (porthole_window), _("Porthole"));

  table7 = gtk_table_new (2, 3, FALSE);
  gtk_widget_ref (table7);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "table7", table7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table7);
  gtk_container_add (GTK_CONTAINER (porthole_window), table7);

  table18 = gtk_table_new (2, 1, FALSE);
  gtk_widget_ref (table18);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "table18", table18,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table18);
  gtk_table_attach (GTK_TABLE (table7), table18, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);

  pan_frame = gtk_frame_new (_("Pan"));
  gtk_widget_ref (pan_frame);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "pan_frame", pan_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pan_frame);
  gtk_table_attach (GTK_TABLE (table18), pan_frame, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (pan_frame), 5);
  gtk_widget_set_sensitive (pan_frame, FALSE);

  hbox5 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox5);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "hbox5", hbox5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox5);
  gtk_container_add (GTK_CONTAINER (pan_frame), hbox5);

  table2 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table2);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "table2", table2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table2);
  gtk_box_pack_start (GTK_BOX (hbox5), table2, FALSE, TRUE, 0);

  pan_man = gtk_radio_button_new_with_label (Pan_group, _("Man"));
  Pan_group = gtk_radio_button_group (GTK_RADIO_BUTTON (pan_man));
  gtk_widget_ref (pan_man);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "pan_man", pan_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pan_man);
  gtk_table_attach (GTK_TABLE (table2), pan_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (pan_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (pan_man), TRUE);

  pan_auto = gtk_radio_button_new_with_label (Pan_group, _("Auto"));
  Pan_group = gtk_radio_button_group (GTK_RADIO_BUTTON (pan_auto));
  gtk_widget_ref (pan_auto);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "pan_auto", pan_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pan_auto);
  gtk_table_attach (GTK_TABLE (table2), pan_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (pan_auto, FALSE);

  pan_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (pan_op);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "pan_op", pan_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pan_op);
  gtk_table_attach (GTK_TABLE (table2), pan_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (pan_op), 2);
  gtk_widget_set_sensitive (pan_op, FALSE);

  alignment1 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment1);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "alignment1", alignment1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment1);
  gtk_table_attach (GTK_TABLE (table2), alignment1, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  pan_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (pan_power);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "pan_power", pan_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pan_power);
  gtk_container_add (GTK_CONTAINER (alignment1), pan_power);
  gtk_container_set_border_width (GTK_CONTAINER (pan_power), 2);
  gtk_widget_set_sensitive (pan_power, FALSE);

  pan_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (pan_scale);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "pan_scale", pan_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pan_scale);
  gtk_box_pack_start (GTK_BOX (hbox5), pan_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (pan_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (pan_scale), 0);

  camera_scope_frame = gtk_frame_new (_("Camera Scope"));
  gtk_widget_ref (camera_scope_frame);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "camera_scope_frame", camera_scope_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_scope_frame);
  gtk_table_attach (GTK_TABLE (table18), camera_scope_frame, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_SHRINK | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_scope_frame), 5);

  scrolledwindow1 = gtk_scrolled_window_new (NULL, NULL);
  gtk_widget_ref (scrolledwindow1);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "scrolledwindow1", scrolledwindow1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (scrolledwindow1);
  gtk_container_add (GTK_CONTAINER (camera_scope_frame), scrolledwindow1);
  gtk_widget_set_usize (scrolledwindow1, 334, 254);
  gtk_container_set_border_width (GTK_CONTAINER (scrolledwindow1), 5);
  gtk_scrolled_window_set_policy (GTK_SCROLLED_WINDOW (scrolledwindow1), GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);

  viewport1 = gtk_viewport_new (NULL, NULL);
  gtk_widget_ref (viewport1);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "viewport1", viewport1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (viewport1);
  gtk_container_add (GTK_CONTAINER (scrolledwindow1), viewport1);

  alignment11 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment11);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "alignment11", alignment11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment11);
  gtk_container_add (GTK_CONTAINER (viewport1), alignment11);

  camera_scope = gtk_drawing_area_new ();
  gtk_widget_ref (camera_scope);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "camera_scope", camera_scope,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_scope);
  gtk_container_add (GTK_CONTAINER (alignment11), camera_scope);

  focus_frame = gtk_frame_new (_("Focus"));
  gtk_widget_ref (focus_frame);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "focus_frame", focus_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (focus_frame);
  gtk_table_attach (GTK_TABLE (table7), focus_frame, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (focus_frame), 5);

  hbox11 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox11);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "hbox11", hbox11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox11);
  gtk_container_add (GTK_CONTAINER (focus_frame), hbox11);

  table6 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table6);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "table6", table6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table6);
  gtk_box_pack_start (GTK_BOX (hbox11), table6, FALSE, TRUE, 0);

  focus_man = gtk_radio_button_new_with_label (focus_group, _("Man"));
  focus_group = gtk_radio_button_group (GTK_RADIO_BUTTON (focus_man));
  gtk_widget_ref (focus_man);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "focus_man", focus_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (focus_man);
  gtk_table_attach (GTK_TABLE (table6), focus_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (focus_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (focus_man), TRUE);

  focus_auto = gtk_radio_button_new_with_label (focus_group, _("Auto"));
  focus_group = gtk_radio_button_group (GTK_RADIO_BUTTON (focus_auto));
  gtk_widget_ref (focus_auto);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "focus_auto", focus_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (focus_auto);
  gtk_table_attach (GTK_TABLE (table6), focus_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (focus_auto, FALSE);

  focus_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (focus_op);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "focus_op", focus_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (focus_op);
  gtk_table_attach (GTK_TABLE (table6), focus_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (focus_op), 2);
  gtk_widget_set_sensitive (focus_op, FALSE);

  alignment5 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment5);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "alignment5", alignment5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment5);
  gtk_table_attach (GTK_TABLE (table6), alignment5, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  focus_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (focus_power);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "focus_power", focus_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (focus_power);
  gtk_container_add (GTK_CONTAINER (alignment5), focus_power);
  gtk_container_set_border_width (GTK_CONTAINER (focus_power), 2);
  gtk_widget_set_sensitive (focus_power, FALSE);

  focus_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (focus_scale);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "focus_scale", focus_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (focus_scale);
  gtk_box_pack_start (GTK_BOX (hbox11), focus_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (focus_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (focus_scale), 0);

  tilt_frame = gtk_frame_new (_("Tilt"));
  gtk_widget_ref (tilt_frame);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "tilt_frame", tilt_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (tilt_frame);
  gtk_table_attach (GTK_TABLE (table7), tilt_frame, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (tilt_frame), 5);
  gtk_widget_set_sensitive (tilt_frame, FALSE);

  vbox5 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox5);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "vbox5", vbox5,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox5);
  gtk_container_add (GTK_CONTAINER (tilt_frame), vbox5);

  tilt_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (tilt_power);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "tilt_power", tilt_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (tilt_power);
  gtk_box_pack_start (GTK_BOX (vbox5), tilt_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (tilt_power), 2);
  gtk_widget_set_sensitive (tilt_power, FALSE);

  tilt_man = gtk_radio_button_new_with_label (tilt_group, _("Man"));
  tilt_group = gtk_radio_button_group (GTK_RADIO_BUTTON (tilt_man));
  gtk_widget_ref (tilt_man);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "tilt_man", tilt_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (tilt_man);
  gtk_box_pack_start (GTK_BOX (vbox5), tilt_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (tilt_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (tilt_man), TRUE);

  tilt_auto = gtk_radio_button_new_with_label (tilt_group, _("Auto"));
  tilt_group = gtk_radio_button_group (GTK_RADIO_BUTTON (tilt_auto));
  gtk_widget_ref (tilt_auto);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "tilt_auto", tilt_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (tilt_auto);
  gtk_box_pack_start (GTK_BOX (vbox5), tilt_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (tilt_auto, FALSE);

  tilt_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (tilt_op);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "tilt_op", tilt_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (tilt_op);
  gtk_box_pack_start (GTK_BOX (vbox5), tilt_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (tilt_op), 2);
  gtk_widget_set_sensitive (tilt_op, FALSE);

  tilt_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (tilt_scale);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "tilt_scale", tilt_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (tilt_scale);
  gtk_box_pack_start (GTK_BOX (vbox5), tilt_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (tilt_scale, FALSE);
  gtk_scale_set_value_pos (GTK_SCALE (tilt_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (tilt_scale), 0);

  zoom_frame = gtk_frame_new (_("Zoom"));
  gtk_widget_ref (zoom_frame);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "zoom_frame", zoom_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoom_frame);
  gtk_table_attach (GTK_TABLE (table7), zoom_frame, 2, 3, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (zoom_frame), 5);
  gtk_widget_set_sensitive (zoom_frame, FALSE);

  vbox6 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox6);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "vbox6", vbox6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox6);
  gtk_container_add (GTK_CONTAINER (zoom_frame), vbox6);

  zoom_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (zoom_power);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "zoom_power", zoom_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoom_power);
  gtk_box_pack_start (GTK_BOX (vbox6), zoom_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (zoom_power), 2);
  gtk_widget_set_sensitive (zoom_power, FALSE);

  zoom_man = gtk_radio_button_new_with_label (zoom_group, _("Man"));
  zoom_group = gtk_radio_button_group (GTK_RADIO_BUTTON (zoom_man));
  gtk_widget_ref (zoom_man);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "zoom_man", zoom_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoom_man);
  gtk_box_pack_start (GTK_BOX (vbox6), zoom_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (zoom_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (zoom_man), TRUE);

  zoom_auto = gtk_radio_button_new_with_label (zoom_group, _("Auto"));
  zoom_group = gtk_radio_button_group (GTK_RADIO_BUTTON (zoom_auto));
  gtk_widget_ref (zoom_auto);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "zoom_auto", zoom_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoom_auto);
  gtk_box_pack_start (GTK_BOX (vbox6), zoom_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (zoom_auto, FALSE);

  zoom_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (zoom_op);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "zoom_op", zoom_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoom_op);
  gtk_box_pack_start (GTK_BOX (vbox6), zoom_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (zoom_op), 2);
  gtk_widget_set_sensitive (zoom_op, FALSE);

  zoom_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (zoom_scale);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "zoom_scale", zoom_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (zoom_scale);
  gtk_box_pack_start (GTK_BOX (vbox6), zoom_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (zoom_scale, FALSE);
  gtk_scale_set_value_pos (GTK_SCALE (zoom_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (zoom_scale), 0);

  overlay_button = gtk_toggle_button_new_with_label (_("Video\nOverlay"));
  gtk_widget_ref (overlay_button);
  gtk_object_set_data_full (GTK_OBJECT (porthole_window), "overlay_button", overlay_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (overlay_button);
  gtk_table_attach (GTK_TABLE (table7), overlay_button, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 5, 0);
  gtk_container_set_border_width (GTK_CONTAINER (overlay_button), 2);

  gtk_signal_connect (GTK_OBJECT (porthole_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (porthole_window), "delete_event",
                      GTK_SIGNAL_FUNC (on_porthole_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (porthole_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (pan_man), "toggled",
                      GTK_SIGNAL_FUNC (on_pan_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (pan_op), "clicked",
                      GTK_SIGNAL_FUNC (on_pan_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (pan_power), "toggled",
                      GTK_SIGNAL_FUNC (on_pan_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (focus_man), "toggled",
                      GTK_SIGNAL_FUNC (on_focus_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (focus_op), "clicked",
                      GTK_SIGNAL_FUNC (on_focus_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (focus_power), "toggled",
                      GTK_SIGNAL_FUNC (on_focus_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (tilt_power), "toggled",
                      GTK_SIGNAL_FUNC (on_tilt_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (tilt_man), "toggled",
                      GTK_SIGNAL_FUNC (on_tilt_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (tilt_op), "clicked",
                      GTK_SIGNAL_FUNC (on_tilt_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (zoom_power), "toggled",
                      GTK_SIGNAL_FUNC (on_zoom_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (zoom_man), "toggled",
                      GTK_SIGNAL_FUNC (on_zoom_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (zoom_op), "clicked",
                      GTK_SIGNAL_FUNC (on_zoom_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (overlay_button), "toggled",
                      GTK_SIGNAL_FUNC (on_overlay_button_toggled),
                      NULL);

  return porthole_window;
}

GtkWidget*
create_color_window (void)
{
  GtkWidget *color_window;
  GtkWidget *vbox8;
  GtkWidget *brightness_frame;
  GtkWidget *hbox22;
  GtkWidget *table11;
  GSList *brightness_group = NULL;
  GtkWidget *brightness_man;
  GtkWidget *brightness_auto;
  GtkWidget *brightness_op;
  GtkWidget *alignment7;
  GtkWidget *brightness_power;
  GtkWidget *brightness_scale;
  GtkWidget *gamma_frame;
  GtkWidget *hbox23;
  GtkWidget *table12;
  GSList *gamma_group = NULL;
  GtkWidget *gamma_man;
  GtkWidget *gamma_auto;
  GtkWidget *gamma_op;
  GtkWidget *alignment8;
  GtkWidget *gamma_power;
  GtkWidget *gamma_scale;
  GtkWidget *saturation_frame;
  GtkWidget *hbox7;
  GtkWidget *table3;
  GSList *saturation_group = NULL;
  GtkWidget *saturation_man;
  GtkWidget *saturation_auto;
  GtkWidget *saturation_op;
  GtkWidget *alignment2;
  GtkWidget *saturation_power;
  GtkWidget *saturation_scale;
  GtkWidget *hue_frame;
  GtkWidget *hbox8;
  GtkWidget *table4;
  GSList *hue_group = NULL;
  GtkWidget *hue_man;
  GtkWidget *hue_auto;
  GtkWidget *hue_op;
  GtkWidget *alignment3;
  GtkWidget *hue_power;
  GtkWidget *hue_scale;
  GtkWidget *whitebal_frame;
  GtkWidget *hbox10;
  GtkWidget *vbox15;
  GtkWidget *whitebal_power;
  GSList *whitebal_group = NULL;
  GtkWidget *whitebal_man;
  GtkWidget *whitebal_auto;
  GtkWidget *whitebal_op;
  GtkWidget *vbox14;
  GtkWidget *whitebal_BU_scale;
  GtkWidget *whitebal_RV_scale;
  GtkWidget *sharpness_frame;
  GtkWidget *hbox21;
  GtkWidget *table10;
  GSList *sharpness_group = NULL;
  GtkWidget *sharpness_man;
  GtkWidget *sharpness_auto;
  GtkWidget *sharpness_op;
  GtkWidget *alignment6;
  GtkWidget *sharpness_power;
  GtkWidget *sharpness_scale;

  color_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (color_window), "color_window", color_window);
  gtk_widget_set_usize (color_window, 350, -2);
  gtk_window_set_title (GTK_WINDOW (color_window), _("Color"));
  gtk_window_set_default_size (GTK_WINDOW (color_window), 350, -1);
  gtk_window_set_policy (GTK_WINDOW (color_window), FALSE, FALSE, FALSE);

  vbox8 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox8);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "vbox8", vbox8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox8);
  gtk_container_add (GTK_CONTAINER (color_window), vbox8);

  brightness_frame = gtk_frame_new (_("Brightness"));
  gtk_widget_ref (brightness_frame);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "brightness_frame", brightness_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (brightness_frame);
  gtk_box_pack_start (GTK_BOX (vbox8), brightness_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (brightness_frame), 5);
  gtk_widget_set_sensitive (brightness_frame, FALSE);

  hbox22 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox22);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hbox22", hbox22,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox22);
  gtk_container_add (GTK_CONTAINER (brightness_frame), hbox22);

  table11 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table11);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "table11", table11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table11);
  gtk_box_pack_start (GTK_BOX (hbox22), table11, FALSE, TRUE, 0);

  brightness_man = gtk_radio_button_new_with_label (brightness_group, _("Man"));
  brightness_group = gtk_radio_button_group (GTK_RADIO_BUTTON (brightness_man));
  gtk_widget_ref (brightness_man);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "brightness_man", brightness_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (brightness_man);
  gtk_table_attach (GTK_TABLE (table11), brightness_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (brightness_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (brightness_man), TRUE);

  brightness_auto = gtk_radio_button_new_with_label (brightness_group, _("Auto"));
  brightness_group = gtk_radio_button_group (GTK_RADIO_BUTTON (brightness_auto));
  gtk_widget_ref (brightness_auto);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "brightness_auto", brightness_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (brightness_auto);
  gtk_table_attach (GTK_TABLE (table11), brightness_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (brightness_auto, FALSE);

  brightness_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (brightness_op);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "brightness_op", brightness_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (brightness_op);
  gtk_table_attach (GTK_TABLE (table11), brightness_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (brightness_op), 2);
  gtk_widget_set_sensitive (brightness_op, FALSE);

  alignment7 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment7);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "alignment7", alignment7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment7);
  gtk_table_attach (GTK_TABLE (table11), alignment7, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  brightness_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (brightness_power);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "brightness_power", brightness_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (brightness_power);
  gtk_container_add (GTK_CONTAINER (alignment7), brightness_power);
  gtk_container_set_border_width (GTK_CONTAINER (brightness_power), 2);
  gtk_widget_set_sensitive (brightness_power, FALSE);

  brightness_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (brightness_scale);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "brightness_scale", brightness_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (brightness_scale);
  gtk_box_pack_start (GTK_BOX (hbox22), brightness_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (brightness_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (brightness_scale), 0);

  gamma_frame = gtk_frame_new (_("Gamma"));
  gtk_widget_ref (gamma_frame);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "gamma_frame", gamma_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gamma_frame);
  gtk_box_pack_start (GTK_BOX (vbox8), gamma_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (gamma_frame), 5);
  gtk_widget_set_sensitive (gamma_frame, FALSE);

  hbox23 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox23);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hbox23", hbox23,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox23);
  gtk_container_add (GTK_CONTAINER (gamma_frame), hbox23);

  table12 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table12);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "table12", table12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table12);
  gtk_box_pack_start (GTK_BOX (hbox23), table12, FALSE, TRUE, 0);

  gamma_man = gtk_radio_button_new_with_label (gamma_group, _("Man"));
  gamma_group = gtk_radio_button_group (GTK_RADIO_BUTTON (gamma_man));
  gtk_widget_ref (gamma_man);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "gamma_man", gamma_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gamma_man);
  gtk_table_attach (GTK_TABLE (table12), gamma_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (gamma_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (gamma_man), TRUE);

  gamma_auto = gtk_radio_button_new_with_label (gamma_group, _("Auto"));
  gamma_group = gtk_radio_button_group (GTK_RADIO_BUTTON (gamma_auto));
  gtk_widget_ref (gamma_auto);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "gamma_auto", gamma_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gamma_auto);
  gtk_table_attach (GTK_TABLE (table12), gamma_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (gamma_auto, FALSE);

  gamma_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (gamma_op);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "gamma_op", gamma_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gamma_op);
  gtk_table_attach (GTK_TABLE (table12), gamma_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (gamma_op), 2);
  gtk_widget_set_sensitive (gamma_op, FALSE);

  alignment8 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment8);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "alignment8", alignment8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment8);
  gtk_table_attach (GTK_TABLE (table12), alignment8, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  gamma_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (gamma_power);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "gamma_power", gamma_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gamma_power);
  gtk_container_add (GTK_CONTAINER (alignment8), gamma_power);
  gtk_container_set_border_width (GTK_CONTAINER (gamma_power), 2);
  gtk_widget_set_sensitive (gamma_power, FALSE);

  gamma_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (gamma_scale);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "gamma_scale", gamma_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gamma_scale);
  gtk_box_pack_start (GTK_BOX (hbox23), gamma_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (gamma_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (gamma_scale), 0);

  saturation_frame = gtk_frame_new (_("Saturation"));
  gtk_widget_ref (saturation_frame);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "saturation_frame", saturation_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (saturation_frame);
  gtk_box_pack_start (GTK_BOX (vbox8), saturation_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (saturation_frame), 5);
  gtk_widget_set_sensitive (saturation_frame, FALSE);

  hbox7 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox7);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hbox7", hbox7,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox7);
  gtk_container_add (GTK_CONTAINER (saturation_frame), hbox7);

  table3 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table3);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "table3", table3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table3);
  gtk_box_pack_start (GTK_BOX (hbox7), table3, FALSE, TRUE, 0);

  saturation_man = gtk_radio_button_new_with_label (saturation_group, _("Man"));
  saturation_group = gtk_radio_button_group (GTK_RADIO_BUTTON (saturation_man));
  gtk_widget_ref (saturation_man);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "saturation_man", saturation_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (saturation_man);
  gtk_table_attach (GTK_TABLE (table3), saturation_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (saturation_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (saturation_man), TRUE);

  saturation_auto = gtk_radio_button_new_with_label (saturation_group, _("Auto"));
  saturation_group = gtk_radio_button_group (GTK_RADIO_BUTTON (saturation_auto));
  gtk_widget_ref (saturation_auto);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "saturation_auto", saturation_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (saturation_auto);
  gtk_table_attach (GTK_TABLE (table3), saturation_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (saturation_auto, FALSE);

  saturation_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (saturation_op);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "saturation_op", saturation_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (saturation_op);
  gtk_table_attach (GTK_TABLE (table3), saturation_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (saturation_op), 2);
  gtk_widget_set_sensitive (saturation_op, FALSE);

  alignment2 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment2);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "alignment2", alignment2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment2);
  gtk_table_attach (GTK_TABLE (table3), alignment2, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  saturation_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (saturation_power);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "saturation_power", saturation_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (saturation_power);
  gtk_container_add (GTK_CONTAINER (alignment2), saturation_power);
  gtk_container_set_border_width (GTK_CONTAINER (saturation_power), 2);
  gtk_widget_set_sensitive (saturation_power, FALSE);

  saturation_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (saturation_scale);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "saturation_scale", saturation_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (saturation_scale);
  gtk_box_pack_start (GTK_BOX (hbox7), saturation_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (saturation_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (saturation_scale), 0);

  hue_frame = gtk_frame_new (_("Hue"));
  gtk_widget_ref (hue_frame);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hue_frame", hue_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hue_frame);
  gtk_box_pack_start (GTK_BOX (vbox8), hue_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hue_frame), 5);
  gtk_widget_set_sensitive (hue_frame, FALSE);

  hbox8 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox8);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hbox8", hbox8,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox8);
  gtk_container_add (GTK_CONTAINER (hue_frame), hbox8);

  table4 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table4);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "table4", table4,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table4);
  gtk_box_pack_start (GTK_BOX (hbox8), table4, FALSE, TRUE, 0);

  hue_man = gtk_radio_button_new_with_label (hue_group, _("Man"));
  hue_group = gtk_radio_button_group (GTK_RADIO_BUTTON (hue_man));
  gtk_widget_ref (hue_man);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hue_man", hue_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hue_man);
  gtk_table_attach (GTK_TABLE (table4), hue_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (hue_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (hue_man), TRUE);

  hue_auto = gtk_radio_button_new_with_label (hue_group, _("Auto"));
  hue_group = gtk_radio_button_group (GTK_RADIO_BUTTON (hue_auto));
  gtk_widget_ref (hue_auto);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hue_auto", hue_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hue_auto);
  gtk_table_attach (GTK_TABLE (table4), hue_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (hue_auto, FALSE);

  hue_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (hue_op);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hue_op", hue_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hue_op);
  gtk_table_attach (GTK_TABLE (table4), hue_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (hue_op), 2);
  gtk_widget_set_sensitive (hue_op, FALSE);

  alignment3 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment3);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "alignment3", alignment3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment3);
  gtk_table_attach (GTK_TABLE (table4), alignment3, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  hue_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (hue_power);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hue_power", hue_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hue_power);
  gtk_container_add (GTK_CONTAINER (alignment3), hue_power);
  gtk_container_set_border_width (GTK_CONTAINER (hue_power), 2);
  gtk_widget_set_sensitive (hue_power, FALSE);

  hue_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (hue_scale);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hue_scale", hue_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hue_scale);
  gtk_box_pack_start (GTK_BOX (hbox8), hue_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (hue_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (hue_scale), 0);

  whitebal_frame = gtk_frame_new (_("White Balance"));
  gtk_widget_ref (whitebal_frame);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "whitebal_frame", whitebal_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (whitebal_frame);
  gtk_box_pack_start (GTK_BOX (vbox8), whitebal_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (whitebal_frame), 5);
  gtk_widget_set_sensitive (whitebal_frame, FALSE);

  hbox10 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox10);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hbox10", hbox10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox10);
  gtk_container_add (GTK_CONTAINER (whitebal_frame), hbox10);

  vbox15 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox15);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "vbox15", vbox15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox15);
  gtk_box_pack_start (GTK_BOX (hbox10), vbox15, FALSE, FALSE, 0);

  whitebal_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (whitebal_power);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "whitebal_power", whitebal_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (whitebal_power);
  gtk_box_pack_start (GTK_BOX (vbox15), whitebal_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (whitebal_power), 2);
  gtk_widget_set_sensitive (whitebal_power, FALSE);

  whitebal_man = gtk_radio_button_new_with_label (whitebal_group, _("Man"));
  whitebal_group = gtk_radio_button_group (GTK_RADIO_BUTTON (whitebal_man));
  gtk_widget_ref (whitebal_man);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "whitebal_man", whitebal_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (whitebal_man);
  gtk_box_pack_start (GTK_BOX (vbox15), whitebal_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (whitebal_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (whitebal_man), TRUE);

  whitebal_auto = gtk_radio_button_new_with_label (whitebal_group, _("Auto"));
  whitebal_group = gtk_radio_button_group (GTK_RADIO_BUTTON (whitebal_auto));
  gtk_widget_ref (whitebal_auto);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "whitebal_auto", whitebal_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (whitebal_auto);
  gtk_box_pack_start (GTK_BOX (vbox15), whitebal_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (whitebal_auto, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (whitebal_auto), TRUE);

  whitebal_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (whitebal_op);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "whitebal_op", whitebal_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (whitebal_op);
  gtk_box_pack_start (GTK_BOX (vbox15), whitebal_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (whitebal_op), 2);
  gtk_widget_set_sensitive (whitebal_op, FALSE);

  vbox14 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox14);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "vbox14", vbox14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox14);
  gtk_box_pack_start (GTK_BOX (hbox10), vbox14, TRUE, TRUE, 0);

  whitebal_BU_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (whitebal_BU_scale);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "whitebal_BU_scale", whitebal_BU_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (whitebal_BU_scale);
  gtk_box_pack_start (GTK_BOX (vbox14), whitebal_BU_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (whitebal_BU_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (whitebal_BU_scale), 0);

  whitebal_RV_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (whitebal_RV_scale);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "whitebal_RV_scale", whitebal_RV_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (whitebal_RV_scale);
  gtk_box_pack_start (GTK_BOX (vbox14), whitebal_RV_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (whitebal_RV_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (whitebal_RV_scale), 0);

  sharpness_frame = gtk_frame_new (_("Sharpness"));
  gtk_widget_ref (sharpness_frame);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "sharpness_frame", sharpness_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sharpness_frame);
  gtk_box_pack_start (GTK_BOX (vbox8), sharpness_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (sharpness_frame), 5);
  gtk_widget_set_sensitive (sharpness_frame, FALSE);

  hbox21 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox21);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "hbox21", hbox21,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox21);
  gtk_container_add (GTK_CONTAINER (sharpness_frame), hbox21);

  table10 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table10);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "table10", table10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table10);
  gtk_box_pack_start (GTK_BOX (hbox21), table10, FALSE, TRUE, 0);

  sharpness_man = gtk_radio_button_new_with_label (sharpness_group, _("Man"));
  sharpness_group = gtk_radio_button_group (GTK_RADIO_BUTTON (sharpness_man));
  gtk_widget_ref (sharpness_man);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "sharpness_man", sharpness_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sharpness_man);
  gtk_table_attach (GTK_TABLE (table10), sharpness_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (sharpness_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (sharpness_man), TRUE);

  sharpness_auto = gtk_radio_button_new_with_label (sharpness_group, _("Auto"));
  sharpness_group = gtk_radio_button_group (GTK_RADIO_BUTTON (sharpness_auto));
  gtk_widget_ref (sharpness_auto);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "sharpness_auto", sharpness_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sharpness_auto);
  gtk_table_attach (GTK_TABLE (table10), sharpness_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (sharpness_auto, FALSE);

  sharpness_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (sharpness_op);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "sharpness_op", sharpness_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sharpness_op);
  gtk_table_attach (GTK_TABLE (table10), sharpness_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (sharpness_op), 2);
  gtk_widget_set_sensitive (sharpness_op, FALSE);

  alignment6 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment6);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "alignment6", alignment6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment6);
  gtk_table_attach (GTK_TABLE (table10), alignment6, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  sharpness_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (sharpness_power);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "sharpness_power", sharpness_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sharpness_power);
  gtk_container_add (GTK_CONTAINER (alignment6), sharpness_power);
  gtk_container_set_border_width (GTK_CONTAINER (sharpness_power), 2);
  gtk_widget_set_sensitive (sharpness_power, FALSE);

  sharpness_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (sharpness_scale);
  gtk_object_set_data_full (GTK_OBJECT (color_window), "sharpness_scale", sharpness_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (sharpness_scale);
  gtk_box_pack_start (GTK_BOX (hbox21), sharpness_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (sharpness_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (sharpness_scale), 0);

  gtk_signal_connect (GTK_OBJECT (color_window), "delete_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (color_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (color_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (brightness_man), "toggled",
                      GTK_SIGNAL_FUNC (on_brightness_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (brightness_op), "clicked",
                      GTK_SIGNAL_FUNC (on_brightness_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (brightness_power), "toggled",
                      GTK_SIGNAL_FUNC (on_brightness_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (gamma_man), "toggled",
                      GTK_SIGNAL_FUNC (on_gamma_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (gamma_op), "clicked",
                      GTK_SIGNAL_FUNC (on_gamma_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (gamma_power), "toggled",
                      GTK_SIGNAL_FUNC (on_gamma_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (saturation_man), "toggled",
                      GTK_SIGNAL_FUNC (on_saturation_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (saturation_op), "clicked",
                      GTK_SIGNAL_FUNC (on_saturation_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (saturation_power), "toggled",
                      GTK_SIGNAL_FUNC (on_saturation_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (hue_man), "toggled",
                      GTK_SIGNAL_FUNC (on_hue_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (hue_op), "clicked",
                      GTK_SIGNAL_FUNC (on_hue_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (hue_power), "toggled",
                      GTK_SIGNAL_FUNC (on_hue_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (whitebal_power), "toggled",
                      GTK_SIGNAL_FUNC (on_whitebal_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (whitebal_man), "toggled",
                      GTK_SIGNAL_FUNC (on_whitebal_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (whitebal_op), "clicked",
                      GTK_SIGNAL_FUNC (on_whitebal_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (sharpness_man), "toggled",
                      GTK_SIGNAL_FUNC (on_sharpness_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (sharpness_op), "clicked",
                      GTK_SIGNAL_FUNC (on_sharpness_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (sharpness_power), "toggled",
                      GTK_SIGNAL_FUNC (on_sharpness_power_toggled),
                      NULL);

  return color_window;
}

GtkWidget*
create_aperture_window (void)
{
  GtkWidget *aperture_window;
  GtkWidget *hbox6;
  GtkWidget *exposure_frame;
  GtkWidget *vbox9;
  GtkWidget *exposure_power;
  GSList *exposure_group = NULL;
  GtkWidget *exposure_man;
  GtkWidget *exposure_auto;
  GtkWidget *exposure_op;
  GtkWidget *exposure_scale;
  GtkWidget *iris_frame;
  GtkWidget *vbox11;
  GtkWidget *iris_power;
  GSList *iris_group = NULL;
  GtkWidget *iris_man;
  GtkWidget *iris_auto;
  GtkWidget *iris_op;
  GtkWidget *iris_scale;
  GtkWidget *shutter_frame;
  GtkWidget *vbox12;
  GtkWidget *shutter_power;
  GSList *shutter_group = NULL;
  GtkWidget *shutter_man;
  GtkWidget *shutter_auto;
  GtkWidget *shutter_op;
  GtkWidget *shutter_scale;
  GtkWidget *gain_frame;
  GtkWidget *vbox13;
  GtkWidget *gain_power;
  GSList *gain_group = NULL;
  GtkWidget *gain_man;
  GtkWidget *gain_auto;
  GtkWidget *gain_op;
  GtkWidget *gain_scale;
  GtkWidget *filter_frame;
  GtkWidget *vbox10;
  GtkWidget *filter_power;
  GSList *filter_group = NULL;
  GtkWidget *filter_man;
  GtkWidget *filter_auto;
  GtkWidget *filter_op;
  GtkWidget *filter_scale;

  aperture_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (aperture_window), "aperture_window", aperture_window);
  gtk_widget_set_usize (aperture_window, -2, 350);
  gtk_window_set_title (GTK_WINDOW (aperture_window), _("Aperture"));
  gtk_window_set_default_size (GTK_WINDOW (aperture_window), -1, 350);
  gtk_window_set_policy (GTK_WINDOW (aperture_window), FALSE, FALSE, FALSE);

  hbox6 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox6);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "hbox6", hbox6,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox6);
  gtk_container_add (GTK_CONTAINER (aperture_window), hbox6);

  exposure_frame = gtk_frame_new (_("AutoExp"));
  gtk_widget_ref (exposure_frame);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "exposure_frame", exposure_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (exposure_frame);
  gtk_box_pack_start (GTK_BOX (hbox6), exposure_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (exposure_frame), 5);
  gtk_widget_set_sensitive (exposure_frame, FALSE);

  vbox9 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox9);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "vbox9", vbox9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox9);
  gtk_container_add (GTK_CONTAINER (exposure_frame), vbox9);

  exposure_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (exposure_power);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "exposure_power", exposure_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (exposure_power);
  gtk_box_pack_start (GTK_BOX (vbox9), exposure_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (exposure_power), 2);
  gtk_widget_set_sensitive (exposure_power, FALSE);

  exposure_man = gtk_radio_button_new_with_label (exposure_group, _("Man"));
  exposure_group = gtk_radio_button_group (GTK_RADIO_BUTTON (exposure_man));
  gtk_widget_ref (exposure_man);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "exposure_man", exposure_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (exposure_man);
  gtk_box_pack_start (GTK_BOX (vbox9), exposure_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (exposure_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (exposure_man), TRUE);

  exposure_auto = gtk_radio_button_new_with_label (exposure_group, _("Auto"));
  exposure_group = gtk_radio_button_group (GTK_RADIO_BUTTON (exposure_auto));
  gtk_widget_ref (exposure_auto);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "exposure_auto", exposure_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (exposure_auto);
  gtk_box_pack_start (GTK_BOX (vbox9), exposure_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (exposure_auto, FALSE);

  exposure_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (exposure_op);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "exposure_op", exposure_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (exposure_op);
  gtk_box_pack_start (GTK_BOX (vbox9), exposure_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (exposure_op), 2);
  gtk_widget_set_sensitive (exposure_op, FALSE);

  exposure_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (exposure_scale);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "exposure_scale", exposure_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (exposure_scale);
  gtk_box_pack_start (GTK_BOX (vbox9), exposure_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (exposure_scale, FALSE);
  gtk_scale_set_value_pos (GTK_SCALE (exposure_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (exposure_scale), 0);

  iris_frame = gtk_frame_new (_("Iris"));
  gtk_widget_ref (iris_frame);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "iris_frame", iris_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iris_frame);
  gtk_box_pack_start (GTK_BOX (hbox6), iris_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iris_frame), 5);
  gtk_widget_set_sensitive (iris_frame, FALSE);

  vbox11 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox11);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "vbox11", vbox11,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox11);
  gtk_container_add (GTK_CONTAINER (iris_frame), vbox11);

  iris_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (iris_power);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "iris_power", iris_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iris_power);
  gtk_box_pack_start (GTK_BOX (vbox11), iris_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iris_power), 2);
  gtk_widget_set_sensitive (iris_power, FALSE);

  iris_man = gtk_radio_button_new_with_label (iris_group, _("Man"));
  iris_group = gtk_radio_button_group (GTK_RADIO_BUTTON (iris_man));
  gtk_widget_ref (iris_man);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "iris_man", iris_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iris_man);
  gtk_box_pack_start (GTK_BOX (vbox11), iris_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (iris_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (iris_man), TRUE);

  iris_auto = gtk_radio_button_new_with_label (iris_group, _("Auto"));
  iris_group = gtk_radio_button_group (GTK_RADIO_BUTTON (iris_auto));
  gtk_widget_ref (iris_auto);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "iris_auto", iris_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iris_auto);
  gtk_box_pack_start (GTK_BOX (vbox11), iris_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (iris_auto, FALSE);

  iris_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (iris_op);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "iris_op", iris_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iris_op);
  gtk_box_pack_start (GTK_BOX (vbox11), iris_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iris_op), 2);
  gtk_widget_set_sensitive (iris_op, FALSE);

  iris_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (iris_scale);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "iris_scale", iris_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iris_scale);
  gtk_box_pack_start (GTK_BOX (vbox11), iris_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (iris_scale, FALSE);
  gtk_scale_set_value_pos (GTK_SCALE (iris_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (iris_scale), 0);

  shutter_frame = gtk_frame_new (_("Shutter"));
  gtk_widget_ref (shutter_frame);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "shutter_frame", shutter_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (shutter_frame);
  gtk_box_pack_start (GTK_BOX (hbox6), shutter_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (shutter_frame), 5);
  gtk_widget_set_sensitive (shutter_frame, FALSE);

  vbox12 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox12);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "vbox12", vbox12,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox12);
  gtk_container_add (GTK_CONTAINER (shutter_frame), vbox12);

  shutter_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (shutter_power);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "shutter_power", shutter_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (shutter_power);
  gtk_box_pack_start (GTK_BOX (vbox12), shutter_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (shutter_power), 2);
  gtk_widget_set_sensitive (shutter_power, FALSE);

  shutter_man = gtk_radio_button_new_with_label (shutter_group, _("Man"));
  shutter_group = gtk_radio_button_group (GTK_RADIO_BUTTON (shutter_man));
  gtk_widget_ref (shutter_man);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "shutter_man", shutter_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (shutter_man);
  gtk_box_pack_start (GTK_BOX (vbox12), shutter_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (shutter_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (shutter_man), TRUE);

  shutter_auto = gtk_radio_button_new_with_label (shutter_group, _("Auto"));
  shutter_group = gtk_radio_button_group (GTK_RADIO_BUTTON (shutter_auto));
  gtk_widget_ref (shutter_auto);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "shutter_auto", shutter_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (shutter_auto);
  gtk_box_pack_start (GTK_BOX (vbox12), shutter_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (shutter_auto, FALSE);

  shutter_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (shutter_op);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "shutter_op", shutter_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (shutter_op);
  gtk_box_pack_start (GTK_BOX (vbox12), shutter_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (shutter_op), 2);
  gtk_widget_set_sensitive (shutter_op, FALSE);

  shutter_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (shutter_scale);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "shutter_scale", shutter_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (shutter_scale);
  gtk_box_pack_start (GTK_BOX (vbox12), shutter_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (shutter_scale, FALSE);
  gtk_scale_set_value_pos (GTK_SCALE (shutter_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (shutter_scale), 0);

  gain_frame = gtk_frame_new (_("Gain"));
  gtk_widget_ref (gain_frame);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "gain_frame", gain_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gain_frame);
  gtk_box_pack_start (GTK_BOX (hbox6), gain_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (gain_frame), 5);
  gtk_widget_set_sensitive (gain_frame, FALSE);

  vbox13 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox13);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "vbox13", vbox13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox13);
  gtk_container_add (GTK_CONTAINER (gain_frame), vbox13);

  gain_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (gain_power);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "gain_power", gain_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gain_power);
  gtk_box_pack_start (GTK_BOX (vbox13), gain_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (gain_power), 2);
  gtk_widget_set_sensitive (gain_power, FALSE);

  gain_man = gtk_radio_button_new_with_label (gain_group, _("Man"));
  gain_group = gtk_radio_button_group (GTK_RADIO_BUTTON (gain_man));
  gtk_widget_ref (gain_man);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "gain_man", gain_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gain_man);
  gtk_box_pack_start (GTK_BOX (vbox13), gain_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (gain_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (gain_man), TRUE);

  gain_auto = gtk_radio_button_new_with_label (gain_group, _("Auto"));
  gain_group = gtk_radio_button_group (GTK_RADIO_BUTTON (gain_auto));
  gtk_widget_ref (gain_auto);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "gain_auto", gain_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gain_auto);
  gtk_box_pack_start (GTK_BOX (vbox13), gain_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (gain_auto, FALSE);

  gain_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (gain_op);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "gain_op", gain_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gain_op);
  gtk_box_pack_start (GTK_BOX (vbox13), gain_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (gain_op), 2);
  gtk_widget_set_sensitive (gain_op, FALSE);

  gain_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (gain_scale);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "gain_scale", gain_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gain_scale);
  gtk_box_pack_start (GTK_BOX (vbox13), gain_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (gain_scale, FALSE);
  gtk_scale_set_value_pos (GTK_SCALE (gain_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (gain_scale), 0);

  filter_frame = gtk_frame_new (_("Filter"));
  gtk_widget_ref (filter_frame);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "filter_frame", filter_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filter_frame);
  gtk_box_pack_start (GTK_BOX (hbox6), filter_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (filter_frame), 5);
  gtk_widget_set_sensitive (filter_frame, FALSE);

  vbox10 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox10);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "vbox10", vbox10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox10);
  gtk_container_add (GTK_CONTAINER (filter_frame), vbox10);

  filter_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (filter_power);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "filter_power", filter_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filter_power);
  gtk_box_pack_start (GTK_BOX (vbox10), filter_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (filter_power), 2);
  gtk_widget_set_sensitive (filter_power, FALSE);

  filter_man = gtk_radio_button_new_with_label (filter_group, _("Man"));
  filter_group = gtk_radio_button_group (GTK_RADIO_BUTTON (filter_man));
  gtk_widget_ref (filter_man);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "filter_man", filter_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filter_man);
  gtk_box_pack_start (GTK_BOX (vbox10), filter_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (filter_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (filter_man), TRUE);

  filter_auto = gtk_radio_button_new_with_label (filter_group, _("Auto"));
  filter_group = gtk_radio_button_group (GTK_RADIO_BUTTON (filter_auto));
  gtk_widget_ref (filter_auto);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "filter_auto", filter_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filter_auto);
  gtk_box_pack_start (GTK_BOX (vbox10), filter_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (filter_auto, FALSE);

  filter_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (filter_op);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "filter_op", filter_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filter_op);
  gtk_box_pack_start (GTK_BOX (vbox10), filter_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (filter_op), 2);
  gtk_widget_set_sensitive (filter_op, FALSE);

  filter_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (filter_scale);
  gtk_object_set_data_full (GTK_OBJECT (aperture_window), "filter_scale", filter_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (filter_scale);
  gtk_box_pack_start (GTK_BOX (vbox10), filter_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (filter_scale, FALSE);
  gtk_scale_set_value_pos (GTK_SCALE (filter_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (filter_scale), 0);

  gtk_signal_connect (GTK_OBJECT (aperture_window), "delete_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (aperture_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (aperture_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (exposure_power), "toggled",
                      GTK_SIGNAL_FUNC (on_exposure_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (exposure_man), "toggled",
                      GTK_SIGNAL_FUNC (on_exposure_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (exposure_op), "clicked",
                      GTK_SIGNAL_FUNC (on_exposure_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iris_power), "toggled",
                      GTK_SIGNAL_FUNC (on_iris_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iris_man), "toggled",
                      GTK_SIGNAL_FUNC (on_iris_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iris_op), "clicked",
                      GTK_SIGNAL_FUNC (on_iris_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (shutter_power), "toggled",
                      GTK_SIGNAL_FUNC (on_shutter_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (shutter_man), "toggled",
                      GTK_SIGNAL_FUNC (on_shutter_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (shutter_op), "clicked",
                      GTK_SIGNAL_FUNC (on_shutter_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (gain_power), "toggled",
                      GTK_SIGNAL_FUNC (on_gain_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (gain_man), "toggled",
                      GTK_SIGNAL_FUNC (on_gain_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (gain_op), "clicked",
                      GTK_SIGNAL_FUNC (on_gain_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (filter_power), "toggled",
                      GTK_SIGNAL_FUNC (on_filter_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (filter_man), "toggled",
                      GTK_SIGNAL_FUNC (on_filter_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (filter_op), "clicked",
                      GTK_SIGNAL_FUNC (on_filter_op_clicked),
                      NULL);

  return aperture_window;
}

GtkWidget*
create_file_selector_window (void)
{
  GtkWidget *file_selector_window;
  GtkWidget *ok_button1;
  GtkWidget *cancel_button1;

  file_selector_window = gtk_file_selection_new (_("File Selector"));
  gtk_object_set_data (GTK_OBJECT (file_selector_window), "file_selector_window", file_selector_window);
  gtk_container_set_border_width (GTK_CONTAINER (file_selector_window), 10);

  ok_button1 = GTK_FILE_SELECTION (file_selector_window)->ok_button;
  gtk_object_set_data (GTK_OBJECT (file_selector_window), "ok_button1", ok_button1);
  gtk_widget_show (ok_button1);
  GTK_WIDGET_SET_FLAGS (ok_button1, GTK_CAN_DEFAULT);

  cancel_button1 = GTK_FILE_SELECTION (file_selector_window)->cancel_button;
  gtk_object_set_data (GTK_OBJECT (file_selector_window), "cancel_button1", cancel_button1);
  gtk_widget_show (cancel_button1);
  GTK_WIDGET_SET_FLAGS (cancel_button1, GTK_CAN_DEFAULT);

  gtk_signal_connect (GTK_OBJECT (file_selector_window), "delete_event",
                      GTK_SIGNAL_FUNC (on_file_selector_window_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (file_selector_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_destroy),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (file_selector_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_destroy),
                      NULL);

  return file_selector_window;
}

GtkWidget*
create_configure_window (void)
{
  GtkWidget *configure_window;
  GtkWidget *configure_frame;
  GtkWidget *configure_bar;

  configure_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (configure_window), "configure_window", configure_window);
  gtk_window_set_title (GTK_WINDOW (configure_window), _("Configure"));
  gtk_window_set_policy (GTK_WINDOW (configure_window), FALSE, FALSE, FALSE);

  configure_frame = gtk_frame_new (_("Please wait while the IEEE1394 bus is probed..."));
  gtk_widget_ref (configure_frame);
  gtk_object_set_data_full (GTK_OBJECT (configure_window), "configure_frame", configure_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (configure_frame);
  gtk_container_add (GTK_CONTAINER (configure_window), configure_frame);
  gtk_container_set_border_width (GTK_CONTAINER (configure_frame), 6);

  configure_bar = gtk_progress_bar_new ();
  gtk_widget_ref (configure_bar);
  gtk_object_set_data_full (GTK_OBJECT (configure_window), "configure_bar", configure_bar,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (configure_bar);
  gtk_container_add (GTK_CONTAINER (configure_frame), configure_bar);
  gtk_widget_set_usize (configure_bar, 400, -2);
  gtk_progress_set_show_text (GTK_PROGRESS (configure_bar), TRUE);

  gtk_signal_connect (GTK_OBJECT (configure_window), "delete_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (configure_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (configure_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);

  return configure_window;
}

GtkWidget*
create_status_window (void)
{
  GtkWidget *status_window;
  GtkWidget *vbox28;
  GtkWidget *camera_status_frame;
  GtkWidget *hbox17;
  GtkWidget *vbox23;
  GtkWidget *label1;
  GtkWidget *label2;
  GtkWidget *label3;
  GtkWidget *label17;
  GtkWidget *label31;
  GtkWidget *label32;
  GtkWidget *label33;
  GtkWidget *label34;
  GtkWidget *label35;
  GtkWidget *vbox21;
  GtkWidget *camera_vendor_status;
  GtkWidget *camera_model_status;
  GtkWidget *camera_handle_status;
  GtkWidget *camera_node_status;
  GtkWidget *camera_guid_status;
  GtkWidget *camera_maxiso_status;
  GtkWidget *camera_delay_status;
  GtkWidget *camera_dc_status;
  GtkWidget *camera_pwclass_status;
  GtkWidget *transfer_status_frame;
  GtkWidget *hbox39;
  GtkWidget *vbox42;
  GtkWidget *label18;
  GtkWidget *label19;
  GtkWidget *label20;
  GtkWidget *vbox43;
  GtkWidget *iso_channel_status;
  GtkWidget *iso_speed_status;
  GtkWidget *iso_status_status;

  status_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (status_window), "status_window", status_window);
  gtk_widget_set_usize (status_window, 250, -2);
  gtk_window_set_title (GTK_WINDOW (status_window), _("Camera Status"));
  gtk_window_set_policy (GTK_WINDOW (status_window), FALSE, FALSE, FALSE);

  vbox28 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox28);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "vbox28", vbox28,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox28);
  gtk_container_add (GTK_CONTAINER (status_window), vbox28);

  camera_status_frame = gtk_frame_new (_("Camera"));
  gtk_widget_ref (camera_status_frame);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_status_frame", camera_status_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_status_frame);
  gtk_box_pack_start (GTK_BOX (vbox28), camera_status_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_status_frame), 5);

  hbox17 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox17);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "hbox17", hbox17,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox17);
  gtk_container_add (GTK_CONTAINER (camera_status_frame), hbox17);

  vbox23 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox23);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "vbox23", vbox23,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox23);
  gtk_box_pack_start (GTK_BOX (hbox17), vbox23, FALSE, FALSE, 0);
  gtk_widget_set_usize (vbox23, 70, -2);

  label1 = gtk_label_new (_("Vendor:"));
  gtk_widget_ref (label1);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label1", label1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label1);
  gtk_box_pack_start (GTK_BOX (vbox23), label1, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label1), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label1), 2, 2);

  label2 = gtk_label_new (_("Model:"));
  gtk_widget_ref (label2);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label2", label2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label2);
  gtk_box_pack_start (GTK_BOX (vbox23), label2, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label2), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label2), 2, 2);

  label3 = gtk_label_new (_("Handle:"));
  gtk_widget_ref (label3);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label3", label3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label3);
  gtk_box_pack_start (GTK_BOX (vbox23), label3, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label3), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label3), 2, 2);

  label17 = gtk_label_new (_("Node:"));
  gtk_widget_ref (label17);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label17", label17,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label17);
  gtk_box_pack_start (GTK_BOX (vbox23), label17, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label17), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label17), 2, 2);

  label31 = gtk_label_new (_("GUID:"));
  gtk_widget_ref (label31);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label31", label31,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label31);
  gtk_box_pack_start (GTK_BOX (vbox23), label31, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label31), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label31), 2, 2);

  label32 = gtk_label_new (_("PHY speed:"));
  gtk_widget_ref (label32);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label32", label32,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label32);
  gtk_box_pack_start (GTK_BOX (vbox23), label32, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label32), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label32), 2, 2);

  label33 = gtk_label_new (_("PHY delay:"));
  gtk_widget_ref (label33);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label33", label33,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label33);
  gtk_box_pack_start (GTK_BOX (vbox23), label33, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label33), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label33), 2, 2);

  label34 = gtk_label_new (_("IIDC specs:"));
  gtk_widget_ref (label34);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label34", label34,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label34);
  gtk_box_pack_start (GTK_BOX (vbox23), label34, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label34), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label34), 2, 2);

  label35 = gtk_label_new (_("Power class:"));
  gtk_widget_ref (label35);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label35", label35,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label35);
  gtk_box_pack_start (GTK_BOX (vbox23), label35, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label35), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label35), 2, 2);

  vbox21 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox21);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "vbox21", vbox21,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox21);
  gtk_box_pack_start (GTK_BOX (hbox17), vbox21, TRUE, TRUE, 0);

  camera_vendor_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_vendor_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_vendor_status", camera_vendor_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_vendor_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_vendor_status, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_vendor_status), 2);

  camera_model_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_model_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_model_status", camera_model_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_model_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_model_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_model_status), 2);

  camera_handle_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_handle_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_handle_status", camera_handle_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_handle_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_handle_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_handle_status), 2);

  camera_node_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_node_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_node_status", camera_node_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_node_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_node_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_node_status), 2);

  camera_guid_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_guid_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_guid_status", camera_guid_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_guid_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_guid_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_guid_status), 2);

  camera_maxiso_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_maxiso_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_maxiso_status", camera_maxiso_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_maxiso_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_maxiso_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_maxiso_status), 2);

  camera_delay_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_delay_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_delay_status", camera_delay_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_delay_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_delay_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_delay_status), 2);

  camera_dc_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_dc_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_dc_status", camera_dc_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_dc_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_dc_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_dc_status), 2);

  camera_pwclass_status = gtk_statusbar_new ();
  gtk_widget_ref (camera_pwclass_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "camera_pwclass_status", camera_pwclass_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (camera_pwclass_status);
  gtk_box_pack_start (GTK_BOX (vbox21), camera_pwclass_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (camera_pwclass_status), 2);

  transfer_status_frame = gtk_frame_new (_("Transfer"));
  gtk_widget_ref (transfer_status_frame);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "transfer_status_frame", transfer_status_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (transfer_status_frame);
  gtk_box_pack_start (GTK_BOX (vbox28), transfer_status_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (transfer_status_frame), 5);

  hbox39 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox39);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "hbox39", hbox39,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox39);
  gtk_container_add (GTK_CONTAINER (transfer_status_frame), hbox39);

  vbox42 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox42);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "vbox42", vbox42,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox42);
  gtk_box_pack_start (GTK_BOX (hbox39), vbox42, FALSE, FALSE, 0);
  gtk_widget_set_usize (vbox42, 70, -2);

  label18 = gtk_label_new (_("Channel:"));
  gtk_widget_ref (label18);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label18", label18,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label18);
  gtk_box_pack_start (GTK_BOX (vbox42), label18, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label18), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label18), 2, 2);

  label19 = gtk_label_new (_("Speed:"));
  gtk_widget_ref (label19);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label19", label19,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label19);
  gtk_box_pack_start (GTK_BOX (vbox42), label19, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label19), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label19), 2, 2);

  label20 = gtk_label_new (_("Status:"));
  gtk_widget_ref (label20);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "label20", label20,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label20);
  gtk_box_pack_start (GTK_BOX (vbox42), label20, FALSE, FALSE, 0);
  gtk_label_set_justify (GTK_LABEL (label20), GTK_JUSTIFY_LEFT);
  gtk_misc_set_padding (GTK_MISC (label20), 2, 2);

  vbox43 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox43);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "vbox43", vbox43,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox43);
  gtk_box_pack_start (GTK_BOX (hbox39), vbox43, TRUE, TRUE, 0);

  iso_channel_status = gtk_statusbar_new ();
  gtk_widget_ref (iso_channel_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "iso_channel_status", iso_channel_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_channel_status);
  gtk_box_pack_start (GTK_BOX (vbox43), iso_channel_status, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_channel_status), 2);

  iso_speed_status = gtk_statusbar_new ();
  gtk_widget_ref (iso_speed_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "iso_speed_status", iso_speed_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_speed_status);
  gtk_box_pack_start (GTK_BOX (vbox43), iso_speed_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_speed_status), 2);

  iso_status_status = gtk_statusbar_new ();
  gtk_widget_ref (iso_status_status);
  gtk_object_set_data_full (GTK_OBJECT (status_window), "iso_status_status", iso_status_status,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_status_status);
  gtk_box_pack_start (GTK_BOX (vbox43), iso_status_status, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_status_status), 2);

  gtk_signal_connect (GTK_OBJECT (status_window), "delete_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (status_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (status_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);

  return status_window;
}

GtkWidget*
create_capture_window (void)
{
  GtkWidget *capture_window;
  GtkWidget *vbox29;
  GtkWidget *capqual_frame;
  GtkWidget *hbox24;
  GtkWidget *table13;
  GSList *capqual_group = NULL;
  GtkWidget *capqual_man;
  GtkWidget *capqual_auto;
  GtkWidget *capqual_op;
  GtkWidget *alignment9;
  GtkWidget *capqual_power;
  GtkWidget *capqual_scale;
  GtkWidget *capsize;
  GtkWidget *hbox25;
  GtkWidget *table14;
  GSList *capsize_group = NULL;
  GtkWidget *capsize_man;
  GtkWidget *capsize_auto;
  GtkWidget *capsize_op;
  GtkWidget *alignment10;
  GtkWidget *capsize_power;
  GtkWidget *capsize_scale;
  GtkWidget *capture_frame;
  GtkWidget *vbox_capture;
  GtkWidget *frame_capture_freq;
  GtkWidget *vbox_capture_freq;
  GSList *capfrequency_group = NULL;
  GtkWidget *radiobutton_capture_freq_immediate;
  GtkWidget *hbox_capture_freq_periodic;
  GtkWidget *radiobutton_capture_freq_periodioc;
  GtkObject *spinbutton_capture_freq_periodic_adj;
  GtkWidget *spinbutton_capture_freq_periodic;
  GtkWidget *label42;
  GtkWidget *frame_capture_mode;
  GtkWidget *vbox_capture_mode;
  GSList *capmode_group = NULL;
  GtkWidget *radiobutton_capture_mode_seq;
  GtkWidget *radiobutton_capture_mode_over;
  GtkWidget *frame_capture_ftp;
  GtkWidget *vbox_capture_ftp;
  GtkWidget *checkbutton_capture_ftp;
  GtkWidget *table_capture_ftp;
  GtkWidget *label_capture_ftp_address;
  GtkWidget *entry_capture_ftp_address;
  GtkWidget *label_capture_ftp_path;
  GtkWidget *label_capture_ftp_user;
  GtkWidget *label_capture_ftp_passwd;
  GtkWidget *entry_capture_ftp_path;
  GtkWidget *entry_capture_ftp_user;
  GtkWidget *entry_capture_ftp_passwd;
  GtkWidget *hbox_capture;
  GtkWidget *capture_start;
  GtkWidget *capture_stop;
  GtkWidget *capture_single;
  GtkWidget *iso_frame;
  GtkWidget *hbox33;
  GtkWidget *iso_start;
  GtkWidget *iso_stop;
  GtkWidget *iso_restart;

  capture_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (capture_window), "capture_window", capture_window);
  gtk_widget_set_usize (capture_window, 350, -2);
  gtk_window_set_title (GTK_WINDOW (capture_window), _("Capture"));
  gtk_window_set_default_size (GTK_WINDOW (capture_window), 350, -1);
  gtk_window_set_policy (GTK_WINDOW (capture_window), FALSE, FALSE, FALSE);

  vbox29 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox29);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "vbox29", vbox29,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox29);
  gtk_container_add (GTK_CONTAINER (capture_window), vbox29);

  capqual_frame = gtk_frame_new (_("Capture Quality"));
  gtk_widget_ref (capqual_frame);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capqual_frame", capqual_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capqual_frame);
  gtk_box_pack_start (GTK_BOX (vbox29), capqual_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capqual_frame), 5);
  gtk_widget_set_sensitive (capqual_frame, FALSE);

  hbox24 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox24);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "hbox24", hbox24,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox24);
  gtk_container_add (GTK_CONTAINER (capqual_frame), hbox24);

  table13 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table13);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "table13", table13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table13);
  gtk_box_pack_start (GTK_BOX (hbox24), table13, FALSE, TRUE, 0);

  capqual_man = gtk_radio_button_new_with_label (capqual_group, _("Man"));
  capqual_group = gtk_radio_button_group (GTK_RADIO_BUTTON (capqual_man));
  gtk_widget_ref (capqual_man);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capqual_man", capqual_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capqual_man);
  gtk_table_attach (GTK_TABLE (table13), capqual_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (capqual_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (capqual_man), TRUE);

  capqual_auto = gtk_radio_button_new_with_label (capqual_group, _("Auto"));
  capqual_group = gtk_radio_button_group (GTK_RADIO_BUTTON (capqual_auto));
  gtk_widget_ref (capqual_auto);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capqual_auto", capqual_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capqual_auto);
  gtk_table_attach (GTK_TABLE (table13), capqual_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (capqual_auto, FALSE);

  capqual_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (capqual_op);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capqual_op", capqual_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capqual_op);
  gtk_table_attach (GTK_TABLE (table13), capqual_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capqual_op), 2);
  gtk_widget_set_sensitive (capqual_op, FALSE);

  alignment9 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment9);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "alignment9", alignment9,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment9);
  gtk_table_attach (GTK_TABLE (table13), alignment9, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  capqual_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (capqual_power);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capqual_power", capqual_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capqual_power);
  gtk_container_add (GTK_CONTAINER (alignment9), capqual_power);
  gtk_container_set_border_width (GTK_CONTAINER (capqual_power), 2);
  gtk_widget_set_sensitive (capqual_power, FALSE);

  capqual_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (capqual_scale);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capqual_scale", capqual_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capqual_scale);
  gtk_box_pack_start (GTK_BOX (hbox24), capqual_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (capqual_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (capqual_scale), 0);

  capsize = gtk_frame_new (_("Capture Size"));
  gtk_widget_ref (capsize);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capsize", capsize,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capsize);
  gtk_box_pack_start (GTK_BOX (vbox29), capsize, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capsize), 5);
  gtk_widget_set_sensitive (capsize, FALSE);

  hbox25 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox25);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "hbox25", hbox25,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox25);
  gtk_container_add (GTK_CONTAINER (capsize), hbox25);

  table14 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table14);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "table14", table14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table14);
  gtk_box_pack_start (GTK_BOX (hbox25), table14, FALSE, TRUE, 0);

  capsize_man = gtk_radio_button_new_with_label (capsize_group, _("Man"));
  capsize_group = gtk_radio_button_group (GTK_RADIO_BUTTON (capsize_man));
  gtk_widget_ref (capsize_man);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capsize_man", capsize_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capsize_man);
  gtk_table_attach (GTK_TABLE (table14), capsize_man, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (capsize_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (capsize_man), TRUE);

  capsize_auto = gtk_radio_button_new_with_label (capsize_group, _("Auto"));
  capsize_group = gtk_radio_button_group (GTK_RADIO_BUTTON (capsize_auto));
  gtk_widget_ref (capsize_auto);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capsize_auto", capsize_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capsize_auto);
  gtk_table_attach (GTK_TABLE (table14), capsize_auto, 1, 2, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_sensitive (capsize_auto, FALSE);

  capsize_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (capsize_op);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capsize_op", capsize_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capsize_op);
  gtk_table_attach (GTK_TABLE (table14), capsize_op, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capsize_op), 2);
  gtk_widget_set_sensitive (capsize_op, FALSE);

  alignment10 = gtk_alignment_new (0.5, 0.5, 1, 1);
  gtk_widget_ref (alignment10);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "alignment10", alignment10,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (alignment10);
  gtk_table_attach (GTK_TABLE (table14), alignment10, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  capsize_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (capsize_power);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capsize_power", capsize_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capsize_power);
  gtk_container_add (GTK_CONTAINER (alignment10), capsize_power);
  gtk_container_set_border_width (GTK_CONTAINER (capsize_power), 2);
  gtk_widget_set_sensitive (capsize_power, FALSE);

  capsize_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (capsize_scale);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capsize_scale", capsize_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capsize_scale);
  gtk_box_pack_start (GTK_BOX (hbox25), capsize_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (capsize_scale, FALSE);
  gtk_scale_set_digits (GTK_SCALE (capsize_scale), 0);

  capture_frame = gtk_frame_new (_("Capture"));
  gtk_widget_ref (capture_frame);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capture_frame", capture_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capture_frame);
  gtk_box_pack_start (GTK_BOX (vbox29), capture_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capture_frame), 5);
  gtk_widget_set_sensitive (capture_frame, FALSE);

  vbox_capture = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_capture);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "vbox_capture", vbox_capture,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_capture);
  gtk_container_add (GTK_CONTAINER (capture_frame), vbox_capture);

  frame_capture_freq = gtk_frame_new (NULL);
  gtk_widget_ref (frame_capture_freq);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "frame_capture_freq", frame_capture_freq,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_capture_freq);
  gtk_box_pack_start (GTK_BOX (vbox_capture), frame_capture_freq, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame_capture_freq), 5);

  vbox_capture_freq = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_capture_freq);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "vbox_capture_freq", vbox_capture_freq,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_capture_freq);
  gtk_container_add (GTK_CONTAINER (frame_capture_freq), vbox_capture_freq);

  radiobutton_capture_freq_immediate = gtk_radio_button_new_with_label (capfrequency_group, _("As fast as possible"));
  capfrequency_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radiobutton_capture_freq_immediate));
  gtk_widget_ref (radiobutton_capture_freq_immediate);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "radiobutton_capture_freq_immediate", radiobutton_capture_freq_immediate,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radiobutton_capture_freq_immediate);
  gtk_box_pack_start (GTK_BOX (vbox_capture_freq), radiobutton_capture_freq_immediate, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (radiobutton_capture_freq_immediate), TRUE);

  hbox_capture_freq_periodic = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox_capture_freq_periodic);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "hbox_capture_freq_periodic", hbox_capture_freq_periodic,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_capture_freq_periodic);
  gtk_box_pack_start (GTK_BOX (vbox_capture_freq), hbox_capture_freq_periodic, TRUE, TRUE, 0);

  radiobutton_capture_freq_periodioc = gtk_radio_button_new_with_label (capfrequency_group, _("Every"));
  capfrequency_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radiobutton_capture_freq_periodioc));
  gtk_widget_ref (radiobutton_capture_freq_periodioc);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "radiobutton_capture_freq_periodioc", radiobutton_capture_freq_periodioc,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radiobutton_capture_freq_periodioc);
  gtk_box_pack_start (GTK_BOX (hbox_capture_freq_periodic), radiobutton_capture_freq_periodioc, FALSE, FALSE, 0);

  spinbutton_capture_freq_periodic_adj = gtk_adjustment_new (1, 0, 9999, 1, 10, 10);
  spinbutton_capture_freq_periodic = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton_capture_freq_periodic_adj), 1, 0);
  gtk_widget_ref (spinbutton_capture_freq_periodic);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "spinbutton_capture_freq_periodic", spinbutton_capture_freq_periodic,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton_capture_freq_periodic);
  gtk_box_pack_start (GTK_BOX (hbox_capture_freq_periodic), spinbutton_capture_freq_periodic, FALSE, FALSE, 0);
  gtk_widget_set_usize (spinbutton_capture_freq_periodic, 100, -2);

  label42 = gtk_label_new (_("seconds"));
  gtk_widget_ref (label42);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "label42", label42,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label42);
  gtk_box_pack_start (GTK_BOX (hbox_capture_freq_periodic), label42, FALSE, FALSE, 2);
  gtk_misc_set_padding (GTK_MISC (label42), 5, 0);

  frame_capture_mode = gtk_frame_new (NULL);
  gtk_widget_ref (frame_capture_mode);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "frame_capture_mode", frame_capture_mode,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_capture_mode);
  gtk_box_pack_start (GTK_BOX (vbox_capture), frame_capture_mode, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame_capture_mode), 5);

  vbox_capture_mode = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_capture_mode);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "vbox_capture_mode", vbox_capture_mode,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_capture_mode);
  gtk_container_add (GTK_CONTAINER (frame_capture_mode), vbox_capture_mode);

  radiobutton_capture_mode_seq = gtk_radio_button_new_with_label (capmode_group, _("Sequentially number files"));
  capmode_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radiobutton_capture_mode_seq));
  gtk_widget_ref (radiobutton_capture_mode_seq);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "radiobutton_capture_mode_seq", radiobutton_capture_mode_seq,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radiobutton_capture_mode_seq);
  gtk_box_pack_start (GTK_BOX (vbox_capture_mode), radiobutton_capture_mode_seq, FALSE, FALSE, 0);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (radiobutton_capture_mode_seq), TRUE);

  radiobutton_capture_mode_over = gtk_radio_button_new_with_label (capmode_group, _("Continually overwrite file"));
  capmode_group = gtk_radio_button_group (GTK_RADIO_BUTTON (radiobutton_capture_mode_over));
  gtk_widget_ref (radiobutton_capture_mode_over);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "radiobutton_capture_mode_over", radiobutton_capture_mode_over,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (radiobutton_capture_mode_over);
  gtk_box_pack_start (GTK_BOX (vbox_capture_mode), radiobutton_capture_mode_over, FALSE, FALSE, 0);

  frame_capture_ftp = gtk_frame_new (NULL);
  gtk_widget_ref (frame_capture_ftp);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "frame_capture_ftp", frame_capture_ftp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (frame_capture_ftp);
  gtk_box_pack_start (GTK_BOX (vbox_capture), frame_capture_ftp, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (frame_capture_ftp), 5);

  vbox_capture_ftp = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox_capture_ftp);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "vbox_capture_ftp", vbox_capture_ftp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox_capture_ftp);
  gtk_container_add (GTK_CONTAINER (frame_capture_ftp), vbox_capture_ftp);

  checkbutton_capture_ftp = gtk_check_button_new_with_label (_("Enable FTP:"));
  gtk_widget_ref (checkbutton_capture_ftp);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "checkbutton_capture_ftp", checkbutton_capture_ftp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (checkbutton_capture_ftp);
  gtk_box_pack_start (GTK_BOX (vbox_capture_ftp), checkbutton_capture_ftp, FALSE, FALSE, 0);

  table_capture_ftp = gtk_table_new (4, 2, FALSE);
  gtk_widget_ref (table_capture_ftp);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "table_capture_ftp", table_capture_ftp,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table_capture_ftp);
  gtk_box_pack_start (GTK_BOX (vbox_capture_ftp), table_capture_ftp, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (table_capture_ftp), 4);

  label_capture_ftp_address = gtk_label_new (_("Address"));
  gtk_widget_ref (label_capture_ftp_address);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "label_capture_ftp_address", label_capture_ftp_address,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_capture_ftp_address);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label_capture_ftp_address, 0, 1, 0, 1,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label_capture_ftp_address), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label_capture_ftp_address), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label_capture_ftp_address), 2, 0);

  entry_capture_ftp_address = gtk_entry_new ();
  gtk_widget_ref (entry_capture_ftp_address);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "entry_capture_ftp_address", entry_capture_ftp_address,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_capture_ftp_address);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), entry_capture_ftp_address, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_usize (entry_capture_ftp_address, -2, 26);
  gtk_widget_set_sensitive (entry_capture_ftp_address, FALSE);

  label_capture_ftp_path = gtk_label_new (_("Path"));
  gtk_widget_ref (label_capture_ftp_path);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "label_capture_ftp_path", label_capture_ftp_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_capture_ftp_path);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label_capture_ftp_path, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label_capture_ftp_path), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label_capture_ftp_path), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label_capture_ftp_path), 2, 0);

  label_capture_ftp_user = gtk_label_new (_("Username"));
  gtk_widget_ref (label_capture_ftp_user);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "label_capture_ftp_user", label_capture_ftp_user,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_capture_ftp_user);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label_capture_ftp_user, 0, 1, 2, 3,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label_capture_ftp_user), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label_capture_ftp_user), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label_capture_ftp_user), 2, 0);

  label_capture_ftp_passwd = gtk_label_new (_("Password"));
  gtk_widget_ref (label_capture_ftp_passwd);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "label_capture_ftp_passwd", label_capture_ftp_passwd,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label_capture_ftp_passwd);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), label_capture_ftp_passwd, 0, 1, 3, 4,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label_capture_ftp_passwd), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_alignment (GTK_MISC (label_capture_ftp_passwd), 1, 0.5);
  gtk_misc_set_padding (GTK_MISC (label_capture_ftp_passwd), 2, 0);

  entry_capture_ftp_path = gtk_entry_new ();
  gtk_widget_ref (entry_capture_ftp_path);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "entry_capture_ftp_path", entry_capture_ftp_path,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_capture_ftp_path);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), entry_capture_ftp_path, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_usize (entry_capture_ftp_path, -2, 26);
  gtk_widget_set_sensitive (entry_capture_ftp_path, FALSE);

  entry_capture_ftp_user = gtk_entry_new ();
  gtk_widget_ref (entry_capture_ftp_user);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "entry_capture_ftp_user", entry_capture_ftp_user,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_capture_ftp_user);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), entry_capture_ftp_user, 1, 2, 2, 3,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_usize (entry_capture_ftp_user, -2, 26);
  gtk_widget_set_sensitive (entry_capture_ftp_user, FALSE);

  entry_capture_ftp_passwd = gtk_entry_new ();
  gtk_widget_ref (entry_capture_ftp_passwd);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "entry_capture_ftp_passwd", entry_capture_ftp_passwd,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (entry_capture_ftp_passwd);
  gtk_table_attach (GTK_TABLE (table_capture_ftp), entry_capture_ftp_passwd, 1, 2, 3, 4,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_widget_set_usize (entry_capture_ftp_passwd, -2, 26);
  gtk_widget_set_sensitive (entry_capture_ftp_passwd, FALSE);

  hbox_capture = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox_capture);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "hbox_capture", hbox_capture,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox_capture);
  gtk_box_pack_start (GTK_BOX (vbox_capture), hbox_capture, TRUE, TRUE, 0);

  capture_start = gtk_button_new_with_label (_("START"));
  gtk_widget_ref (capture_start);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capture_start", capture_start,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capture_start);
  gtk_box_pack_start (GTK_BOX (hbox_capture), capture_start, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capture_start), 2);
  gtk_widget_set_sensitive (capture_start, FALSE);

  capture_stop = gtk_button_new_with_label (_("STOP"));
  gtk_widget_ref (capture_stop);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capture_stop", capture_stop,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capture_stop);
  gtk_box_pack_start (GTK_BOX (hbox_capture), capture_stop, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capture_stop), 2);
  gtk_widget_set_sensitive (capture_stop, FALSE);

  capture_single = gtk_button_new_with_label (_("SINGLE"));
  gtk_widget_ref (capture_single);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "capture_single", capture_single,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capture_single);
  gtk_box_pack_start (GTK_BOX (hbox_capture), capture_single, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capture_single), 2);
  gtk_widget_set_sensitive (capture_single, FALSE);

  iso_frame = gtk_frame_new (_("Isochronous Control"));
  gtk_widget_ref (iso_frame);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "iso_frame", iso_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_frame);
  gtk_box_pack_start (GTK_BOX (vbox29), iso_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_frame), 5);
  gtk_widget_set_sensitive (iso_frame, FALSE);

  hbox33 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox33);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "hbox33", hbox33,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox33);
  gtk_container_add (GTK_CONTAINER (iso_frame), hbox33);

  iso_start = gtk_button_new_with_label (_("START"));
  gtk_widget_ref (iso_start);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "iso_start", iso_start,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_start);
  gtk_box_pack_start (GTK_BOX (hbox33), iso_start, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_start), 2);
  gtk_widget_set_sensitive (iso_start, FALSE);

  iso_stop = gtk_button_new_with_label (_("STOP"));
  gtk_widget_ref (iso_stop);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "iso_stop", iso_stop,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_stop);
  gtk_box_pack_start (GTK_BOX (hbox33), iso_stop, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_stop), 2);
  gtk_widget_set_sensitive (iso_stop, FALSE);

  iso_restart = gtk_button_new_with_label (_("RESTART"));
  gtk_widget_ref (iso_restart);
  gtk_object_set_data_full (GTK_OBJECT (capture_window), "iso_restart", iso_restart,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (iso_restart);
  gtk_box_pack_start (GTK_BOX (hbox33), iso_restart, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (iso_restart), 2);
  gtk_widget_set_sensitive (iso_restart, FALSE);

  gtk_signal_connect (GTK_OBJECT (capture_window), "delete_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capture_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capture_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capqual_man), "toggled",
                      GTK_SIGNAL_FUNC (on_capqual_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capqual_op), "clicked",
                      GTK_SIGNAL_FUNC (on_capqual_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capqual_power), "toggled",
                      GTK_SIGNAL_FUNC (on_capqual_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capsize_man), "toggled",
                      GTK_SIGNAL_FUNC (on_capsize_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capsize_op), "clicked",
                      GTK_SIGNAL_FUNC (on_capsize_op_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capsize_power), "toggled",
                      GTK_SIGNAL_FUNC (on_capsize_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radiobutton_capture_freq_immediate), "clicked",
                      GTK_SIGNAL_FUNC (on_radiobutton_capture_freq_immediate_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radiobutton_capture_freq_periodioc), "clicked",
                      GTK_SIGNAL_FUNC (on_radiobutton_capture_freq_periodioc_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radiobutton_capture_mode_seq), "clicked",
                      GTK_SIGNAL_FUNC (on_radiobutton_capture_mode_seq_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (radiobutton_capture_mode_over), "clicked",
                      GTK_SIGNAL_FUNC (on_radiobutton_capture_mode_over_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (checkbutton_capture_ftp), "toggled",
                      GTK_SIGNAL_FUNC (on_checkbutton_capture_ftp_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capture_start), "clicked",
                      GTK_SIGNAL_FUNC (on_capture_start_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capture_stop), "clicked",
                      GTK_SIGNAL_FUNC (on_capture_stop_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capture_single), "clicked",
                      GTK_SIGNAL_FUNC (on_capture_single_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iso_start), "clicked",
                      GTK_SIGNAL_FUNC (on_iso_start_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iso_stop), "clicked",
                      GTK_SIGNAL_FUNC (on_iso_stop_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (iso_restart), "clicked",
                      GTK_SIGNAL_FUNC (on_iso_restart_clicked),
                      NULL);

  return capture_window;
}

GtkWidget*
create_temp_window (void)
{
  GtkWidget *temp_window;
  GtkWidget *temp_frame;
  GtkWidget *hbox27;
  GtkWidget *vbox30;
  GtkWidget *temp_power;
  GSList *temp_group = NULL;
  GtkWidget *temp_man;
  GtkWidget *temp_auto;
  GtkWidget *temp_op;
  GtkWidget *vbox31;
  GtkWidget *temp_current_scale;
  GtkWidget *temp_goal_scale;

  temp_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (temp_window), "temp_window", temp_window);
  gtk_widget_set_usize (temp_window, 350, -2);
  gtk_window_set_title (GTK_WINDOW (temp_window), _("Temperature Monitor"));
  gtk_window_set_default_size (GTK_WINDOW (temp_window), 350, -1);
  gtk_window_set_policy (GTK_WINDOW (temp_window), FALSE, FALSE, FALSE);

  temp_frame = gtk_frame_new (_("Temperature"));
  gtk_widget_ref (temp_frame);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "temp_frame", temp_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temp_frame);
  gtk_container_add (GTK_CONTAINER (temp_window), temp_frame);
  gtk_container_set_border_width (GTK_CONTAINER (temp_frame), 5);
  gtk_widget_set_sensitive (temp_frame, FALSE);

  hbox27 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox27);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "hbox27", hbox27,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox27);
  gtk_container_add (GTK_CONTAINER (temp_frame), hbox27);

  vbox30 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox30);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "vbox30", vbox30,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox30);
  gtk_box_pack_start (GTK_BOX (hbox27), vbox30, FALSE, FALSE, 0);

  temp_power = gtk_toggle_button_new_with_label (_("ON"));
  gtk_widget_ref (temp_power);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "temp_power", temp_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temp_power);
  gtk_box_pack_start (GTK_BOX (vbox30), temp_power, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (temp_power), 2);
  gtk_widget_set_sensitive (temp_power, FALSE);

  temp_man = gtk_radio_button_new_with_label (temp_group, _("Man"));
  temp_group = gtk_radio_button_group (GTK_RADIO_BUTTON (temp_man));
  gtk_widget_ref (temp_man);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "temp_man", temp_man,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temp_man);
  gtk_box_pack_start (GTK_BOX (vbox30), temp_man, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (temp_man, FALSE);
  gtk_toggle_button_set_active (GTK_TOGGLE_BUTTON (temp_man), TRUE);

  temp_auto = gtk_radio_button_new_with_label (temp_group, _("Auto"));
  temp_group = gtk_radio_button_group (GTK_RADIO_BUTTON (temp_auto));
  gtk_widget_ref (temp_auto);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "temp_auto", temp_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temp_auto);
  gtk_box_pack_start (GTK_BOX (vbox30), temp_auto, FALSE, FALSE, 0);
  gtk_widget_set_sensitive (temp_auto, FALSE);

  temp_op = gtk_button_new_with_label (_("AUTO"));
  gtk_widget_ref (temp_op);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "temp_op", temp_op,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temp_op);
  gtk_box_pack_start (GTK_BOX (vbox30), temp_op, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (temp_op), 2);
  gtk_widget_set_sensitive (temp_op, FALSE);

  vbox31 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox31);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "vbox31", vbox31,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox31);
  gtk_box_pack_start (GTK_BOX (hbox27), vbox31, TRUE, TRUE, 0);

  temp_current_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (temp_current_scale);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "temp_current_scale", temp_current_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temp_current_scale);
  gtk_box_pack_start (GTK_BOX (vbox31), temp_current_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (temp_current_scale, FALSE);

  temp_goal_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 255, 1, 10, 0)));
  gtk_widget_ref (temp_goal_scale);
  gtk_object_set_data_full (GTK_OBJECT (temp_window), "temp_goal_scale", temp_goal_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (temp_goal_scale);
  gtk_box_pack_start (GTK_BOX (vbox31), temp_goal_scale, TRUE, TRUE, 0);
  gtk_widget_set_sensitive (temp_goal_scale, FALSE);

  gtk_signal_connect (GTK_OBJECT (temp_window), "delete_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (temp_window), "destroy_event",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (temp_window), "destroy",
                      GTK_SIGNAL_FUNC (gtk_widget_hide),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (temp_power), "toggled",
                      GTK_SIGNAL_FUNC (on_temp_power_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (temp_man), "toggled",
                      GTK_SIGNAL_FUNC (on_temp_man_toggled),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (temp_op), "clicked",
                      GTK_SIGNAL_FUNC (on_temp_op_clicked),
                      NULL);

  return temp_window;
}

GtkWidget*
create_about_window (void)
{
  const gchar *authors[] = {
    "Damien Douxchamps <douxchamps@ieee.org>",
    "Dan Dennedy <dan@dennedy.org>",
    "Marcus Lim <marcuzlim@yahoo.com>",
    "Andreas Micklei <andreas.micklei@ivistar.de>",
    "(see the AUTHORS file for details)",
    NULL
  };
  GtkWidget *about_window;

  about_window = gnome_about_new ("Coriander", VERSION,
                        _("Copyright 2000-2001 Damien Douxchamps"),
                        authors,
                        _("The Gnome IEEE1394 Digital Camera Controller.\nWebsite: http://sourceforge.net/projects/coriander"),
                        "coriander/coriander_big.xpm");
  gtk_object_set_data (GTK_OBJECT (about_window), "about_window", about_window);
  gtk_window_set_modal (GTK_WINDOW (about_window), TRUE);

  return about_window;
}

GtkWidget*
create_format7_window (void)
{
  GtkWidget *format7_window;
  GtkWidget *hbox30;
  GtkWidget *vbox34;
  GtkWidget *format7_mode_frame;
  GtkWidget *table19;
  GtkWidget *format7_mode;
  GtkWidget *format7_mode_menu;
  GtkWidget *glade_menuitem;
  GtkWidget *label13;
  GtkWidget *format7_color;
  GtkWidget *format7_color_menu;
  GtkWidget *vbox36;
  GtkWidget *format7_packet_frame;
  GtkObject *format7_packet_size_adj;
  GtkWidget *format7_packet_size;
  GtkWidget *format7_frame_info_frame;
  GtkWidget *table15;
  GtkWidget *label14;
  GtkWidget *label15;
  GtkWidget *format7_byteperframe;
  GtkWidget *format7_pixperframe;
  GtkWidget *format7_horizontal_frame;
  GtkWidget *vbox35;
  GtkWidget *format7_hsize_scale;
  GtkWidget *format7_hposition_scale;
  GtkWidget *format7_vertical_frame;
  GtkWidget *hbox31;
  GtkWidget *format7_vsize_scale;
  GtkWidget *format7_vposition_scale;

  format7_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (format7_window), "format7_window", format7_window);
  gtk_window_set_title (GTK_WINDOW (format7_window), _("Format_7 Editor"));
  gtk_window_set_policy (GTK_WINDOW (format7_window), FALSE, FALSE, FALSE);

  hbox30 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox30);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "hbox30", hbox30,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox30);
  gtk_container_add (GTK_CONTAINER (format7_window), hbox30);

  vbox34 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox34);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "vbox34", vbox34,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox34);
  gtk_box_pack_start (GTK_BOX (hbox30), vbox34, TRUE, TRUE, 0);

  format7_mode_frame = gtk_frame_new (_("Current mode"));
  gtk_widget_ref (format7_mode_frame);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_mode_frame", format7_mode_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_mode_frame);
  gtk_box_pack_start (GTK_BOX (vbox34), format7_mode_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_mode_frame), 5);

  table19 = gtk_table_new (1, 3, FALSE);
  gtk_widget_ref (table19);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "table19", table19,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table19);
  gtk_container_add (GTK_CONTAINER (format7_mode_frame), table19);

  format7_mode = gtk_option_menu_new ();
  gtk_widget_ref (format7_mode);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_mode", format7_mode,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_mode);
  gtk_table_attach (GTK_TABLE (table19), format7_mode, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_mode), 1);
  format7_mode_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("Mode: N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (format7_mode_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (format7_mode), format7_mode_menu);

  label13 = gtk_label_new (_("Coding:"));
  gtk_widget_ref (label13);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "label13", label13,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label13);
  gtk_table_attach (GTK_TABLE (table19), label13, 1, 2, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_label_set_justify (GTK_LABEL (label13), GTK_JUSTIFY_RIGHT);
  gtk_misc_set_padding (GTK_MISC (label13), 6, 0);

  format7_color = gtk_option_menu_new ();
  gtk_widget_ref (format7_color);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_color", format7_color,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_color);
  gtk_table_attach (GTK_TABLE (table19), format7_color, 2, 3, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_color), 1);
  format7_color_menu = gtk_menu_new ();
  glade_menuitem = gtk_menu_item_new_with_label (_("Color: N/A"));
  gtk_widget_show (glade_menuitem);
  gtk_menu_append (GTK_MENU (format7_color_menu), glade_menuitem);
  gtk_option_menu_set_menu (GTK_OPTION_MENU (format7_color), format7_color_menu);

  vbox36 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox36);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "vbox36", vbox36,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox36);
  gtk_box_pack_start (GTK_BOX (vbox34), vbox36, TRUE, TRUE, 0);

  format7_packet_frame = gtk_frame_new (_("Packet size"));
  gtk_widget_ref (format7_packet_frame);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_packet_frame", format7_packet_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_packet_frame);
  gtk_box_pack_start (GTK_BOX (vbox36), format7_packet_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_packet_frame), 5);

  format7_packet_size_adj = gtk_adjustment_new (0, 0, 100, 1, 10, 10);
  format7_packet_size = gtk_spin_button_new (GTK_ADJUSTMENT (format7_packet_size_adj), 1, 0);
  gtk_widget_ref (format7_packet_size);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_packet_size", format7_packet_size,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_packet_size);
  gtk_container_add (GTK_CONTAINER (format7_packet_frame), format7_packet_size);
  gtk_spin_button_set_numeric (GTK_SPIN_BUTTON (format7_packet_size), TRUE);
  gtk_spin_button_set_update_policy (GTK_SPIN_BUTTON (format7_packet_size), GTK_UPDATE_IF_VALID);

  format7_frame_info_frame = gtk_frame_new (_("Frame info"));
  gtk_widget_ref (format7_frame_info_frame);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_frame_info_frame", format7_frame_info_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_frame_info_frame);
  gtk_box_pack_start (GTK_BOX (vbox36), format7_frame_info_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_frame_info_frame), 5);

  table15 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table15);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "table15", table15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table15);
  gtk_container_add (GTK_CONTAINER (format7_frame_info_frame), table15);

  label14 = gtk_label_new (_("Pixels per frame :  "));
  gtk_widget_ref (label14);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "label14", label14,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label14);
  gtk_table_attach (GTK_TABLE (table15), label14, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label14), 2, 2);

  label15 = gtk_label_new (_("Bytes per frame :  "));
  gtk_widget_ref (label15);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "label15", label15,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label15);
  gtk_table_attach (GTK_TABLE (table15), label15, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label15), 2, 2);

  format7_byteperframe = gtk_statusbar_new ();
  gtk_widget_ref (format7_byteperframe);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_byteperframe", format7_byteperframe,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_byteperframe);
  gtk_table_attach (GTK_TABLE (table15), format7_byteperframe, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (GTK_FILL), 2, 2);

  format7_pixperframe = gtk_statusbar_new ();
  gtk_widget_ref (format7_pixperframe);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_pixperframe", format7_pixperframe,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_pixperframe);
  gtk_table_attach (GTK_TABLE (table15), format7_pixperframe, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL), 2, 2);

  format7_horizontal_frame = gtk_frame_new (_("Horizontal setup"));
  gtk_widget_ref (format7_horizontal_frame);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_horizontal_frame", format7_horizontal_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_horizontal_frame);
  gtk_box_pack_start (GTK_BOX (vbox34), format7_horizontal_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_horizontal_frame), 5);

  vbox35 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox35);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "vbox35", vbox35,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox35);
  gtk_container_add (GTK_CONTAINER (format7_horizontal_frame), vbox35);

  format7_hsize_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 1, 255, 10, 0, 0)));
  gtk_widget_ref (format7_hsize_scale);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_hsize_scale", format7_hsize_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_hsize_scale);
  gtk_box_pack_start (GTK_BOX (vbox35), format7_hsize_scale, TRUE, TRUE, 0);
  gtk_scale_set_digits (GTK_SCALE (format7_hsize_scale), 0);

  format7_hposition_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 1, 255, 10, 0, 0)));
  gtk_widget_ref (format7_hposition_scale);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_hposition_scale", format7_hposition_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_hposition_scale);
  gtk_box_pack_start (GTK_BOX (vbox35), format7_hposition_scale, TRUE, TRUE, 0);
  gtk_scale_set_digits (GTK_SCALE (format7_hposition_scale), 0);

  format7_vertical_frame = gtk_frame_new (_("Vertical setup"));
  gtk_widget_ref (format7_vertical_frame);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_vertical_frame", format7_vertical_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_vertical_frame);
  gtk_box_pack_start (GTK_BOX (hbox30), format7_vertical_frame, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (format7_vertical_frame), 5);

  hbox31 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox31);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "hbox31", hbox31,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox31);
  gtk_container_add (GTK_CONTAINER (format7_vertical_frame), hbox31);

  format7_vsize_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 1, 255, 10, 0, 0)));
  gtk_widget_ref (format7_vsize_scale);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_vsize_scale", format7_vsize_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_vsize_scale);
  gtk_box_pack_start (GTK_BOX (hbox31), format7_vsize_scale, TRUE, FALSE, 0);
  gtk_scale_set_value_pos (GTK_SCALE (format7_vsize_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (format7_vsize_scale), 0);

  format7_vposition_scale = gtk_vscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (1, 1, 255, 10, 0, 0)));
  gtk_widget_ref (format7_vposition_scale);
  gtk_object_set_data_full (GTK_OBJECT (format7_window), "format7_vposition_scale", format7_vposition_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (format7_vposition_scale);
  gtk_box_pack_start (GTK_BOX (hbox31), format7_vposition_scale, FALSE, FALSE, 0);
  gtk_scale_set_value_pos (GTK_SCALE (format7_vposition_scale), GTK_POS_LEFT);
  gtk_scale_set_digits (GTK_SCALE (format7_vposition_scale), 0);

  return format7_window;
}

GtkWidget*
create_no_handle_window (void)
{
  GtkWidget *no_handle_window;
  GtkWidget *dialog_vbox2;
  GtkWidget *button1;
  GtkWidget *dialog_action_area2;

  /* We create it with an OK button, and then remove the button, to work
     around a bug in gnome-libs. */
  no_handle_window = gnome_message_box_new (_("Warning: could not get a handle to your IEEE1394 card.\n\nPlease check that:\n- the card is present\n- the IEEE1394 modules are loaded\n- you have read/write permissions on the raw1394 and video1394 devices."),
                              GNOME_MESSAGE_BOX_WARNING,
                              GNOME_STOCK_BUTTON_OK, NULL);
  gtk_container_remove (GTK_CONTAINER (GNOME_DIALOG (no_handle_window)->action_area), GNOME_DIALOG (no_handle_window)->buttons->data);
  GNOME_DIALOG (no_handle_window)->buttons = NULL;
  gtk_object_set_data (GTK_OBJECT (no_handle_window), "no_handle_window", no_handle_window);
  gtk_window_set_title (GTK_WINDOW (no_handle_window), _("Coriander Warning"));
  gtk_window_set_policy (GTK_WINDOW (no_handle_window), FALSE, FALSE, FALSE);

  dialog_vbox2 = GNOME_DIALOG (no_handle_window)->vbox;
  gtk_object_set_data (GTK_OBJECT (no_handle_window), "dialog_vbox2", dialog_vbox2);
  gtk_widget_show (dialog_vbox2);

  gnome_dialog_append_button_with_pixmap (GNOME_DIALOG (no_handle_window),
                                          _("QUIT"), GNOME_STOCK_PIXMAP_EXIT);
  button1 = GTK_WIDGET (g_list_last (GNOME_DIALOG (no_handle_window)->buttons)->data);
  gtk_widget_ref (button1);
  gtk_object_set_data_full (GTK_OBJECT (no_handle_window), "button1", button1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button1);
  GTK_WIDGET_SET_FLAGS (button1, GTK_CAN_DEFAULT);

  dialog_action_area2 = GNOME_DIALOG (no_handle_window)->action_area;
  gtk_widget_ref (dialog_action_area2);
  gtk_object_set_data_full (GTK_OBJECT (no_handle_window), "dialog_action_area2", dialog_action_area2,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_signal_connect (GTK_OBJECT (button1), "clicked",
                      GTK_SIGNAL_FUNC (gtk_main_quit),
                      NULL);

  return no_handle_window;
}

GtkWidget*
create_no_camera_window (void)
{
  GtkWidget *no_camera_window;
  GtkWidget *dialog_vbox3;
  GtkWidget *button3;
  GtkWidget *dialog_action_area3;

  /* We create it with an OK button, and then remove the button, to work
     around a bug in gnome-libs. */
  no_camera_window = gnome_message_box_new (_("Warning: could not find a Digital Camera on the bus.\n\nPlease check that:\n- the cables are properly set\n- the bus and/or camera are powered\n- the repeaters/hubs are powered\n- your camera is compliant with the Digital Camera specs v1.20 or later (see http://www.1394ta.org).\n\nNOTICE:\nAll consumer grade cameras in which you can insert a video tape are NOT compliant with the above-\nmentionned specifications and therefor cannot be controlled with Coriander. (These cameras can be\ncontrolled with the AV/C protocol, please refer to http://linux1394.sourceforge.net)"),
                              GNOME_MESSAGE_BOX_WARNING,
                              GNOME_STOCK_BUTTON_OK, NULL);
  gtk_container_remove (GTK_CONTAINER (GNOME_DIALOG (no_camera_window)->action_area), GNOME_DIALOG (no_camera_window)->buttons->data);
  GNOME_DIALOG (no_camera_window)->buttons = NULL;
  gtk_object_set_data (GTK_OBJECT (no_camera_window), "no_camera_window", no_camera_window);
  gtk_window_set_title (GTK_WINDOW (no_camera_window), _("Coriander Warning"));
  gtk_window_set_policy (GTK_WINDOW (no_camera_window), FALSE, FALSE, FALSE);

  dialog_vbox3 = GNOME_DIALOG (no_camera_window)->vbox;
  gtk_object_set_data (GTK_OBJECT (no_camera_window), "dialog_vbox3", dialog_vbox3);
  gtk_widget_show (dialog_vbox3);

  gnome_dialog_append_button_with_pixmap (GNOME_DIALOG (no_camera_window),
                                          _("QUIT"), GNOME_STOCK_PIXMAP_EXIT);
  button3 = GTK_WIDGET (g_list_last (GNOME_DIALOG (no_camera_window)->buttons)->data);
  gtk_widget_ref (button3);
  gtk_object_set_data_full (GTK_OBJECT (no_camera_window), "button3", button3,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (button3);
  GTK_WIDGET_SET_FLAGS (button3, GTK_CAN_DEFAULT);

  dialog_action_area3 = GNOME_DIALOG (no_camera_window)->action_area;
  gtk_widget_ref (dialog_action_area3);
  gtk_object_set_data_full (GTK_OBJECT (no_camera_window), "dialog_action_area3", dialog_action_area3,
                            (GtkDestroyNotify) gtk_widget_unref);

  gtk_signal_connect (GTK_OBJECT (button3), "clicked",
                      GTK_SIGNAL_FUNC (gtk_main_quit),
                      NULL);

  return no_camera_window;
}

GtkWidget*
create_format6_window (void)
{
  GtkWidget *format6_window;
  GtkWidget *vbox44;
  GtkWidget *media_frame;
  GtkWidget *table21;
  GtkWidget *label27;
  GtkWidget *label26;
  GtkWidget *pic_num_progress;
  GtkWidget *progressbar1;
  GtkWidget *hbox40;
  GtkWidget *select_frame;
  GtkWidget *table20;
  GtkObject *spinbutton1_adj;
  GtkWidget *spinbutton1;
  GtkObject *spinbutton2_adj;
  GtkWidget *spinbutton2;
  GtkWidget *label21;
  GtkWidget *togglebutton1;
  GtkWidget *actions_frame;
  GtkWidget *vbox45;
  GtkWidget *load_button;
  GtkWidget *save_button;
  GtkWidget *delete_button;

  format6_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (format6_window), "format6_window", format6_window);
  gtk_window_set_title (GTK_WINDOW (format6_window), _("Format_6 Controls"));

  vbox44 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox44);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "vbox44", vbox44,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox44);
  gtk_container_add (GTK_CONTAINER (format6_window), vbox44);

  media_frame = gtk_frame_new (_("Media Status"));
  gtk_widget_ref (media_frame);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "media_frame", media_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (media_frame);
  gtk_box_pack_start (GTK_BOX (vbox44), media_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (media_frame), 5);

  table21 = gtk_table_new (3, 2, FALSE);
  gtk_widget_ref (table21);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "table21", table21,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table21);
  gtk_container_add (GTK_CONTAINER (media_frame), table21);

  label27 = gtk_label_new (_("Current fill status:"));
  gtk_widget_ref (label27);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "label27", label27,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label27);
  gtk_table_attach (GTK_TABLE (table21), label27, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label27), 2, 2);

  label26 = gtk_label_new (_("Expected remain: "));
  gtk_widget_ref (label26);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "label26", label26,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label26);
  gtk_table_attach (GTK_TABLE (table21), label26, 0, 1, 1, 2,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label26), 2, 2);

  pic_num_progress = gtk_progress_bar_new ();
  gtk_widget_ref (pic_num_progress);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "pic_num_progress", pic_num_progress,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pic_num_progress);
  gtk_table_attach (GTK_TABLE (table21), pic_num_progress, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 2, 2);
  gtk_progress_set_format_string (GTK_PROGRESS (pic_num_progress), _("%P %%: %V/%U"));

  progressbar1 = gtk_progress_bar_new ();
  gtk_widget_ref (progressbar1);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "progressbar1", progressbar1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (progressbar1);
  gtk_table_attach (GTK_TABLE (table21), progressbar1, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 2, 2);

  hbox40 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox40);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "hbox40", hbox40,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox40);
  gtk_box_pack_start (GTK_BOX (vbox44), hbox40, FALSE, FALSE, 0);

  select_frame = gtk_frame_new (_("Picture select"));
  gtk_widget_ref (select_frame);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "select_frame", select_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (select_frame);
  gtk_box_pack_start (GTK_BOX (hbox40), select_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (select_frame), 5);

  table20 = gtk_table_new (2, 2, FALSE);
  gtk_widget_ref (table20);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "table20", table20,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (table20);
  gtk_container_add (GTK_CONTAINER (select_frame), table20);

  spinbutton1_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
  spinbutton1 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton1_adj), 1, 0);
  gtk_widget_ref (spinbutton1);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "spinbutton1", spinbutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton1);
  gtk_table_attach (GTK_TABLE (table20), spinbutton1, 1, 2, 0, 1,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  spinbutton2_adj = gtk_adjustment_new (1, 0, 100, 1, 10, 10);
  spinbutton2 = gtk_spin_button_new (GTK_ADJUSTMENT (spinbutton2_adj), 1, 0);
  gtk_widget_ref (spinbutton2);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "spinbutton2", spinbutton2,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (spinbutton2);
  gtk_table_attach (GTK_TABLE (table20), spinbutton2, 1, 2, 1, 2,
                    (GtkAttachOptions) (GTK_EXPAND | GTK_FILL),
                    (GtkAttachOptions) (0), 0, 0);

  label21 = gtk_label_new (_("Current:"));
  gtk_widget_ref (label21);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "label21", label21,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label21);
  gtk_table_attach (GTK_TABLE (table20), label21, 0, 1, 0, 1,
                    (GtkAttachOptions) (0),
                    (GtkAttachOptions) (0), 0, 0);
  gtk_misc_set_padding (GTK_MISC (label21), 2, 2);

  togglebutton1 = gtk_toggle_button_new_with_label (_("Thru:"));
  gtk_widget_ref (togglebutton1);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "togglebutton1", togglebutton1,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (togglebutton1);
  gtk_table_attach (GTK_TABLE (table20), togglebutton1, 0, 1, 1, 2,
                    (GtkAttachOptions) (GTK_FILL),
                    (GtkAttachOptions) (0), 2, 2);

  actions_frame = gtk_frame_new (_("Actions"));
  gtk_widget_ref (actions_frame);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "actions_frame", actions_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (actions_frame);
  gtk_box_pack_start (GTK_BOX (hbox40), actions_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (actions_frame), 5);

  vbox45 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox45);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "vbox45", vbox45,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox45);
  gtk_container_add (GTK_CONTAINER (actions_frame), vbox45);

  load_button = gtk_button_new_with_label (_("Load"));
  gtk_widget_ref (load_button);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "load_button", load_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (load_button);
  gtk_box_pack_start (GTK_BOX (vbox45), load_button, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (load_button), 2);

  save_button = gtk_button_new_with_label (_("Save"));
  gtk_widget_ref (save_button);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "save_button", save_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (save_button);
  gtk_box_pack_start (GTK_BOX (vbox45), save_button, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (save_button), 2);

  delete_button = gtk_button_new_with_label (_("Delete"));
  gtk_widget_ref (delete_button);
  gtk_object_set_data_full (GTK_OBJECT (format6_window), "delete_button", delete_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (delete_button);
  gtk_box_pack_start (GTK_BOX (vbox45), delete_button, FALSE, FALSE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (delete_button), 2);

  return format6_window;
}

GtkWidget*
create_preferences_window (void)
{
  GtkWidget *preferences_window;
  GtkWidget *pref_notebook;
  GtkWidget *vbox46;
  GtkWidget *timeout_frame;
  GtkWidget *hbox45;
  GtkWidget *timout_scale;
  GtkWidget *update_rate_frame;
  GtkWidget *hbox44;
  GtkWidget *update_power;
  GtkWidget *update_rate_scale;
  GtkWidget *label24;
  GtkWidget *vbox47;
  GtkWidget *hbox43;
  GtkWidget *capture_method_frame;
  GtkWidget *vbox48;
  GSList *cap_method_group = NULL;
  GtkWidget *method_raw1394;
  GtkWidget *method_video1394;
  GtkWidget *method_auto;
  GtkWidget *display_method_frame;
  GtkWidget *vbox49;
  GSList *disp_method_group = NULL;
  GtkWidget *gdk_button;
  GtkWidget *xv_button;
  GtkWidget *AUTO;
  GtkWidget *label25;

  preferences_window = gtk_window_new (GTK_WINDOW_TOPLEVEL);
  gtk_object_set_data (GTK_OBJECT (preferences_window), "preferences_window", preferences_window);
  gtk_widget_set_usize (preferences_window, 350, 250);
  gtk_window_set_title (GTK_WINDOW (preferences_window), _("Preferences"));

  pref_notebook = gtk_notebook_new ();
  gtk_widget_ref (pref_notebook);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "pref_notebook", pref_notebook,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (pref_notebook);
  gtk_container_add (GTK_CONTAINER (preferences_window), pref_notebook);

  vbox46 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox46);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "vbox46", vbox46,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox46);
  gtk_container_add (GTK_CONTAINER (pref_notebook), vbox46);

  timeout_frame = gtk_frame_new (_("Timeout for One-Push Auto [s]"));
  gtk_widget_ref (timeout_frame);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "timeout_frame", timeout_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (timeout_frame);
  gtk_box_pack_start (GTK_BOX (vbox46), timeout_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (timeout_frame), 5);

  hbox45 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox45);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "hbox45", hbox45,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox45);
  gtk_container_add (GTK_CONTAINER (timeout_frame), hbox45);
  gtk_container_set_border_width (GTK_CONTAINER (hbox45), 2);

  timout_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 100, 0.1, 5, 0)));
  gtk_widget_ref (timout_scale);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "timout_scale", timout_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (timout_scale);
  gtk_box_pack_start (GTK_BOX (hbox45), timout_scale, TRUE, TRUE, 0);
  gtk_range_set_update_policy (GTK_RANGE (timout_scale), GTK_UPDATE_DELAYED);

  update_rate_frame = gtk_frame_new (_("Update rate [Hz]"));
  gtk_widget_ref (update_rate_frame);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "update_rate_frame", update_rate_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (update_rate_frame);
  gtk_box_pack_start (GTK_BOX (vbox46), update_rate_frame, FALSE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (update_rate_frame), 5);

  hbox44 = gtk_hbox_new (FALSE, 0);
  gtk_widget_ref (hbox44);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "hbox44", hbox44,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox44);
  gtk_container_add (GTK_CONTAINER (update_rate_frame), hbox44);
  gtk_container_set_border_width (GTK_CONTAINER (hbox44), 2);

  update_power = gtk_check_button_new_with_label (_("Update"));
  gtk_widget_ref (update_power);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "update_power", update_power,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (update_power);
  gtk_box_pack_start (GTK_BOX (hbox44), update_power, FALSE, FALSE, 0);

  update_rate_scale = gtk_hscale_new (GTK_ADJUSTMENT (gtk_adjustment_new (0, 0, 10, 0.1, 1, 0)));
  gtk_widget_ref (update_rate_scale);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "update_rate_scale", update_rate_scale,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (update_rate_scale);
  gtk_box_pack_start (GTK_BOX (hbox44), update_rate_scale, TRUE, TRUE, 0);
  gtk_range_set_update_policy (GTK_RANGE (update_rate_scale), GTK_UPDATE_DELAYED);

  label24 = gtk_label_new (_("General"));
  gtk_widget_ref (label24);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "label24", label24,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label24);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (pref_notebook), gtk_notebook_get_nth_page (GTK_NOTEBOOK (pref_notebook), 0), label24);

  vbox47 = gtk_vbox_new (FALSE, 0);
  gtk_widget_ref (vbox47);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "vbox47", vbox47,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox47);
  gtk_container_add (GTK_CONTAINER (pref_notebook), vbox47);

  hbox43 = gtk_hbox_new (TRUE, 0);
  gtk_widget_ref (hbox43);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "hbox43", hbox43,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (hbox43);
  gtk_box_pack_start (GTK_BOX (vbox47), hbox43, FALSE, TRUE, 0);

  capture_method_frame = gtk_frame_new (_("Capture method:"));
  gtk_widget_ref (capture_method_frame);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "capture_method_frame", capture_method_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (capture_method_frame);
  gtk_box_pack_start (GTK_BOX (hbox43), capture_method_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (capture_method_frame), 5);

  vbox48 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox48);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "vbox48", vbox48,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox48);
  gtk_container_add (GTK_CONTAINER (capture_method_frame), vbox48);

  method_raw1394 = gtk_radio_button_new_with_label (cap_method_group, _("raw1394"));
  cap_method_group = gtk_radio_button_group (GTK_RADIO_BUTTON (method_raw1394));
  gtk_widget_ref (method_raw1394);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "method_raw1394", method_raw1394,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (method_raw1394);
  gtk_box_pack_start (GTK_BOX (vbox48), method_raw1394, FALSE, FALSE, 0);

  method_video1394 = gtk_radio_button_new_with_label (cap_method_group, _("video1394 (DMA)"));
  cap_method_group = gtk_radio_button_group (GTK_RADIO_BUTTON (method_video1394));
  gtk_widget_ref (method_video1394);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "method_video1394", method_video1394,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (method_video1394);
  gtk_box_pack_start (GTK_BOX (vbox48), method_video1394, FALSE, FALSE, 0);

  method_auto = gtk_radio_button_new_with_label (cap_method_group, _("AUTO"));
  cap_method_group = gtk_radio_button_group (GTK_RADIO_BUTTON (method_auto));
  gtk_widget_ref (method_auto);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "method_auto", method_auto,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (method_auto);
  gtk_box_pack_start (GTK_BOX (vbox48), method_auto, FALSE, FALSE, 0);

  display_method_frame = gtk_frame_new (_("Display method:"));
  gtk_widget_ref (display_method_frame);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "display_method_frame", display_method_frame,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (display_method_frame);
  gtk_box_pack_start (GTK_BOX (hbox43), display_method_frame, TRUE, TRUE, 0);
  gtk_container_set_border_width (GTK_CONTAINER (display_method_frame), 5);

  vbox49 = gtk_vbox_new (TRUE, 0);
  gtk_widget_ref (vbox49);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "vbox49", vbox49,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (vbox49);
  gtk_container_add (GTK_CONTAINER (display_method_frame), vbox49);

  gdk_button = gtk_radio_button_new_with_label (disp_method_group, _("GDK"));
  disp_method_group = gtk_radio_button_group (GTK_RADIO_BUTTON (gdk_button));
  gtk_widget_ref (gdk_button);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "gdk_button", gdk_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (gdk_button);
  gtk_box_pack_start (GTK_BOX (vbox49), gdk_button, FALSE, FALSE, 0);

  xv_button = gtk_radio_button_new_with_label (disp_method_group, _("Xv"));
  disp_method_group = gtk_radio_button_group (GTK_RADIO_BUTTON (xv_button));
  gtk_widget_ref (xv_button);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "xv_button", xv_button,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (xv_button);
  gtk_box_pack_start (GTK_BOX (vbox49), xv_button, FALSE, FALSE, 0);

  AUTO = gtk_radio_button_new_with_label (disp_method_group, _("AUTO"));
  disp_method_group = gtk_radio_button_group (GTK_RADIO_BUTTON (AUTO));
  gtk_widget_ref (AUTO);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "AUTO", AUTO,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (AUTO);
  gtk_box_pack_start (GTK_BOX (vbox49), AUTO, FALSE, FALSE, 0);

  label25 = gtk_label_new (_("Overlay"));
  gtk_widget_ref (label25);
  gtk_object_set_data_full (GTK_OBJECT (preferences_window), "label25", label25,
                            (GtkDestroyNotify) gtk_widget_unref);
  gtk_widget_show (label25);
  gtk_notebook_set_tab_label (GTK_NOTEBOOK (pref_notebook), gtk_notebook_get_nth_page (GTK_NOTEBOOK (pref_notebook), 1), label25);

  return preferences_window;
}

GtkWidget*
create_save_single_dialog (void)
{
  GtkWidget *save_single_dialog;
  GtkWidget *save_single_dialog_ok_button;
  GtkWidget *save_single_dialog_cancel_button;

  save_single_dialog = gtk_file_selection_new (_("Save Single Frame"));
  gtk_object_set_data (GTK_OBJECT (save_single_dialog), "save_single_dialog", save_single_dialog);
  gtk_container_set_border_width (GTK_CONTAINER (save_single_dialog), 10);

  save_single_dialog_ok_button = GTK_FILE_SELECTION (save_single_dialog)->ok_button;
  gtk_object_set_data (GTK_OBJECT (save_single_dialog), "save_single_dialog_ok_button", save_single_dialog_ok_button);
  gtk_widget_show (save_single_dialog_ok_button);
  GTK_WIDGET_SET_FLAGS (save_single_dialog_ok_button, GTK_CAN_DEFAULT);

  save_single_dialog_cancel_button = GTK_FILE_SELECTION (save_single_dialog)->cancel_button;
  gtk_object_set_data (GTK_OBJECT (save_single_dialog), "save_single_dialog_cancel_button", save_single_dialog_cancel_button);
  gtk_widget_show (save_single_dialog_cancel_button);
  GTK_WIDGET_SET_FLAGS (save_single_dialog_cancel_button, GTK_CAN_DEFAULT);

  gtk_signal_connect (GTK_OBJECT (save_single_dialog), "delete_event",
                      GTK_SIGNAL_FUNC (on_save_single_dialog_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (save_single_dialog_ok_button), "clicked",
                      GTK_SIGNAL_FUNC (on_save_single_dialog_ok_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (save_single_dialog_cancel_button), "clicked",
                      GTK_SIGNAL_FUNC (on_save_single_dialog_cancel_clicked),
                      NULL);

  return save_single_dialog;
}

GtkWidget*
create_capture_multi_dialog (void)
{
  GtkWidget *capture_multi_dialog;
  GtkWidget *capture_multi_dialog_ok_button;
  GtkWidget *capture_multi_dialog_cancel_button;

  capture_multi_dialog = gtk_file_selection_new (_("Save Multiple Frames"));
  gtk_object_set_data (GTK_OBJECT (capture_multi_dialog), "capture_multi_dialog", capture_multi_dialog);
  gtk_container_set_border_width (GTK_CONTAINER (capture_multi_dialog), 10);

  capture_multi_dialog_ok_button = GTK_FILE_SELECTION (capture_multi_dialog)->ok_button;
  gtk_object_set_data (GTK_OBJECT (capture_multi_dialog), "capture_multi_dialog_ok_button", capture_multi_dialog_ok_button);
  gtk_widget_show (capture_multi_dialog_ok_button);
  GTK_WIDGET_SET_FLAGS (capture_multi_dialog_ok_button, GTK_CAN_DEFAULT);

  capture_multi_dialog_cancel_button = GTK_FILE_SELECTION (capture_multi_dialog)->cancel_button;
  gtk_object_set_data (GTK_OBJECT (capture_multi_dialog), "capture_multi_dialog_cancel_button", capture_multi_dialog_cancel_button);
  gtk_widget_show (capture_multi_dialog_cancel_button);
  GTK_WIDGET_SET_FLAGS (capture_multi_dialog_cancel_button, GTK_CAN_DEFAULT);

  gtk_signal_connect (GTK_OBJECT (capture_multi_dialog), "delete_event",
                      GTK_SIGNAL_FUNC (on_capture_multi_dialog_delete_event),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capture_multi_dialog_ok_button), "clicked",
                      GTK_SIGNAL_FUNC (on_capture_multi_dialog_ok_clicked),
                      NULL);
  gtk_signal_connect (GTK_OBJECT (capture_multi_dialog_cancel_button), "clicked",
                      GTK_SIGNAL_FUNC (on_capture_multi_dialog_cancel_clicked),
                      NULL);

  return capture_multi_dialog;
}

